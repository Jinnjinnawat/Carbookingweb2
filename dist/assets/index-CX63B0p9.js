(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function lu(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var qf={exports:{}},Al={},Kf={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uy;function BR(){if(Uy)return je;Uy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function I($){return $===null||typeof $!="object"?null:($=w&&$[w]||$["@@iterator"],typeof $=="function"?$:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,V={};function k($,X,ue){this.props=$,this.context=X,this.refs=V,this.updater=ue||A}k.prototype.isReactComponent={},k.prototype.setState=function($,X){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,X,"setState")},k.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function j(){}j.prototype=k.prototype;function q($,X,ue){this.props=$,this.context=X,this.refs=V,this.updater=ue||A}var B=q.prototype=new j;B.constructor=q,x(B,k.prototype),B.isPureReactComponent=!0;var K=Array.isArray,J=Object.prototype.hasOwnProperty,Y={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function R($,X,ue){var de,Ee={},we=null,Ve=null;if(X!=null)for(de in X.ref!==void 0&&(Ve=X.ref),X.key!==void 0&&(we=""+X.key),X)J.call(X,de)&&!b.hasOwnProperty(de)&&(Ee[de]=X[de]);var Ae=arguments.length-2;if(Ae===1)Ee.children=ue;else if(1<Ae){for(var Ue=Array(Ae),Je=0;Je<Ae;Je++)Ue[Je]=arguments[Je+2];Ee.children=Ue}if($&&$.defaultProps)for(de in Ae=$.defaultProps,Ae)Ee[de]===void 0&&(Ee[de]=Ae[de]);return{$$typeof:n,type:$,key:we,ref:Ve,props:Ee,_owner:Y.current}}function P($,X){return{$$typeof:n,type:$.type,key:X,ref:$.ref,props:$.props,_owner:$._owner}}function D($){return typeof $=="object"&&$!==null&&$.$$typeof===n}function L($){var X={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ue){return X[ue]})}var F=/\/+/g;function N($,X){return typeof $=="object"&&$!==null&&$.key!=null?L(""+$.key):X.toString(36)}function ke($,X,ue,de,Ee){var we=typeof $;(we==="undefined"||we==="boolean")&&($=null);var Ve=!1;if($===null)Ve=!0;else switch(we){case"string":case"number":Ve=!0;break;case"object":switch($.$$typeof){case n:case e:Ve=!0}}if(Ve)return Ve=$,Ee=Ee(Ve),$=de===""?"."+N(Ve,0):de,K(Ee)?(ue="",$!=null&&(ue=$.replace(F,"$&/")+"/"),ke(Ee,X,ue,"",function(Je){return Je})):Ee!=null&&(D(Ee)&&(Ee=P(Ee,ue+(!Ee.key||Ve&&Ve.key===Ee.key?"":(""+Ee.key).replace(F,"$&/")+"/")+$)),X.push(Ee)),1;if(Ve=0,de=de===""?".":de+":",K($))for(var Ae=0;Ae<$.length;Ae++){we=$[Ae];var Ue=de+N(we,Ae);Ve+=ke(we,X,ue,Ue,Ee)}else if(Ue=I($),typeof Ue=="function")for($=Ue.call($),Ae=0;!(we=$.next()).done;)we=we.value,Ue=de+N(we,Ae++),Ve+=ke(we,X,ue,Ue,Ee);else if(we==="object")throw X=String($),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Ve}function Le($,X,ue){if($==null)return $;var de=[],Ee=0;return ke($,de,"","",function(we){return X.call(ue,we,Ee++)}),de}function be($){if($._status===-1){var X=$._result;X=X(),X.then(function(ue){($._status===0||$._status===-1)&&($._status=1,$._result=ue)},function(ue){($._status===0||$._status===-1)&&($._status=2,$._result=ue)}),$._status===-1&&($._status=0,$._result=X)}if($._status===1)return $._result.default;throw $._result}var ve={current:null},ee={transition:null},le={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:ee,ReactCurrentOwner:Y};function se(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:Le,forEach:function($,X,ue){Le($,function(){X.apply(this,arguments)},ue)},count:function($){var X=0;return Le($,function(){X++}),X},toArray:function($){return Le($,function(X){return X})||[]},only:function($){if(!D($))throw Error("React.Children.only expected to receive a single React element child.");return $}},je.Component=k,je.Fragment=t,je.Profiler=s,je.PureComponent=q,je.StrictMode=r,je.Suspense=f,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,je.act=se,je.cloneElement=function($,X,ue){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var de=x({},$.props),Ee=$.key,we=$.ref,Ve=$._owner;if(X!=null){if(X.ref!==void 0&&(we=X.ref,Ve=Y.current),X.key!==void 0&&(Ee=""+X.key),$.type&&$.type.defaultProps)var Ae=$.type.defaultProps;for(Ue in X)J.call(X,Ue)&&!b.hasOwnProperty(Ue)&&(de[Ue]=X[Ue]===void 0&&Ae!==void 0?Ae[Ue]:X[Ue])}var Ue=arguments.length-2;if(Ue===1)de.children=ue;else if(1<Ue){Ae=Array(Ue);for(var Je=0;Je<Ue;Je++)Ae[Je]=arguments[Je+2];de.children=Ae}return{$$typeof:n,type:$.type,key:Ee,ref:we,props:de,_owner:Ve}},je.createContext=function($){return $={$$typeof:u,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:a,_context:$},$.Consumer=$},je.createElement=R,je.createFactory=function($){var X=R.bind(null,$);return X.type=$,X},je.createRef=function(){return{current:null}},je.forwardRef=function($){return{$$typeof:d,render:$}},je.isValidElement=D,je.lazy=function($){return{$$typeof:y,_payload:{_status:-1,_result:$},_init:be}},je.memo=function($,X){return{$$typeof:m,type:$,compare:X===void 0?null:X}},je.startTransition=function($){var X=ee.transition;ee.transition={};try{$()}finally{ee.transition=X}},je.unstable_act=se,je.useCallback=function($,X){return ve.current.useCallback($,X)},je.useContext=function($){return ve.current.useContext($)},je.useDebugValue=function(){},je.useDeferredValue=function($){return ve.current.useDeferredValue($)},je.useEffect=function($,X){return ve.current.useEffect($,X)},je.useId=function(){return ve.current.useId()},je.useImperativeHandle=function($,X,ue){return ve.current.useImperativeHandle($,X,ue)},je.useInsertionEffect=function($,X){return ve.current.useInsertionEffect($,X)},je.useLayoutEffect=function($,X){return ve.current.useLayoutEffect($,X)},je.useMemo=function($,X){return ve.current.useMemo($,X)},je.useReducer=function($,X,ue){return ve.current.useReducer($,X,ue)},je.useRef=function($){return ve.current.useRef($)},je.useState=function($){return ve.current.useState($)},je.useSyncExternalStore=function($,X,ue){return ve.current.useSyncExternalStore($,X,ue)},je.useTransition=function(){return ve.current.useTransition()},je.version="18.3.1",je}var $y;function lm(){return $y||($y=1,Kf.exports=BR()),Kf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By;function zR(){if(By)return Al;By=1;var n=lm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,m){var y,w={},I=null,A=null;m!==void 0&&(I=""+m),f.key!==void 0&&(I=""+f.key),f.ref!==void 0&&(A=f.ref);for(y in f)r.call(f,y)&&!a.hasOwnProperty(y)&&(w[y]=f[y]);if(d&&d.defaultProps)for(y in f=d.defaultProps,f)w[y]===void 0&&(w[y]=f[y]);return{$$typeof:e,type:d,key:I,ref:A,props:w,_owner:s.current}}return Al.Fragment=t,Al.jsx=u,Al.jsxs=u,Al}var zy;function HR(){return zy||(zy=1,qf.exports=zR()),qf.exports}var C=HR(),E=lm();const nn=lu(E);var Bc={},Gf={exports:{}},En={},Qf={exports:{}},Xf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy;function WR(){return Hy||(Hy=1,function(n){function e(ee,le){var se=ee.length;ee.push(le);e:for(;0<se;){var $=se-1>>>1,X=ee[$];if(0<s(X,le))ee[$]=le,ee[se]=X,se=$;else break e}}function t(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var le=ee[0],se=ee.pop();if(se!==le){ee[0]=se;e:for(var $=0,X=ee.length,ue=X>>>1;$<ue;){var de=2*($+1)-1,Ee=ee[de],we=de+1,Ve=ee[we];if(0>s(Ee,se))we<X&&0>s(Ve,Ee)?(ee[$]=Ve,ee[we]=se,$=we):(ee[$]=Ee,ee[de]=se,$=de);else if(we<X&&0>s(Ve,se))ee[$]=Ve,ee[we]=se,$=we;else break e}}return le}function s(ee,le){var se=ee.sortIndex-le.sortIndex;return se!==0?se:ee.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],m=[],y=1,w=null,I=3,A=!1,x=!1,V=!1,k=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(ee){for(var le=t(m);le!==null;){if(le.callback===null)r(m);else if(le.startTime<=ee)r(m),le.sortIndex=le.expirationTime,e(f,le);else break;le=t(m)}}function K(ee){if(V=!1,B(ee),!x)if(t(f)!==null)x=!0,be(J);else{var le=t(m);le!==null&&ve(K,le.startTime-ee)}}function J(ee,le){x=!1,V&&(V=!1,j(R),R=-1),A=!0;var se=I;try{for(B(le),w=t(f);w!==null&&(!(w.expirationTime>le)||ee&&!L());){var $=w.callback;if(typeof $=="function"){w.callback=null,I=w.priorityLevel;var X=$(w.expirationTime<=le);le=n.unstable_now(),typeof X=="function"?w.callback=X:w===t(f)&&r(f),B(le)}else r(f);w=t(f)}if(w!==null)var ue=!0;else{var de=t(m);de!==null&&ve(K,de.startTime-le),ue=!1}return ue}finally{w=null,I=se,A=!1}}var Y=!1,b=null,R=-1,P=5,D=-1;function L(){return!(n.unstable_now()-D<P)}function F(){if(b!==null){var ee=n.unstable_now();D=ee;var le=!0;try{le=b(!0,ee)}finally{le?N():(Y=!1,b=null)}}else Y=!1}var N;if(typeof q=="function")N=function(){q(F)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,Le=ke.port2;ke.port1.onmessage=F,N=function(){Le.postMessage(null)}}else N=function(){k(F,0)};function be(ee){b=ee,Y||(Y=!0,N())}function ve(ee,le){R=k(function(){ee(n.unstable_now())},le)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ee){ee.callback=null},n.unstable_continueExecution=function(){x||A||(x=!0,be(J))},n.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ee?Math.floor(1e3/ee):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(ee){switch(I){case 1:case 2:case 3:var le=3;break;default:le=I}var se=I;I=le;try{return ee()}finally{I=se}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ee,le){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var se=I;I=ee;try{return le()}finally{I=se}},n.unstable_scheduleCallback=function(ee,le,se){var $=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?$+se:$):se=$,ee){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=se+X,ee={id:y++,callback:le,priorityLevel:ee,startTime:se,expirationTime:X,sortIndex:-1},se>$?(ee.sortIndex=se,e(m,ee),t(f)===null&&ee===t(m)&&(V?(j(R),R=-1):V=!0,ve(K,se-$))):(ee.sortIndex=X,e(f,ee),x||A||(x=!0,be(J))),ee},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(ee){var le=I;return function(){var se=I;I=le;try{return ee.apply(this,arguments)}finally{I=se}}}}(Xf)),Xf}var Wy;function qR(){return Wy||(Wy=1,Qf.exports=WR()),Qf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qy;function KR(){if(qy)return En;qy=1;var n=lm(),e=qR();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function I(i){return f.call(w,i)?!0:f.call(y,i)?!1:m.test(i)?w[i]=!0:(y[i]=!0,!1)}function A(i,o,l,h){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function x(i,o,l,h){if(o===null||typeof o>"u"||A(i,o,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function V(i,o,l,h,p,v,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=T}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){k[i]=new V(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];k[o]=new V(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){k[i]=new V(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){k[i]=new V(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){k[i]=new V(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){k[i]=new V(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){k[i]=new V(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){k[i]=new V(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){k[i]=new V(i,5,!1,i.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function q(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(j,q);k[o]=new V(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(j,q);k[o]=new V(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(j,q);k[o]=new V(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){k[i]=new V(i,1,!1,i.toLowerCase(),null,!1,!1)}),k.xlinkHref=new V("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){k[i]=new V(i,1,!1,i.toLowerCase(),null,!0,!0)});function B(i,o,l,h){var p=k.hasOwnProperty(o)?k[o]:null;(p!==null?p.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(x(o,l,p,h)&&(l=null),h||p===null?I(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):p.mustUseProperty?i[p.propertyName]=l===null?p.type===3?!1:"":l:(o=p.attributeName,h=p.attributeNamespace,l===null?i.removeAttribute(o):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,h?i.setAttributeNS(h,o,l):i.setAttribute(o,l))))}var K=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),Y=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),L=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),Le=Symbol.for("react.memo"),be=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),ee=Symbol.iterator;function le(i){return i===null||typeof i!="object"?null:(i=ee&&i[ee]||i["@@iterator"],typeof i=="function"?i:null)}var se=Object.assign,$;function X(i){if($===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);$=o&&o[1]||""}return`
`+$+i}var ue=!1;function de(i,o){if(!i||ue)return"";ue=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(G){var h=G}Reflect.construct(i,[],o)}else{try{o.call()}catch(G){h=G}i.call(o.prototype)}else{try{throw Error()}catch(G){h=G}i()}}catch(G){if(G&&h&&typeof G.stack=="string"){for(var p=G.stack.split(`
`),v=h.stack.split(`
`),T=p.length-1,O=v.length-1;1<=T&&0<=O&&p[T]!==v[O];)O--;for(;1<=T&&0<=O;T--,O--)if(p[T]!==v[O]){if(T!==1||O!==1)do if(T--,O--,0>O||p[T]!==v[O]){var M=`
`+p[T].replace(" at new "," at ");return i.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",i.displayName)),M}while(1<=T&&0<=O);break}}}finally{ue=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?X(i):""}function Ee(i){switch(i.tag){case 5:return X(i.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return i=de(i.type,!1),i;case 11:return i=de(i.type.render,!1),i;case 1:return i=de(i.type,!0),i;default:return""}}function we(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case b:return"Fragment";case Y:return"Portal";case P:return"Profiler";case R:return"StrictMode";case N:return"Suspense";case ke:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case L:return(i.displayName||"Context")+".Consumer";case D:return(i._context.displayName||"Context")+".Provider";case F:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Le:return o=i.displayName||null,o!==null?o:we(i.type)||"Memo";case be:o=i._payload,i=i._init;try{return we(i(o))}catch{}}return null}function Ve(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(o);case 8:return o===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ae(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ue(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Je(i){var o=Ue(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),h=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,v=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return p.call(this)},set:function(T){h=""+T,v.call(this,T)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function et(i){i._valueTracker||(i._valueTracker=Je(i))}function pt(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),h="";return i&&(h=Ue(i)?i.checked?"true":"false":i.value),i=h,i!==l?(o.setValue(i),!0):!1}function Rt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function jt(i,o){var l=o.checked;return se({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Fe(i,o){var l=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;l=Ae(o.value!=null?o.value:l),i._wrapperState={initialChecked:h,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function An(i,o){o=o.checked,o!=null&&B(i,"checked",o,!1)}function dn(i,o){An(i,o);var l=Ae(o.value),h=o.type;if(l!=null)h==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?_r(i,o.type,l):o.hasOwnProperty("defaultValue")&&_r(i,o.type,Ae(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Si(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function _r(i,o,l){(o!=="number"||Rt(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var Ct=Array.isArray;function Kt(i,o,l,h){if(i=i.options,o){o={};for(var p=0;p<l.length;p++)o["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=o.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&h&&(i[l].defaultSelected=!0)}else{for(l=""+Ae(l),o=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,h&&(i[p].defaultSelected=!0);return}o!==null||i[p].disabled||(o=i[p])}o!==null&&(o.selected=!0)}}function wr(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function jn(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(Ct(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:Ae(l)}}function sn(i,o){var l=Ae(o.value),h=Ae(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),h!=null&&(i.defaultValue=""+h)}function Zn(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function ot(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function at(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?ot(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var fn,Ri=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,h,p){MSApp.execUnsafeLocalFunction(function(){return i(o,l,h,p)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(fn=fn||document.createElement("div"),fn.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=fn.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Un(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var Er={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ce=["Webkit","ms","Moz","O"];Object.keys(Er).forEach(function(i){Ce.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Er[o]=Er[i]})});function Ge(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||Er.hasOwnProperty(i)&&Er[i]?(""+o).trim():o+"px"}function on(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var h=l.indexOf("--")===0,p=Ge(l,o[l],h);l==="float"&&(l="cssFloat"),h?i.setProperty(l,p):i[l]=p}}var er=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Is(i,o){if(o){if(er[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Ba(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ss=null;function yo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var _o=null,$n=null,Tr=null;function wo(i){if(i=dl(i)){if(typeof _o!="function")throw Error(t(280));var o=i.stateNode;o&&(o=rc(o),_o(i.stateNode,i.type,o))}}function Ir(i){$n?Tr?Tr.push(i):Tr=[i]:$n=i}function za(){if($n){var i=$n,o=Tr;if(Tr=$n=null,wo(i),o)for(i=0;i<o.length;i++)wo(o[i])}}function Rs(i,o){return i(o)}function Ha(){}var Kr=!1;function Wa(i,o,l){if(Kr)return i(o,l);Kr=!0;try{return Rs(i,o,l)}finally{Kr=!1,($n!==null||Tr!==null)&&(Ha(),za())}}function gt(i,o){var l=i.stateNode;if(l===null)return null;var h=rc(l);if(h===null)return null;l=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var Eo=!1;if(d)try{var tr={};Object.defineProperty(tr,"passive",{get:function(){Eo=!0}}),window.addEventListener("test",tr,tr),window.removeEventListener("test",tr,tr)}catch{Eo=!1}function Cs(i,o,l,h,p,v,T,O,M){var G=Array.prototype.slice.call(arguments,3);try{o.apply(l,G)}catch(re){this.onError(re)}}var As=!1,To=null,nr=!1,qa=null,_d={onError:function(i){As=!0,To=i}};function Io(i,o,l,h,p,v,T,O,M){As=!1,To=null,Cs.apply(_d,arguments)}function xu(i,o,l,h,p,v,T,O,M){if(Io.apply(this,arguments),As){if(As){var G=To;As=!1,To=null}else throw Error(t(198));nr||(nr=!0,qa=G)}}function rr(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function xs(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function ir(i){if(rr(i)!==i)throw Error(t(188))}function ku(i){var o=i.alternate;if(!o){if(o=rr(i),o===null)throw Error(t(188));return o!==i?null:i}for(var l=i,h=o;;){var p=l.return;if(p===null)break;var v=p.alternate;if(v===null){if(h=p.return,h!==null){l=h;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===l)return ir(p),i;if(v===h)return ir(p),o;v=v.sibling}throw Error(t(188))}if(l.return!==h.return)l=p,h=v;else{for(var T=!1,O=p.child;O;){if(O===l){T=!0,l=p,h=v;break}if(O===h){T=!0,h=p,l=v;break}O=O.sibling}if(!T){for(O=v.child;O;){if(O===l){T=!0,l=v,h=p;break}if(O===h){T=!0,h=v,l=p;break}O=O.sibling}if(!T)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:o}function Ka(i){return i=ku(i),i!==null?So(i):null}function So(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=So(i);if(o!==null)return o;i=i.sibling}return null}var Ro=e.unstable_scheduleCallback,Ga=e.unstable_cancelCallback,Pu=e.unstable_shouldYield,wd=e.unstable_requestPaint,tt=e.unstable_now,Nu=e.unstable_getCurrentPriorityLevel,ks=e.unstable_ImmediatePriority,Ci=e.unstable_UserBlockingPriority,Bn=e.unstable_NormalPriority,Qa=e.unstable_LowPriority,bu=e.unstable_IdlePriority,Ps=null,xn=null;function Ou(i){if(xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(Ps,i,void 0,(i.current.flags&128)===128)}catch{}}var an=Math.clz32?Math.clz32:Lu,Xa=Math.log,Du=Math.LN2;function Lu(i){return i>>>=0,i===0?32:31-(Xa(i)/Du|0)|0}var Co=64,Ao=4194304;function Ai(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Ns(i,o){var l=i.pendingLanes;if(l===0)return 0;var h=0,p=i.suspendedLanes,v=i.pingedLanes,T=l&268435455;if(T!==0){var O=T&~p;O!==0?h=Ai(O):(v&=T,v!==0&&(h=Ai(v)))}else T=l&~p,T!==0?h=Ai(T):v!==0&&(h=Ai(v));if(h===0)return 0;if(o!==0&&o!==h&&(o&p)===0&&(p=h&-h,v=o&-o,p>=v||p===16&&(v&4194240)!==0))return o;if((h&4)!==0&&(h|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=h;0<o;)l=31-an(o),p=1<<l,h|=i[l],o&=~p;return h}function Ed(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gr(i,o){for(var l=i.suspendedLanes,h=i.pingedLanes,p=i.expirationTimes,v=i.pendingLanes;0<v;){var T=31-an(v),O=1<<T,M=p[T];M===-1?((O&l)===0||(O&h)!==0)&&(p[T]=Ed(O,o)):M<=o&&(i.expiredLanes|=O),v&=~O}}function kn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function bs(){var i=Co;return Co<<=1,(Co&4194240)===0&&(Co=64),i}function xi(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function ki(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-an(o),i[o]=l}function Ze(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<l;){var p=31-an(l),v=1<<p;o[p]=0,h[p]=-1,i[p]=-1,l&=~v}}function Pi(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var h=31-an(l),p=1<<h;p&o|i[h]&o&&(i[h]|=o),l&=~p}}var ze=0;function Ni(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Vu,xo,Mu,Fu,ju,Ya=!1,Sr=[],Ut=null,sr=null,or=null,bi=new Map,zn=new Map,Rr=[],Td="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uu(i,o){switch(i){case"focusin":case"focusout":Ut=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":bi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":zn.delete(o.pointerId)}}function pn(i,o,l,h,p,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:l,eventSystemFlags:h,nativeEvent:v,targetContainers:[p]},o!==null&&(o=dl(o),o!==null&&xo(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),i)}function Id(i,o,l,h,p){switch(o){case"focusin":return Ut=pn(Ut,i,o,l,h,p),!0;case"dragenter":return sr=pn(sr,i,o,l,h,p),!0;case"mouseover":return or=pn(or,i,o,l,h,p),!0;case"pointerover":var v=p.pointerId;return bi.set(v,pn(bi.get(v)||null,i,o,l,h,p)),!0;case"gotpointercapture":return v=p.pointerId,zn.set(v,pn(zn.get(v)||null,i,o,l,h,p)),!0}return!1}function $u(i){var o=Ms(i.target);if(o!==null){var l=rr(o);if(l!==null){if(o=l.tag,o===13){if(o=xs(l),o!==null){i.blockedOn=o,ju(i.priority,function(){Mu(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Qr(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=ko(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);Ss=h,l.target.dispatchEvent(h),Ss=null}else return o=dl(l),o!==null&&xo(o),i.blockedOn=l,!1;o.shift()}return!0}function Os(i,o,l){Qr(i)&&l.delete(o)}function Bu(){Ya=!1,Ut!==null&&Qr(Ut)&&(Ut=null),sr!==null&&Qr(sr)&&(sr=null),or!==null&&Qr(or)&&(or=null),bi.forEach(Os),zn.forEach(Os)}function ar(i,o){i.blockedOn===o&&(i.blockedOn=null,Ya||(Ya=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Bu)))}function lr(i){function o(p){return ar(p,i)}if(0<Sr.length){ar(Sr[0],i);for(var l=1;l<Sr.length;l++){var h=Sr[l];h.blockedOn===i&&(h.blockedOn=null)}}for(Ut!==null&&ar(Ut,i),sr!==null&&ar(sr,i),or!==null&&ar(or,i),bi.forEach(o),zn.forEach(o),l=0;l<Rr.length;l++)h=Rr[l],h.blockedOn===i&&(h.blockedOn=null);for(;0<Rr.length&&(l=Rr[0],l.blockedOn===null);)$u(l),l.blockedOn===null&&Rr.shift()}var Xr=K.ReactCurrentBatchConfig,Oi=!0;function lt(i,o,l,h){var p=ze,v=Xr.transition;Xr.transition=null;try{ze=1,Ja(i,o,l,h)}finally{ze=p,Xr.transition=v}}function Sd(i,o,l,h){var p=ze,v=Xr.transition;Xr.transition=null;try{ze=4,Ja(i,o,l,h)}finally{ze=p,Xr.transition=v}}function Ja(i,o,l,h){if(Oi){var p=ko(i,o,l,h);if(p===null)Ld(i,o,h,Ds,l),Uu(i,h);else if(Id(p,i,o,l,h))h.stopPropagation();else if(Uu(i,h),o&4&&-1<Td.indexOf(i)){for(;p!==null;){var v=dl(p);if(v!==null&&Vu(v),v=ko(i,o,l,h),v===null&&Ld(i,o,h,Ds,l),v===p)break;p=v}p!==null&&h.stopPropagation()}else Ld(i,o,h,null,l)}}var Ds=null;function ko(i,o,l,h){if(Ds=null,i=yo(h),i=Ms(i),i!==null)if(o=rr(i),o===null)i=null;else if(l=o.tag,l===13){if(i=xs(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Ds=i,null}function Za(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nu()){case ks:return 1;case Ci:return 4;case Bn:case Qa:return 16;case bu:return 536870912;default:return 16}default:return 16}}var Pn=null,Po=null,mn=null;function el(){if(mn)return mn;var i,o=Po,l=o.length,h,p="value"in Pn?Pn.value:Pn.textContent,v=p.length;for(i=0;i<l&&o[i]===p[i];i++);var T=l-i;for(h=1;h<=T&&o[l-h]===p[v-h];h++);return mn=p.slice(i,1<h?1-h:void 0)}function No(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Cr(){return!0}function tl(){return!1}function $t(i){function o(l,h,p,v,T){this._reactName=l,this._targetInst=p,this.type=h,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var O in i)i.hasOwnProperty(O)&&(l=i[O],this[O]=l?l(v):v[O]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Cr:tl,this.isPropagationStopped=tl,this}return se(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Cr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Cr)},persist:function(){},isPersistent:Cr}),o}var ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bo=$t(ur),Ar=se({},ur,{view:0,detail:0}),Rd=$t(Ar),Oo,Yr,Di,Ls=se({},Ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Di&&(Di&&i.type==="mousemove"?(Oo=i.screenX-Di.screenX,Yr=i.screenY-Di.screenY):Yr=Oo=0,Di=i),Oo)},movementY:function(i){return"movementY"in i?i.movementY:Yr}}),Do=$t(Ls),nl=se({},Ls,{dataTransfer:0}),zu=$t(nl),Lo=se({},Ar,{relatedTarget:0}),Vo=$t(Lo),Hu=se({},ur,{animationName:0,elapsedTime:0,pseudoElement:0}),Jr=$t(Hu),Wu=se({},ur,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),qu=$t(Wu),Ku=se({},ur,{data:0}),rl=$t(Ku),Mo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ln={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qu(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Gu[i])?!!o[i]:!1}function xr(){return Qu}var c=se({},Ar,{key:function(i){if(i.key){var o=Mo[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=No(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ln[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xr,charCode:function(i){return i.type==="keypress"?No(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?No(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),g=$t(c),_=se({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=$t(_),z=se({},Ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xr}),Q=$t(z),ae=se({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ye=$t(ae),At=se({},Ls,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),We=$t(At),bt=[9,13,27,32],_t=d&&"CompositionEvent"in window,Hn=null;d&&"documentMode"in document&&(Hn=document.documentMode);var Nn=d&&"TextEvent"in window&&!Hn,Vs=d&&(!_t||Hn&&8<Hn&&11>=Hn),Fo=" ",Dg=!1;function Lg(i,o){switch(i){case"keyup":return bt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var jo=!1;function jS(i,o){switch(i){case"compositionend":return Vg(o);case"keypress":return o.which!==32?null:(Dg=!0,Fo);case"textInput":return i=o.data,i===Fo&&Dg?null:i;default:return null}}function US(i,o){if(jo)return i==="compositionend"||!_t&&Lg(i,o)?(i=el(),mn=Po=Pn=null,jo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Vs&&o.locale!=="ko"?null:o.data;default:return null}}var $S={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mg(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!$S[i.type]:o==="textarea"}function Fg(i,o,l,h){Ir(h),o=ec(o,"onChange"),0<o.length&&(l=new bo("onChange","change",null,l,h),i.push({event:l,listeners:o}))}var il=null,sl=null;function BS(i){nv(i,0)}function Xu(i){var o=Ho(i);if(pt(o))return i}function zS(i,o){if(i==="change")return o}var jg=!1;if(d){var Cd;if(d){var Ad="oninput"in document;if(!Ad){var Ug=document.createElement("div");Ug.setAttribute("oninput","return;"),Ad=typeof Ug.oninput=="function"}Cd=Ad}else Cd=!1;jg=Cd&&(!document.documentMode||9<document.documentMode)}function $g(){il&&(il.detachEvent("onpropertychange",Bg),sl=il=null)}function Bg(i){if(i.propertyName==="value"&&Xu(sl)){var o=[];Fg(o,sl,i,yo(i)),Wa(BS,o)}}function HS(i,o,l){i==="focusin"?($g(),il=o,sl=l,il.attachEvent("onpropertychange",Bg)):i==="focusout"&&$g()}function WS(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Xu(sl)}function qS(i,o){if(i==="click")return Xu(o)}function KS(i,o){if(i==="input"||i==="change")return Xu(o)}function GS(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var cr=typeof Object.is=="function"?Object.is:GS;function ol(i,o){if(cr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),h=Object.keys(o);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var p=l[h];if(!f.call(o,p)||!cr(i[p],o[p]))return!1}return!0}function zg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Hg(i,o){var l=zg(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=o&&h>=o)return{node:l,offset:o-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=zg(l)}}function Wg(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Wg(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function qg(){for(var i=window,o=Rt();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=Rt(i.document)}return o}function xd(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function QS(i){var o=qg(),l=i.focusedElem,h=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&Wg(l.ownerDocument.documentElement,l)){if(h!==null&&xd(l)){if(o=h.start,i=h.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var p=l.textContent.length,v=Math.min(h.start,p);h=h.end===void 0?v:Math.min(h.end,p),!i.extend&&v>h&&(p=h,h=v,v=p),p=Hg(l,v);var T=Hg(l,h);p&&T&&(i.rangeCount!==1||i.anchorNode!==p.node||i.anchorOffset!==p.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(p.node,p.offset),i.removeAllRanges(),v>h?(i.addRange(o),i.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var XS=d&&"documentMode"in document&&11>=document.documentMode,Uo=null,kd=null,al=null,Pd=!1;function Kg(i,o,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Pd||Uo==null||Uo!==Rt(h)||(h=Uo,"selectionStart"in h&&xd(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),al&&ol(al,h)||(al=h,h=ec(kd,"onSelect"),0<h.length&&(o=new bo("onSelect","select",null,o,l),i.push({event:o,listeners:h}),o.target=Uo)))}function Yu(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var $o={animationend:Yu("Animation","AnimationEnd"),animationiteration:Yu("Animation","AnimationIteration"),animationstart:Yu("Animation","AnimationStart"),transitionend:Yu("Transition","TransitionEnd")},Nd={},Gg={};d&&(Gg=document.createElement("div").style,"AnimationEvent"in window||(delete $o.animationend.animation,delete $o.animationiteration.animation,delete $o.animationstart.animation),"TransitionEvent"in window||delete $o.transitionend.transition);function Ju(i){if(Nd[i])return Nd[i];if(!$o[i])return i;var o=$o[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in Gg)return Nd[i]=o[l];return i}var Qg=Ju("animationend"),Xg=Ju("animationiteration"),Yg=Ju("animationstart"),Jg=Ju("transitionend"),Zg=new Map,ev="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Li(i,o){Zg.set(i,o),a(o,[i])}for(var bd=0;bd<ev.length;bd++){var Od=ev[bd],YS=Od.toLowerCase(),JS=Od[0].toUpperCase()+Od.slice(1);Li(YS,"on"+JS)}Li(Qg,"onAnimationEnd"),Li(Xg,"onAnimationIteration"),Li(Yg,"onAnimationStart"),Li("dblclick","onDoubleClick"),Li("focusin","onFocus"),Li("focusout","onBlur"),Li(Jg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZS=new Set("cancel close invalid load scroll toggle".split(" ").concat(ll));function tv(i,o,l){var h=i.type||"unknown-event";i.currentTarget=l,xu(h,o,void 0,i),i.currentTarget=null}function nv(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],p=h.event;h=h.listeners;e:{var v=void 0;if(o)for(var T=h.length-1;0<=T;T--){var O=h[T],M=O.instance,G=O.currentTarget;if(O=O.listener,M!==v&&p.isPropagationStopped())break e;tv(p,O,G),v=M}else for(T=0;T<h.length;T++){if(O=h[T],M=O.instance,G=O.currentTarget,O=O.listener,M!==v&&p.isPropagationStopped())break e;tv(p,O,G),v=M}}}if(nr)throw i=qa,nr=!1,qa=null,i}function rt(i,o){var l=o[$d];l===void 0&&(l=o[$d]=new Set);var h=i+"__bubble";l.has(h)||(rv(o,i,2,!1),l.add(h))}function Dd(i,o,l){var h=0;o&&(h|=4),rv(l,i,h,o)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function ul(i){if(!i[Zu]){i[Zu]=!0,r.forEach(function(l){l!=="selectionchange"&&(ZS.has(l)||Dd(l,!1,i),Dd(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Zu]||(o[Zu]=!0,Dd("selectionchange",!1,o))}}function rv(i,o,l,h){switch(Za(o)){case 1:var p=lt;break;case 4:p=Sd;break;default:p=Ja}l=p.bind(null,o,l,i),p=void 0,!Eo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),h?p!==void 0?i.addEventListener(o,l,{capture:!0,passive:p}):i.addEventListener(o,l,!0):p!==void 0?i.addEventListener(o,l,{passive:p}):i.addEventListener(o,l,!1)}function Ld(i,o,l,h,p){var v=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var O=h.stateNode.containerInfo;if(O===p||O.nodeType===8&&O.parentNode===p)break;if(T===4)for(T=h.return;T!==null;){var M=T.tag;if((M===3||M===4)&&(M=T.stateNode.containerInfo,M===p||M.nodeType===8&&M.parentNode===p))return;T=T.return}for(;O!==null;){if(T=Ms(O),T===null)return;if(M=T.tag,M===5||M===6){h=v=T;continue e}O=O.parentNode}}h=h.return}Wa(function(){var G=v,re=yo(l),ie=[];e:{var ne=Zg.get(i);if(ne!==void 0){var ce=bo,pe=i;switch(i){case"keypress":if(No(l)===0)break e;case"keydown":case"keyup":ce=g;break;case"focusin":pe="focus",ce=Vo;break;case"focusout":pe="blur",ce=Vo;break;case"beforeblur":case"afterblur":ce=Vo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=Do;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=zu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=Q;break;case Qg:case Xg:case Yg:ce=Jr;break;case Jg:ce=Ye;break;case"scroll":ce=Rd;break;case"wheel":ce=We;break;case"copy":case"cut":case"paste":ce=qu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=S}var ge=(o&4)!==0,vt=!ge&&i==="scroll",H=ge?ne!==null?ne+"Capture":null:ne;ge=[];for(var U=G,W;U!==null;){W=U;var oe=W.stateNode;if(W.tag===5&&oe!==null&&(W=oe,H!==null&&(oe=gt(U,H),oe!=null&&ge.push(cl(U,oe,W)))),vt)break;U=U.return}0<ge.length&&(ne=new ce(ne,pe,null,l,re),ie.push({event:ne,listeners:ge}))}}if((o&7)===0){e:{if(ne=i==="mouseover"||i==="pointerover",ce=i==="mouseout"||i==="pointerout",ne&&l!==Ss&&(pe=l.relatedTarget||l.fromElement)&&(Ms(pe)||pe[Zr]))break e;if((ce||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,ce?(pe=l.relatedTarget||l.toElement,ce=G,pe=pe?Ms(pe):null,pe!==null&&(vt=rr(pe),pe!==vt||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(ce=null,pe=G),ce!==pe)){if(ge=Do,oe="onMouseLeave",H="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(ge=S,oe="onPointerLeave",H="onPointerEnter",U="pointer"),vt=ce==null?ne:Ho(ce),W=pe==null?ne:Ho(pe),ne=new ge(oe,U+"leave",ce,l,re),ne.target=vt,ne.relatedTarget=W,oe=null,Ms(re)===G&&(ge=new ge(H,U+"enter",pe,l,re),ge.target=W,ge.relatedTarget=vt,oe=ge),vt=oe,ce&&pe)t:{for(ge=ce,H=pe,U=0,W=ge;W;W=Bo(W))U++;for(W=0,oe=H;oe;oe=Bo(oe))W++;for(;0<U-W;)ge=Bo(ge),U--;for(;0<W-U;)H=Bo(H),W--;for(;U--;){if(ge===H||H!==null&&ge===H.alternate)break t;ge=Bo(ge),H=Bo(H)}ge=null}else ge=null;ce!==null&&iv(ie,ne,ce,ge,!1),pe!==null&&vt!==null&&iv(ie,vt,pe,ge,!0)}}e:{if(ne=G?Ho(G):window,ce=ne.nodeName&&ne.nodeName.toLowerCase(),ce==="select"||ce==="input"&&ne.type==="file")var ye=zS;else if(Mg(ne))if(jg)ye=KS;else{ye=WS;var Ie=HS}else(ce=ne.nodeName)&&ce.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(ye=qS);if(ye&&(ye=ye(i,G))){Fg(ie,ye,l,re);break e}Ie&&Ie(i,ne,G),i==="focusout"&&(Ie=ne._wrapperState)&&Ie.controlled&&ne.type==="number"&&_r(ne,"number",ne.value)}switch(Ie=G?Ho(G):window,i){case"focusin":(Mg(Ie)||Ie.contentEditable==="true")&&(Uo=Ie,kd=G,al=null);break;case"focusout":al=kd=Uo=null;break;case"mousedown":Pd=!0;break;case"contextmenu":case"mouseup":case"dragend":Pd=!1,Kg(ie,l,re);break;case"selectionchange":if(XS)break;case"keydown":case"keyup":Kg(ie,l,re)}var Se;if(_t)e:{switch(i){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else jo?Lg(i,l)&&(Pe="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Pe="onCompositionStart");Pe&&(Vs&&l.locale!=="ko"&&(jo||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&jo&&(Se=el()):(Pn=re,Po="value"in Pn?Pn.value:Pn.textContent,jo=!0)),Ie=ec(G,Pe),0<Ie.length&&(Pe=new rl(Pe,i,null,l,re),ie.push({event:Pe,listeners:Ie}),Se?Pe.data=Se:(Se=Vg(l),Se!==null&&(Pe.data=Se)))),(Se=Nn?jS(i,l):US(i,l))&&(G=ec(G,"onBeforeInput"),0<G.length&&(re=new rl("onBeforeInput","beforeinput",null,l,re),ie.push({event:re,listeners:G}),re.data=Se))}nv(ie,o)})}function cl(i,o,l){return{instance:i,listener:o,currentTarget:l}}function ec(i,o){for(var l=o+"Capture",h=[];i!==null;){var p=i,v=p.stateNode;p.tag===5&&v!==null&&(p=v,v=gt(i,l),v!=null&&h.unshift(cl(i,v,p)),v=gt(i,o),v!=null&&h.push(cl(i,v,p))),i=i.return}return h}function Bo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function iv(i,o,l,h,p){for(var v=o._reactName,T=[];l!==null&&l!==h;){var O=l,M=O.alternate,G=O.stateNode;if(M!==null&&M===h)break;O.tag===5&&G!==null&&(O=G,p?(M=gt(l,v),M!=null&&T.unshift(cl(l,M,O))):p||(M=gt(l,v),M!=null&&T.push(cl(l,M,O)))),l=l.return}T.length!==0&&i.push({event:o,listeners:T})}var eR=/\r\n?/g,tR=/\u0000|\uFFFD/g;function sv(i){return(typeof i=="string"?i:""+i).replace(eR,`
`).replace(tR,"")}function tc(i,o,l){if(o=sv(o),sv(i)!==o&&l)throw Error(t(425))}function nc(){}var Vd=null,Md=null;function Fd(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var jd=typeof setTimeout=="function"?setTimeout:void 0,nR=typeof clearTimeout=="function"?clearTimeout:void 0,ov=typeof Promise=="function"?Promise:void 0,rR=typeof queueMicrotask=="function"?queueMicrotask:typeof ov<"u"?function(i){return ov.resolve(null).then(i).catch(iR)}:jd;function iR(i){setTimeout(function(){throw i})}function Ud(i,o){var l=o,h=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(h===0){i.removeChild(p),lr(o);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=p}while(l);lr(o)}function Vi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function av(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var zo=Math.random().toString(36).slice(2),kr="__reactFiber$"+zo,hl="__reactProps$"+zo,Zr="__reactContainer$"+zo,$d="__reactEvents$"+zo,sR="__reactListeners$"+zo,oR="__reactHandles$"+zo;function Ms(i){var o=i[kr];if(o)return o;for(var l=i.parentNode;l;){if(o=l[Zr]||l[kr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=av(i);i!==null;){if(l=i[kr])return l;i=av(i)}return o}i=l,l=i.parentNode}return null}function dl(i){return i=i[kr]||i[Zr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ho(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function rc(i){return i[hl]||null}var Bd=[],Wo=-1;function Mi(i){return{current:i}}function it(i){0>Wo||(i.current=Bd[Wo],Bd[Wo]=null,Wo--)}function nt(i,o){Wo++,Bd[Wo]=i.current,i.current=o}var Fi={},Gt=Mi(Fi),gn=Mi(!1),Fs=Fi;function qo(i,o){var l=i.type.contextTypes;if(!l)return Fi;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var p={},v;for(v in l)p[v]=o[v];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=p),p}function vn(i){return i=i.childContextTypes,i!=null}function ic(){it(gn),it(Gt)}function lv(i,o,l){if(Gt.current!==Fi)throw Error(t(168));nt(Gt,o),nt(gn,l)}function uv(i,o,l){var h=i.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var p in h)if(!(p in o))throw Error(t(108,Ve(i)||"Unknown",p));return se({},l,h)}function sc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Fi,Fs=Gt.current,nt(Gt,i),nt(gn,gn.current),!0}function cv(i,o,l){var h=i.stateNode;if(!h)throw Error(t(169));l?(i=uv(i,o,Fs),h.__reactInternalMemoizedMergedChildContext=i,it(gn),it(Gt),nt(Gt,i)):it(gn),nt(gn,l)}var ei=null,oc=!1,zd=!1;function hv(i){ei===null?ei=[i]:ei.push(i)}function aR(i){oc=!0,hv(i)}function ji(){if(!zd&&ei!==null){zd=!0;var i=0,o=ze;try{var l=ei;for(ze=1;i<l.length;i++){var h=l[i];do h=h(!0);while(h!==null)}ei=null,oc=!1}catch(p){throw ei!==null&&(ei=ei.slice(i+1)),Ro(ks,ji),p}finally{ze=o,zd=!1}}return null}var Ko=[],Go=0,ac=null,lc=0,Wn=[],qn=0,js=null,ti=1,ni="";function Us(i,o){Ko[Go++]=lc,Ko[Go++]=ac,ac=i,lc=o}function dv(i,o,l){Wn[qn++]=ti,Wn[qn++]=ni,Wn[qn++]=js,js=i;var h=ti;i=ni;var p=32-an(h)-1;h&=~(1<<p),l+=1;var v=32-an(o)+p;if(30<v){var T=p-p%5;v=(h&(1<<T)-1).toString(32),h>>=T,p-=T,ti=1<<32-an(o)+p|l<<p|h,ni=v+i}else ti=1<<v|l<<p|h,ni=i}function Hd(i){i.return!==null&&(Us(i,1),dv(i,1,0))}function Wd(i){for(;i===ac;)ac=Ko[--Go],Ko[Go]=null,lc=Ko[--Go],Ko[Go]=null;for(;i===js;)js=Wn[--qn],Wn[qn]=null,ni=Wn[--qn],Wn[qn]=null,ti=Wn[--qn],Wn[qn]=null}var bn=null,On=null,ut=!1,hr=null;function fv(i,o){var l=Xn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function pv(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,bn=i,On=Vi(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,bn=i,On=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=js!==null?{id:ti,overflow:ni}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=Xn(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,bn=i,On=null,!0):!1;default:return!1}}function qd(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Kd(i){if(ut){var o=On;if(o){var l=o;if(!pv(i,o)){if(qd(i))throw Error(t(418));o=Vi(l.nextSibling);var h=bn;o&&pv(i,o)?fv(h,l):(i.flags=i.flags&-4097|2,ut=!1,bn=i)}}else{if(qd(i))throw Error(t(418));i.flags=i.flags&-4097|2,ut=!1,bn=i}}}function mv(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;bn=i}function uc(i){if(i!==bn)return!1;if(!ut)return mv(i),ut=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Fd(i.type,i.memoizedProps)),o&&(o=On)){if(qd(i))throw gv(),Error(t(418));for(;o;)fv(i,o),o=Vi(o.nextSibling)}if(mv(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){On=Vi(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}On=null}}else On=bn?Vi(i.stateNode.nextSibling):null;return!0}function gv(){for(var i=On;i;)i=Vi(i.nextSibling)}function Qo(){On=bn=null,ut=!1}function Gd(i){hr===null?hr=[i]:hr.push(i)}var lR=K.ReactCurrentBatchConfig;function fl(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,i));var p=h,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(T){var O=p.refs;T===null?delete O[v]:O[v]=T},o._stringRef=v,o)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function cc(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function vv(i){var o=i._init;return o(i._payload)}function yv(i){function o(H,U){if(i){var W=H.deletions;W===null?(H.deletions=[U],H.flags|=16):W.push(U)}}function l(H,U){if(!i)return null;for(;U!==null;)o(H,U),U=U.sibling;return null}function h(H,U){for(H=new Map;U!==null;)U.key!==null?H.set(U.key,U):H.set(U.index,U),U=U.sibling;return H}function p(H,U){return H=Ki(H,U),H.index=0,H.sibling=null,H}function v(H,U,W){return H.index=W,i?(W=H.alternate,W!==null?(W=W.index,W<U?(H.flags|=2,U):W):(H.flags|=2,U)):(H.flags|=1048576,U)}function T(H){return i&&H.alternate===null&&(H.flags|=2),H}function O(H,U,W,oe){return U===null||U.tag!==6?(U=Uf(W,H.mode,oe),U.return=H,U):(U=p(U,W),U.return=H,U)}function M(H,U,W,oe){var ye=W.type;return ye===b?re(H,U,W.props.children,oe,W.key):U!==null&&(U.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===be&&vv(ye)===U.type)?(oe=p(U,W.props),oe.ref=fl(H,U,W),oe.return=H,oe):(oe=Dc(W.type,W.key,W.props,null,H.mode,oe),oe.ref=fl(H,U,W),oe.return=H,oe)}function G(H,U,W,oe){return U===null||U.tag!==4||U.stateNode.containerInfo!==W.containerInfo||U.stateNode.implementation!==W.implementation?(U=$f(W,H.mode,oe),U.return=H,U):(U=p(U,W.children||[]),U.return=H,U)}function re(H,U,W,oe,ye){return U===null||U.tag!==7?(U=Gs(W,H.mode,oe,ye),U.return=H,U):(U=p(U,W),U.return=H,U)}function ie(H,U,W){if(typeof U=="string"&&U!==""||typeof U=="number")return U=Uf(""+U,H.mode,W),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case J:return W=Dc(U.type,U.key,U.props,null,H.mode,W),W.ref=fl(H,null,U),W.return=H,W;case Y:return U=$f(U,H.mode,W),U.return=H,U;case be:var oe=U._init;return ie(H,oe(U._payload),W)}if(Ct(U)||le(U))return U=Gs(U,H.mode,W,null),U.return=H,U;cc(H,U)}return null}function ne(H,U,W,oe){var ye=U!==null?U.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return ye!==null?null:O(H,U,""+W,oe);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case J:return W.key===ye?M(H,U,W,oe):null;case Y:return W.key===ye?G(H,U,W,oe):null;case be:return ye=W._init,ne(H,U,ye(W._payload),oe)}if(Ct(W)||le(W))return ye!==null?null:re(H,U,W,oe,null);cc(H,W)}return null}function ce(H,U,W,oe,ye){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return H=H.get(W)||null,O(U,H,""+oe,ye);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case J:return H=H.get(oe.key===null?W:oe.key)||null,M(U,H,oe,ye);case Y:return H=H.get(oe.key===null?W:oe.key)||null,G(U,H,oe,ye);case be:var Ie=oe._init;return ce(H,U,W,Ie(oe._payload),ye)}if(Ct(oe)||le(oe))return H=H.get(W)||null,re(U,H,oe,ye,null);cc(U,oe)}return null}function pe(H,U,W,oe){for(var ye=null,Ie=null,Se=U,Pe=U=0,Lt=null;Se!==null&&Pe<W.length;Pe++){Se.index>Pe?(Lt=Se,Se=null):Lt=Se.sibling;var Qe=ne(H,Se,W[Pe],oe);if(Qe===null){Se===null&&(Se=Lt);break}i&&Se&&Qe.alternate===null&&o(H,Se),U=v(Qe,U,Pe),Ie===null?ye=Qe:Ie.sibling=Qe,Ie=Qe,Se=Lt}if(Pe===W.length)return l(H,Se),ut&&Us(H,Pe),ye;if(Se===null){for(;Pe<W.length;Pe++)Se=ie(H,W[Pe],oe),Se!==null&&(U=v(Se,U,Pe),Ie===null?ye=Se:Ie.sibling=Se,Ie=Se);return ut&&Us(H,Pe),ye}for(Se=h(H,Se);Pe<W.length;Pe++)Lt=ce(Se,H,Pe,W[Pe],oe),Lt!==null&&(i&&Lt.alternate!==null&&Se.delete(Lt.key===null?Pe:Lt.key),U=v(Lt,U,Pe),Ie===null?ye=Lt:Ie.sibling=Lt,Ie=Lt);return i&&Se.forEach(function(Gi){return o(H,Gi)}),ut&&Us(H,Pe),ye}function ge(H,U,W,oe){var ye=le(W);if(typeof ye!="function")throw Error(t(150));if(W=ye.call(W),W==null)throw Error(t(151));for(var Ie=ye=null,Se=U,Pe=U=0,Lt=null,Qe=W.next();Se!==null&&!Qe.done;Pe++,Qe=W.next()){Se.index>Pe?(Lt=Se,Se=null):Lt=Se.sibling;var Gi=ne(H,Se,Qe.value,oe);if(Gi===null){Se===null&&(Se=Lt);break}i&&Se&&Gi.alternate===null&&o(H,Se),U=v(Gi,U,Pe),Ie===null?ye=Gi:Ie.sibling=Gi,Ie=Gi,Se=Lt}if(Qe.done)return l(H,Se),ut&&Us(H,Pe),ye;if(Se===null){for(;!Qe.done;Pe++,Qe=W.next())Qe=ie(H,Qe.value,oe),Qe!==null&&(U=v(Qe,U,Pe),Ie===null?ye=Qe:Ie.sibling=Qe,Ie=Qe);return ut&&Us(H,Pe),ye}for(Se=h(H,Se);!Qe.done;Pe++,Qe=W.next())Qe=ce(Se,H,Pe,Qe.value,oe),Qe!==null&&(i&&Qe.alternate!==null&&Se.delete(Qe.key===null?Pe:Qe.key),U=v(Qe,U,Pe),Ie===null?ye=Qe:Ie.sibling=Qe,Ie=Qe);return i&&Se.forEach(function($R){return o(H,$R)}),ut&&Us(H,Pe),ye}function vt(H,U,W,oe){if(typeof W=="object"&&W!==null&&W.type===b&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case J:e:{for(var ye=W.key,Ie=U;Ie!==null;){if(Ie.key===ye){if(ye=W.type,ye===b){if(Ie.tag===7){l(H,Ie.sibling),U=p(Ie,W.props.children),U.return=H,H=U;break e}}else if(Ie.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===be&&vv(ye)===Ie.type){l(H,Ie.sibling),U=p(Ie,W.props),U.ref=fl(H,Ie,W),U.return=H,H=U;break e}l(H,Ie);break}else o(H,Ie);Ie=Ie.sibling}W.type===b?(U=Gs(W.props.children,H.mode,oe,W.key),U.return=H,H=U):(oe=Dc(W.type,W.key,W.props,null,H.mode,oe),oe.ref=fl(H,U,W),oe.return=H,H=oe)}return T(H);case Y:e:{for(Ie=W.key;U!==null;){if(U.key===Ie)if(U.tag===4&&U.stateNode.containerInfo===W.containerInfo&&U.stateNode.implementation===W.implementation){l(H,U.sibling),U=p(U,W.children||[]),U.return=H,H=U;break e}else{l(H,U);break}else o(H,U);U=U.sibling}U=$f(W,H.mode,oe),U.return=H,H=U}return T(H);case be:return Ie=W._init,vt(H,U,Ie(W._payload),oe)}if(Ct(W))return pe(H,U,W,oe);if(le(W))return ge(H,U,W,oe);cc(H,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,U!==null&&U.tag===6?(l(H,U.sibling),U=p(U,W),U.return=H,H=U):(l(H,U),U=Uf(W,H.mode,oe),U.return=H,H=U),T(H)):l(H,U)}return vt}var Xo=yv(!0),_v=yv(!1),hc=Mi(null),dc=null,Yo=null,Qd=null;function Xd(){Qd=Yo=dc=null}function Yd(i){var o=hc.current;it(hc),i._currentValue=o}function Jd(i,o,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===l)break;i=i.return}}function Jo(i,o){dc=i,Qd=Yo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(yn=!0),i.firstContext=null)}function Kn(i){var o=i._currentValue;if(Qd!==i)if(i={context:i,memoizedValue:o,next:null},Yo===null){if(dc===null)throw Error(t(308));Yo=i,dc.dependencies={lanes:0,firstContext:i}}else Yo=Yo.next=i;return o}var $s=null;function Zd(i){$s===null?$s=[i]:$s.push(i)}function wv(i,o,l,h){var p=o.interleaved;return p===null?(l.next=l,Zd(o)):(l.next=p.next,p.next=l),o.interleaved=l,ri(i,h)}function ri(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var Ui=!1;function ef(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ev(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ii(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function $i(i,o,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(Ke&2)!==0){var p=h.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),h.pending=o,ri(i,l)}return p=h.interleaved,p===null?(o.next=o,Zd(h)):(o.next=p.next,p.next=o),h.interleaved=o,ri(i,l)}function fc(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,Pi(i,l)}}function Tv(i,o){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var p=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?p=v=T:v=v.next=T,l=l.next}while(l!==null);v===null?p=v=o:v=v.next=o}else p=v=o;l={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:h.shared,effects:h.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function pc(i,o,l,h){var p=i.updateQueue;Ui=!1;var v=p.firstBaseUpdate,T=p.lastBaseUpdate,O=p.shared.pending;if(O!==null){p.shared.pending=null;var M=O,G=M.next;M.next=null,T===null?v=G:T.next=G,T=M;var re=i.alternate;re!==null&&(re=re.updateQueue,O=re.lastBaseUpdate,O!==T&&(O===null?re.firstBaseUpdate=G:O.next=G,re.lastBaseUpdate=M))}if(v!==null){var ie=p.baseState;T=0,re=G=M=null,O=v;do{var ne=O.lane,ce=O.eventTime;if((h&ne)===ne){re!==null&&(re=re.next={eventTime:ce,lane:0,tag:O.tag,payload:O.payload,callback:O.callback,next:null});e:{var pe=i,ge=O;switch(ne=o,ce=l,ge.tag){case 1:if(pe=ge.payload,typeof pe=="function"){ie=pe.call(ce,ie,ne);break e}ie=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=ge.payload,ne=typeof pe=="function"?pe.call(ce,ie,ne):pe,ne==null)break e;ie=se({},ie,ne);break e;case 2:Ui=!0}}O.callback!==null&&O.lane!==0&&(i.flags|=64,ne=p.effects,ne===null?p.effects=[O]:ne.push(O))}else ce={eventTime:ce,lane:ne,tag:O.tag,payload:O.payload,callback:O.callback,next:null},re===null?(G=re=ce,M=ie):re=re.next=ce,T|=ne;if(O=O.next,O===null){if(O=p.shared.pending,O===null)break;ne=O,O=ne.next,ne.next=null,p.lastBaseUpdate=ne,p.shared.pending=null}}while(!0);if(re===null&&(M=ie),p.baseState=M,p.firstBaseUpdate=G,p.lastBaseUpdate=re,o=p.shared.interleaved,o!==null){p=o;do T|=p.lane,p=p.next;while(p!==o)}else v===null&&(p.shared.lanes=0);Hs|=T,i.lanes=T,i.memoizedState=ie}}function Iv(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var h=i[o],p=h.callback;if(p!==null){if(h.callback=null,h=l,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var pl={},Pr=Mi(pl),ml=Mi(pl),gl=Mi(pl);function Bs(i){if(i===pl)throw Error(t(174));return i}function tf(i,o){switch(nt(gl,o),nt(ml,i),nt(Pr,pl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:at(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=at(o,i)}it(Pr),nt(Pr,o)}function Zo(){it(Pr),it(ml),it(gl)}function Sv(i){Bs(gl.current);var o=Bs(Pr.current),l=at(o,i.type);o!==l&&(nt(ml,i),nt(Pr,l))}function nf(i){ml.current===i&&(it(Pr),it(ml))}var ct=Mi(0);function mc(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var rf=[];function sf(){for(var i=0;i<rf.length;i++)rf[i]._workInProgressVersionPrimary=null;rf.length=0}var gc=K.ReactCurrentDispatcher,of=K.ReactCurrentBatchConfig,zs=0,ht=null,xt=null,Ot=null,vc=!1,vl=!1,yl=0,uR=0;function Qt(){throw Error(t(321))}function af(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!cr(i[l],o[l]))return!1;return!0}function lf(i,o,l,h,p,v){if(zs=v,ht=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,gc.current=i===null||i.memoizedState===null?fR:pR,i=l(h,p),vl){v=0;do{if(vl=!1,yl=0,25<=v)throw Error(t(301));v+=1,Ot=xt=null,o.updateQueue=null,gc.current=mR,i=l(h,p)}while(vl)}if(gc.current=wc,o=xt!==null&&xt.next!==null,zs=0,Ot=xt=ht=null,vc=!1,o)throw Error(t(300));return i}function uf(){var i=yl!==0;return yl=0,i}function Nr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?ht.memoizedState=Ot=i:Ot=Ot.next=i,Ot}function Gn(){if(xt===null){var i=ht.alternate;i=i!==null?i.memoizedState:null}else i=xt.next;var o=Ot===null?ht.memoizedState:Ot.next;if(o!==null)Ot=o,xt=i;else{if(i===null)throw Error(t(310));xt=i,i={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Ot===null?ht.memoizedState=Ot=i:Ot=Ot.next=i}return Ot}function _l(i,o){return typeof o=="function"?o(i):o}function cf(i){var o=Gn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=xt,p=h.baseQueue,v=l.pending;if(v!==null){if(p!==null){var T=p.next;p.next=v.next,v.next=T}h.baseQueue=p=v,l.pending=null}if(p!==null){v=p.next,h=h.baseState;var O=T=null,M=null,G=v;do{var re=G.lane;if((zs&re)===re)M!==null&&(M=M.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),h=G.hasEagerState?G.eagerState:i(h,G.action);else{var ie={lane:re,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};M===null?(O=M=ie,T=h):M=M.next=ie,ht.lanes|=re,Hs|=re}G=G.next}while(G!==null&&G!==v);M===null?T=h:M.next=O,cr(h,o.memoizedState)||(yn=!0),o.memoizedState=h,o.baseState=T,o.baseQueue=M,l.lastRenderedState=h}if(i=l.interleaved,i!==null){p=i;do v=p.lane,ht.lanes|=v,Hs|=v,p=p.next;while(p!==i)}else p===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function hf(i){var o=Gn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=l.dispatch,p=l.pending,v=o.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do v=i(v,T.action),T=T.next;while(T!==p);cr(v,o.memoizedState)||(yn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),l.lastRenderedState=v}return[v,h]}function Rv(){}function Cv(i,o){var l=ht,h=Gn(),p=o(),v=!cr(h.memoizedState,p);if(v&&(h.memoizedState=p,yn=!0),h=h.queue,df(kv.bind(null,l,h,i),[i]),h.getSnapshot!==o||v||Ot!==null&&Ot.memoizedState.tag&1){if(l.flags|=2048,wl(9,xv.bind(null,l,h,p,o),void 0,null),Dt===null)throw Error(t(349));(zs&30)!==0||Av(l,o,p)}return p}function Av(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=ht.updateQueue,o===null?(o={lastEffect:null,stores:null},ht.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function xv(i,o,l,h){o.value=l,o.getSnapshot=h,Pv(o)&&Nv(i)}function kv(i,o,l){return l(function(){Pv(o)&&Nv(i)})}function Pv(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!cr(i,l)}catch{return!0}}function Nv(i){var o=ri(i,1);o!==null&&mr(o,i,1,-1)}function bv(i){var o=Nr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_l,lastRenderedState:i},o.queue=i,i=i.dispatch=dR.bind(null,ht,i),[o.memoizedState,i]}function wl(i,o,l,h){return i={tag:i,create:o,destroy:l,deps:h,next:null},o=ht.updateQueue,o===null?(o={lastEffect:null,stores:null},ht.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,o.lastEffect=i)),i}function Ov(){return Gn().memoizedState}function yc(i,o,l,h){var p=Nr();ht.flags|=i,p.memoizedState=wl(1|o,l,void 0,h===void 0?null:h)}function _c(i,o,l,h){var p=Gn();h=h===void 0?null:h;var v=void 0;if(xt!==null){var T=xt.memoizedState;if(v=T.destroy,h!==null&&af(h,T.deps)){p.memoizedState=wl(o,l,v,h);return}}ht.flags|=i,p.memoizedState=wl(1|o,l,v,h)}function Dv(i,o){return yc(8390656,8,i,o)}function df(i,o){return _c(2048,8,i,o)}function Lv(i,o){return _c(4,2,i,o)}function Vv(i,o){return _c(4,4,i,o)}function Mv(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Fv(i,o,l){return l=l!=null?l.concat([i]):null,_c(4,4,Mv.bind(null,o,i),l)}function ff(){}function jv(i,o){var l=Gn();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&af(o,h[1])?h[0]:(l.memoizedState=[i,o],i)}function Uv(i,o){var l=Gn();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&af(o,h[1])?h[0]:(i=i(),l.memoizedState=[i,o],i)}function $v(i,o,l){return(zs&21)===0?(i.baseState&&(i.baseState=!1,yn=!0),i.memoizedState=l):(cr(l,o)||(l=bs(),ht.lanes|=l,Hs|=l,i.baseState=!0),o)}function cR(i,o){var l=ze;ze=l!==0&&4>l?l:4,i(!0);var h=of.transition;of.transition={};try{i(!1),o()}finally{ze=l,of.transition=h}}function Bv(){return Gn().memoizedState}function hR(i,o,l){var h=Wi(i);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},zv(i))Hv(o,l);else if(l=wv(i,o,l,h),l!==null){var p=cn();mr(l,i,h,p),Wv(l,o,h)}}function dR(i,o,l){var h=Wi(i),p={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(zv(i))Hv(o,p);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var T=o.lastRenderedState,O=v(T,l);if(p.hasEagerState=!0,p.eagerState=O,cr(O,T)){var M=o.interleaved;M===null?(p.next=p,Zd(o)):(p.next=M.next,M.next=p),o.interleaved=p;return}}catch{}finally{}l=wv(i,o,p,h),l!==null&&(p=cn(),mr(l,i,h,p),Wv(l,o,h))}}function zv(i){var o=i.alternate;return i===ht||o!==null&&o===ht}function Hv(i,o){vl=vc=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function Wv(i,o,l){if((l&4194240)!==0){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,Pi(i,l)}}var wc={readContext:Kn,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},fR={readContext:Kn,useCallback:function(i,o){return Nr().memoizedState=[i,o===void 0?null:o],i},useContext:Kn,useEffect:Dv,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,yc(4194308,4,Mv.bind(null,o,i),l)},useLayoutEffect:function(i,o){return yc(4194308,4,i,o)},useInsertionEffect:function(i,o){return yc(4,2,i,o)},useMemo:function(i,o){var l=Nr();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var h=Nr();return o=l!==void 0?l(o):o,h.memoizedState=h.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},h.queue=i,i=i.dispatch=hR.bind(null,ht,i),[h.memoizedState,i]},useRef:function(i){var o=Nr();return i={current:i},o.memoizedState=i},useState:bv,useDebugValue:ff,useDeferredValue:function(i){return Nr().memoizedState=i},useTransition:function(){var i=bv(!1),o=i[0];return i=cR.bind(null,i[1]),Nr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var h=ht,p=Nr();if(ut){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),Dt===null)throw Error(t(349));(zs&30)!==0||Av(h,o,l)}p.memoizedState=l;var v={value:l,getSnapshot:o};return p.queue=v,Dv(kv.bind(null,h,v,i),[i]),h.flags|=2048,wl(9,xv.bind(null,h,v,l,o),void 0,null),l},useId:function(){var i=Nr(),o=Dt.identifierPrefix;if(ut){var l=ni,h=ti;l=(h&~(1<<32-an(h)-1)).toString(32)+l,o=":"+o+"R"+l,l=yl++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=uR++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},pR={readContext:Kn,useCallback:jv,useContext:Kn,useEffect:df,useImperativeHandle:Fv,useInsertionEffect:Lv,useLayoutEffect:Vv,useMemo:Uv,useReducer:cf,useRef:Ov,useState:function(){return cf(_l)},useDebugValue:ff,useDeferredValue:function(i){var o=Gn();return $v(o,xt.memoizedState,i)},useTransition:function(){var i=cf(_l)[0],o=Gn().memoizedState;return[i,o]},useMutableSource:Rv,useSyncExternalStore:Cv,useId:Bv,unstable_isNewReconciler:!1},mR={readContext:Kn,useCallback:jv,useContext:Kn,useEffect:df,useImperativeHandle:Fv,useInsertionEffect:Lv,useLayoutEffect:Vv,useMemo:Uv,useReducer:hf,useRef:Ov,useState:function(){return hf(_l)},useDebugValue:ff,useDeferredValue:function(i){var o=Gn();return xt===null?o.memoizedState=i:$v(o,xt.memoizedState,i)},useTransition:function(){var i=hf(_l)[0],o=Gn().memoizedState;return[i,o]},useMutableSource:Rv,useSyncExternalStore:Cv,useId:Bv,unstable_isNewReconciler:!1};function dr(i,o){if(i&&i.defaultProps){o=se({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function pf(i,o,l,h){o=i.memoizedState,l=l(h,o),l=l==null?o:se({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Ec={isMounted:function(i){return(i=i._reactInternals)?rr(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var h=cn(),p=Wi(i),v=ii(h,p);v.payload=o,l!=null&&(v.callback=l),o=$i(i,v,p),o!==null&&(mr(o,i,p,h),fc(o,i,p))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var h=cn(),p=Wi(i),v=ii(h,p);v.tag=1,v.payload=o,l!=null&&(v.callback=l),o=$i(i,v,p),o!==null&&(mr(o,i,p,h),fc(o,i,p))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=cn(),h=Wi(i),p=ii(l,h);p.tag=2,o!=null&&(p.callback=o),o=$i(i,p,h),o!==null&&(mr(o,i,h,l),fc(o,i,h))}};function qv(i,o,l,h,p,v,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,v,T):o.prototype&&o.prototype.isPureReactComponent?!ol(l,h)||!ol(p,v):!0}function Kv(i,o,l){var h=!1,p=Fi,v=o.contextType;return typeof v=="object"&&v!==null?v=Kn(v):(p=vn(o)?Fs:Gt.current,h=o.contextTypes,v=(h=h!=null)?qo(i,p):Fi),o=new o(l,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Ec,i.stateNode=o,o._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=p,i.__reactInternalMemoizedMaskedChildContext=v),o}function Gv(i,o,l,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,h),o.state!==i&&Ec.enqueueReplaceState(o,o.state,null)}function mf(i,o,l,h){var p=i.stateNode;p.props=l,p.state=i.memoizedState,p.refs={},ef(i);var v=o.contextType;typeof v=="object"&&v!==null?p.context=Kn(v):(v=vn(o)?Fs:Gt.current,p.context=qo(i,v)),p.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(pf(i,o,v,l),p.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(o=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),o!==p.state&&Ec.enqueueReplaceState(p,p.state,null),pc(i,l,p,h),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308)}function ea(i,o){try{var l="",h=o;do l+=Ee(h),h=h.return;while(h);var p=l}catch(v){p=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:p,digest:null}}function gf(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function vf(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var gR=typeof WeakMap=="function"?WeakMap:Map;function Qv(i,o,l){l=ii(-1,l),l.tag=3,l.payload={element:null};var h=o.value;return l.callback=function(){xc||(xc=!0,bf=h),vf(i,o)},l}function Xv(i,o,l){l=ii(-1,l),l.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var p=o.value;l.payload=function(){return h(p)},l.callback=function(){vf(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){vf(i,o),typeof h!="function"&&(zi===null?zi=new Set([this]):zi.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),l}function Yv(i,o,l){var h=i.pingCache;if(h===null){h=i.pingCache=new gR;var p=new Set;h.set(o,p)}else p=h.get(o),p===void 0&&(p=new Set,h.set(o,p));p.has(l)||(p.add(l),i=PR.bind(null,i,o,l),o.then(i,i))}function Jv(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Zv(i,o,l,h,p){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=ii(-1,1),o.tag=2,$i(l,o,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=p,i)}var vR=K.ReactCurrentOwner,yn=!1;function un(i,o,l,h){o.child=i===null?_v(o,null,l,h):Xo(o,i.child,l,h)}function ey(i,o,l,h,p){l=l.render;var v=o.ref;return Jo(o,p),h=lf(i,o,l,h,v,p),l=uf(),i!==null&&!yn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~p,si(i,o,p)):(ut&&l&&Hd(o),o.flags|=1,un(i,o,h,p),o.child)}function ty(i,o,l,h,p){if(i===null){var v=l.type;return typeof v=="function"&&!jf(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=v,ny(i,o,v,h,p)):(i=Dc(l.type,null,h,o,o.mode,p),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,(i.lanes&p)===0){var T=v.memoizedProps;if(l=l.compare,l=l!==null?l:ol,l(T,h)&&i.ref===o.ref)return si(i,o,p)}return o.flags|=1,i=Ki(v,h),i.ref=o.ref,i.return=o,o.child=i}function ny(i,o,l,h,p){if(i!==null){var v=i.memoizedProps;if(ol(v,h)&&i.ref===o.ref)if(yn=!1,o.pendingProps=h=v,(i.lanes&p)!==0)(i.flags&131072)!==0&&(yn=!0);else return o.lanes=i.lanes,si(i,o,p)}return yf(i,o,l,h,p)}function ry(i,o,l){var h=o.pendingProps,p=h.children,v=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(na,Dn),Dn|=l;else{if((l&1073741824)===0)return i=v!==null?v.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,nt(na,Dn),Dn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=v!==null?v.baseLanes:l,nt(na,Dn),Dn|=h}else v!==null?(h=v.baseLanes|l,o.memoizedState=null):h=l,nt(na,Dn),Dn|=h;return un(i,o,p,l),o.child}function iy(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function yf(i,o,l,h,p){var v=vn(l)?Fs:Gt.current;return v=qo(o,v),Jo(o,p),l=lf(i,o,l,h,v,p),h=uf(),i!==null&&!yn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~p,si(i,o,p)):(ut&&h&&Hd(o),o.flags|=1,un(i,o,l,p),o.child)}function sy(i,o,l,h,p){if(vn(l)){var v=!0;sc(o)}else v=!1;if(Jo(o,p),o.stateNode===null)Ic(i,o),Kv(o,l,h),mf(o,l,h,p),h=!0;else if(i===null){var T=o.stateNode,O=o.memoizedProps;T.props=O;var M=T.context,G=l.contextType;typeof G=="object"&&G!==null?G=Kn(G):(G=vn(l)?Fs:Gt.current,G=qo(o,G));var re=l.getDerivedStateFromProps,ie=typeof re=="function"||typeof T.getSnapshotBeforeUpdate=="function";ie||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(O!==h||M!==G)&&Gv(o,T,h,G),Ui=!1;var ne=o.memoizedState;T.state=ne,pc(o,h,T,p),M=o.memoizedState,O!==h||ne!==M||gn.current||Ui?(typeof re=="function"&&(pf(o,l,re,h),M=o.memoizedState),(O=Ui||qv(o,l,O,h,ne,M,G))?(ie||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=M),T.props=h,T.state=M,T.context=G,h=O):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{T=o.stateNode,Ev(i,o),O=o.memoizedProps,G=o.type===o.elementType?O:dr(o.type,O),T.props=G,ie=o.pendingProps,ne=T.context,M=l.contextType,typeof M=="object"&&M!==null?M=Kn(M):(M=vn(l)?Fs:Gt.current,M=qo(o,M));var ce=l.getDerivedStateFromProps;(re=typeof ce=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(O!==ie||ne!==M)&&Gv(o,T,h,M),Ui=!1,ne=o.memoizedState,T.state=ne,pc(o,h,T,p);var pe=o.memoizedState;O!==ie||ne!==pe||gn.current||Ui?(typeof ce=="function"&&(pf(o,l,ce,h),pe=o.memoizedState),(G=Ui||qv(o,l,G,h,ne,pe,M)||!1)?(re||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,pe,M),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,pe,M)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||O===i.memoizedProps&&ne===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&ne===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=pe),T.props=h,T.state=pe,T.context=M,h=G):(typeof T.componentDidUpdate!="function"||O===i.memoizedProps&&ne===i.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&ne===i.memoizedState||(o.flags|=1024),h=!1)}return _f(i,o,l,h,v,p)}function _f(i,o,l,h,p,v){iy(i,o);var T=(o.flags&128)!==0;if(!h&&!T)return p&&cv(o,l,!1),si(i,o,v);h=o.stateNode,vR.current=o;var O=T&&typeof l.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,i!==null&&T?(o.child=Xo(o,i.child,null,v),o.child=Xo(o,null,O,v)):un(i,o,O,v),o.memoizedState=h.state,p&&cv(o,l,!0),o.child}function oy(i){var o=i.stateNode;o.pendingContext?lv(i,o.pendingContext,o.pendingContext!==o.context):o.context&&lv(i,o.context,!1),tf(i,o.containerInfo)}function ay(i,o,l,h,p){return Qo(),Gd(p),o.flags|=256,un(i,o,l,h),o.child}var wf={dehydrated:null,treeContext:null,retryLane:0};function Ef(i){return{baseLanes:i,cachePool:null,transitions:null}}function ly(i,o,l){var h=o.pendingProps,p=ct.current,v=!1,T=(o.flags&128)!==0,O;if((O=T)||(O=i!==null&&i.memoizedState===null?!1:(p&2)!==0),O?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(p|=1),nt(ct,p&1),i===null)return Kd(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(T=h.children,i=h.fallback,v?(h=o.mode,v=o.child,T={mode:"hidden",children:T},(h&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=T):v=Lc(T,h,0,null),i=Gs(i,h,l,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=Ef(l),o.memoizedState=wf,i):Tf(o,T));if(p=i.memoizedState,p!==null&&(O=p.dehydrated,O!==null))return yR(i,o,T,h,O,p,l);if(v){v=h.fallback,T=o.mode,p=i.child,O=p.sibling;var M={mode:"hidden",children:h.children};return(T&1)===0&&o.child!==p?(h=o.child,h.childLanes=0,h.pendingProps=M,o.deletions=null):(h=Ki(p,M),h.subtreeFlags=p.subtreeFlags&14680064),O!==null?v=Ki(O,v):(v=Gs(v,T,l,null),v.flags|=2),v.return=o,h.return=o,h.sibling=v,o.child=h,h=v,v=o.child,T=i.child.memoizedState,T=T===null?Ef(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},v.memoizedState=T,v.childLanes=i.childLanes&~l,o.memoizedState=wf,h}return v=i.child,i=v.sibling,h=Ki(v,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=l),h.return=o,h.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=h,o.memoizedState=null,h}function Tf(i,o){return o=Lc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Tc(i,o,l,h){return h!==null&&Gd(h),Xo(o,i.child,null,l),i=Tf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function yR(i,o,l,h,p,v,T){if(l)return o.flags&256?(o.flags&=-257,h=gf(Error(t(422))),Tc(i,o,T,h)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=h.fallback,p=o.mode,h=Lc({mode:"visible",children:h.children},p,0,null),v=Gs(v,p,T,null),v.flags|=2,h.return=o,v.return=o,h.sibling=v,o.child=h,(o.mode&1)!==0&&Xo(o,i.child,null,T),o.child.memoizedState=Ef(T),o.memoizedState=wf,v);if((o.mode&1)===0)return Tc(i,o,T,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var O=h.dgst;return h=O,v=Error(t(419)),h=gf(v,h,void 0),Tc(i,o,T,h)}if(O=(T&i.childLanes)!==0,yn||O){if(h=Dt,h!==null){switch(T&-T){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|T))!==0?0:p,p!==0&&p!==v.retryLane&&(v.retryLane=p,ri(i,p),mr(h,i,p,-1))}return Ff(),h=gf(Error(t(421))),Tc(i,o,T,h)}return p.data==="$?"?(o.flags|=128,o.child=i.child,o=NR.bind(null,i),p._reactRetry=o,null):(i=v.treeContext,On=Vi(p.nextSibling),bn=o,ut=!0,hr=null,i!==null&&(Wn[qn++]=ti,Wn[qn++]=ni,Wn[qn++]=js,ti=i.id,ni=i.overflow,js=o),o=Tf(o,h.children),o.flags|=4096,o)}function uy(i,o,l){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),Jd(i.return,o,l)}function If(i,o,l,h,p){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:p}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=l,v.tailMode=p)}function cy(i,o,l){var h=o.pendingProps,p=h.revealOrder,v=h.tail;if(un(i,o,h.children,l),h=ct.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&uy(i,l,o);else if(i.tag===19)uy(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(nt(ct,h),(o.mode&1)===0)o.memoizedState=null;else switch(p){case"forwards":for(l=o.child,p=null;l!==null;)i=l.alternate,i!==null&&mc(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=o.child,o.child=null):(p=l.sibling,l.sibling=null),If(o,!1,p,l,v);break;case"backwards":for(l=null,p=o.child,o.child=null;p!==null;){if(i=p.alternate,i!==null&&mc(i)===null){o.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}If(o,!0,l,null,v);break;case"together":If(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ic(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function si(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),Hs|=o.lanes,(l&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,l=Ki(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=Ki(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function _R(i,o,l){switch(o.tag){case 3:oy(o),Qo();break;case 5:Sv(o);break;case 1:vn(o.type)&&sc(o);break;case 4:tf(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,p=o.memoizedProps.value;nt(hc,h._currentValue),h._currentValue=p;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(nt(ct,ct.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?ly(i,o,l):(nt(ct,ct.current&1),i=si(i,o,l),i!==null?i.sibling:null);nt(ct,ct.current&1);break;case 19:if(h=(l&o.childLanes)!==0,(i.flags&128)!==0){if(h)return cy(i,o,l);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),nt(ct,ct.current),h)break;return null;case 22:case 23:return o.lanes=0,ry(i,o,l)}return si(i,o,l)}var hy,Sf,dy,fy;hy=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Sf=function(){},dy=function(i,o,l,h){var p=i.memoizedProps;if(p!==h){i=o.stateNode,Bs(Pr.current);var v=null;switch(l){case"input":p=jt(i,p),h=jt(i,h),v=[];break;case"select":p=se({},p,{value:void 0}),h=se({},h,{value:void 0}),v=[];break;case"textarea":p=wr(i,p),h=wr(i,h),v=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=nc)}Is(l,h);var T;l=null;for(G in p)if(!h.hasOwnProperty(G)&&p.hasOwnProperty(G)&&p[G]!=null)if(G==="style"){var O=p[G];for(T in O)O.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(s.hasOwnProperty(G)?v||(v=[]):(v=v||[]).push(G,null));for(G in h){var M=h[G];if(O=p!=null?p[G]:void 0,h.hasOwnProperty(G)&&M!==O&&(M!=null||O!=null))if(G==="style")if(O){for(T in O)!O.hasOwnProperty(T)||M&&M.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in M)M.hasOwnProperty(T)&&O[T]!==M[T]&&(l||(l={}),l[T]=M[T])}else l||(v||(v=[]),v.push(G,l)),l=M;else G==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,O=O?O.__html:void 0,M!=null&&O!==M&&(v=v||[]).push(G,M)):G==="children"?typeof M!="string"&&typeof M!="number"||(v=v||[]).push(G,""+M):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(s.hasOwnProperty(G)?(M!=null&&G==="onScroll"&&rt("scroll",i),v||O===M||(v=[])):(v=v||[]).push(G,M))}l&&(v=v||[]).push("style",l);var G=v;(o.updateQueue=G)&&(o.flags|=4)}},fy=function(i,o,l,h){l!==h&&(o.flags|=4)};function El(i,o){if(!ut)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Xt(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(o)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=h,i.childLanes=l,o}function wR(i,o,l){var h=o.pendingProps;switch(Wd(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(o),null;case 1:return vn(o.type)&&ic(),Xt(o),null;case 3:return h=o.stateNode,Zo(),it(gn),it(Gt),sf(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(uc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,hr!==null&&(Lf(hr),hr=null))),Sf(i,o),Xt(o),null;case 5:nf(o);var p=Bs(gl.current);if(l=o.type,i!==null&&o.stateNode!=null)dy(i,o,l,h,p),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return Xt(o),null}if(i=Bs(Pr.current),uc(o)){h=o.stateNode,l=o.type;var v=o.memoizedProps;switch(h[kr]=o,h[hl]=v,i=(o.mode&1)!==0,l){case"dialog":rt("cancel",h),rt("close",h);break;case"iframe":case"object":case"embed":rt("load",h);break;case"video":case"audio":for(p=0;p<ll.length;p++)rt(ll[p],h);break;case"source":rt("error",h);break;case"img":case"image":case"link":rt("error",h),rt("load",h);break;case"details":rt("toggle",h);break;case"input":Fe(h,v),rt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},rt("invalid",h);break;case"textarea":jn(h,v),rt("invalid",h)}Is(l,v),p=null;for(var T in v)if(v.hasOwnProperty(T)){var O=v[T];T==="children"?typeof O=="string"?h.textContent!==O&&(v.suppressHydrationWarning!==!0&&tc(h.textContent,O,i),p=["children",O]):typeof O=="number"&&h.textContent!==""+O&&(v.suppressHydrationWarning!==!0&&tc(h.textContent,O,i),p=["children",""+O]):s.hasOwnProperty(T)&&O!=null&&T==="onScroll"&&rt("scroll",h)}switch(l){case"input":et(h),Si(h,v,!0);break;case"textarea":et(h),Zn(h);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(h.onclick=nc)}h=p,o.updateQueue=h,h!==null&&(o.flags|=4)}else{T=p.nodeType===9?p:p.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=ot(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=T.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=T.createElement(l,{is:h.is}):(i=T.createElement(l),l==="select"&&(T=i,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):i=T.createElementNS(i,l),i[kr]=o,i[hl]=h,hy(i,o,!1,!1),o.stateNode=i;e:{switch(T=Ba(l,h),l){case"dialog":rt("cancel",i),rt("close",i),p=h;break;case"iframe":case"object":case"embed":rt("load",i),p=h;break;case"video":case"audio":for(p=0;p<ll.length;p++)rt(ll[p],i);p=h;break;case"source":rt("error",i),p=h;break;case"img":case"image":case"link":rt("error",i),rt("load",i),p=h;break;case"details":rt("toggle",i),p=h;break;case"input":Fe(i,h),p=jt(i,h),rt("invalid",i);break;case"option":p=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},p=se({},h,{value:void 0}),rt("invalid",i);break;case"textarea":jn(i,h),p=wr(i,h),rt("invalid",i);break;default:p=h}Is(l,p),O=p;for(v in O)if(O.hasOwnProperty(v)){var M=O[v];v==="style"?on(i,M):v==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&Ri(i,M)):v==="children"?typeof M=="string"?(l!=="textarea"||M!=="")&&Un(i,M):typeof M=="number"&&Un(i,""+M):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?M!=null&&v==="onScroll"&&rt("scroll",i):M!=null&&B(i,v,M,T))}switch(l){case"input":et(i),Si(i,h,!1);break;case"textarea":et(i),Zn(i);break;case"option":h.value!=null&&i.setAttribute("value",""+Ae(h.value));break;case"select":i.multiple=!!h.multiple,v=h.value,v!=null?Kt(i,!!h.multiple,v,!1):h.defaultValue!=null&&Kt(i,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(i.onclick=nc)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Xt(o),null;case 6:if(i&&o.stateNode!=null)fy(i,o,i.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(l=Bs(gl.current),Bs(Pr.current),uc(o)){if(h=o.stateNode,l=o.memoizedProps,h[kr]=o,(v=h.nodeValue!==l)&&(i=bn,i!==null))switch(i.tag){case 3:tc(h.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&tc(h.nodeValue,l,(i.mode&1)!==0)}v&&(o.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[kr]=o,o.stateNode=h}return Xt(o),null;case 13:if(it(ct),h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(ut&&On!==null&&(o.mode&1)!==0&&(o.flags&128)===0)gv(),Qo(),o.flags|=98560,v=!1;else if(v=uc(o),h!==null&&h.dehydrated!==null){if(i===null){if(!v)throw Error(t(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[kr]=o}else Qo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Xt(o),v=!1}else hr!==null&&(Lf(hr),hr=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(ct.current&1)!==0?kt===0&&(kt=3):Ff())),o.updateQueue!==null&&(o.flags|=4),Xt(o),null);case 4:return Zo(),Sf(i,o),i===null&&ul(o.stateNode.containerInfo),Xt(o),null;case 10:return Yd(o.type._context),Xt(o),null;case 17:return vn(o.type)&&ic(),Xt(o),null;case 19:if(it(ct),v=o.memoizedState,v===null)return Xt(o),null;if(h=(o.flags&128)!==0,T=v.rendering,T===null)if(h)El(v,!1);else{if(kt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(T=mc(i),T!==null){for(o.flags|=128,El(v,!1),h=T.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=l,l=o.child;l!==null;)v=l,i=h,v.flags&=14680066,T=v.alternate,T===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,i=T.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return nt(ct,ct.current&1|2),o.child}i=i.sibling}v.tail!==null&&tt()>ra&&(o.flags|=128,h=!0,El(v,!1),o.lanes=4194304)}else{if(!h)if(i=mc(T),i!==null){if(o.flags|=128,h=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),El(v,!0),v.tail===null&&v.tailMode==="hidden"&&!T.alternate&&!ut)return Xt(o),null}else 2*tt()-v.renderingStartTime>ra&&l!==1073741824&&(o.flags|=128,h=!0,El(v,!1),o.lanes=4194304);v.isBackwards?(T.sibling=o.child,o.child=T):(l=v.last,l!==null?l.sibling=T:o.child=T,v.last=T)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=tt(),o.sibling=null,l=ct.current,nt(ct,h?l&1|2:l&1),o):(Xt(o),null);case 22:case 23:return Mf(),h=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(Dn&1073741824)!==0&&(Xt(o),o.subtreeFlags&6&&(o.flags|=8192)):Xt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function ER(i,o){switch(Wd(o),o.tag){case 1:return vn(o.type)&&ic(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Zo(),it(gn),it(Gt),sf(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return nf(o),null;case 13:if(it(ct),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Qo()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return it(ct),null;case 4:return Zo(),null;case 10:return Yd(o.type._context),null;case 22:case 23:return Mf(),null;case 24:return null;default:return null}}var Sc=!1,Yt=!1,TR=typeof WeakSet=="function"?WeakSet:Set,fe=null;function ta(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){mt(i,o,h)}else l.current=null}function Rf(i,o,l){try{l()}catch(h){mt(i,o,h)}}var py=!1;function IR(i,o){if(Vd=Oi,i=qg(),xd(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var p=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var T=0,O=-1,M=-1,G=0,re=0,ie=i,ne=null;t:for(;;){for(var ce;ie!==l||p!==0&&ie.nodeType!==3||(O=T+p),ie!==v||h!==0&&ie.nodeType!==3||(M=T+h),ie.nodeType===3&&(T+=ie.nodeValue.length),(ce=ie.firstChild)!==null;)ne=ie,ie=ce;for(;;){if(ie===i)break t;if(ne===l&&++G===p&&(O=T),ne===v&&++re===h&&(M=T),(ce=ie.nextSibling)!==null)break;ie=ne,ne=ie.parentNode}ie=ce}l=O===-1||M===-1?null:{start:O,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(Md={focusedElem:i,selectionRange:l},Oi=!1,fe=o;fe!==null;)if(o=fe,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,fe=i;else for(;fe!==null;){o=fe;try{var pe=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var ge=pe.memoizedProps,vt=pe.memoizedState,H=o.stateNode,U=H.getSnapshotBeforeUpdate(o.elementType===o.type?ge:dr(o.type,ge),vt);H.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var W=o.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(oe){mt(o,o.return,oe)}if(i=o.sibling,i!==null){i.return=o.return,fe=i;break}fe=o.return}return pe=py,py=!1,pe}function Tl(i,o,l){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&i)===i){var v=p.destroy;p.destroy=void 0,v!==void 0&&Rf(o,l,v)}p=p.next}while(p!==h)}}function Rc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var h=l.create;l.destroy=h()}l=l.next}while(l!==o)}}function Cf(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function my(i){var o=i.alternate;o!==null&&(i.alternate=null,my(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[kr],delete o[hl],delete o[$d],delete o[sR],delete o[oR])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function gy(i){return i.tag===5||i.tag===3||i.tag===4}function vy(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||gy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Af(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=nc));else if(h!==4&&(i=i.child,i!==null))for(Af(i,o,l),i=i.sibling;i!==null;)Af(i,o,l),i=i.sibling}function xf(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(xf(i,o,l),i=i.sibling;i!==null;)xf(i,o,l),i=i.sibling}var Bt=null,fr=!1;function Bi(i,o,l){for(l=l.child;l!==null;)yy(i,o,l),l=l.sibling}function yy(i,o,l){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(Ps,l)}catch{}switch(l.tag){case 5:Yt||ta(l,o);case 6:var h=Bt,p=fr;Bt=null,Bi(i,o,l),Bt=h,fr=p,Bt!==null&&(fr?(i=Bt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Bt.removeChild(l.stateNode));break;case 18:Bt!==null&&(fr?(i=Bt,l=l.stateNode,i.nodeType===8?Ud(i.parentNode,l):i.nodeType===1&&Ud(i,l),lr(i)):Ud(Bt,l.stateNode));break;case 4:h=Bt,p=fr,Bt=l.stateNode.containerInfo,fr=!0,Bi(i,o,l),Bt=h,fr=p;break;case 0:case 11:case 14:case 15:if(!Yt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var v=p,T=v.destroy;v=v.tag,T!==void 0&&((v&2)!==0||(v&4)!==0)&&Rf(l,o,T),p=p.next}while(p!==h)}Bi(i,o,l);break;case 1:if(!Yt&&(ta(l,o),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(O){mt(l,o,O)}Bi(i,o,l);break;case 21:Bi(i,o,l);break;case 22:l.mode&1?(Yt=(h=Yt)||l.memoizedState!==null,Bi(i,o,l),Yt=h):Bi(i,o,l);break;default:Bi(i,o,l)}}function _y(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new TR),o.forEach(function(h){var p=bR.bind(null,i,h);l.has(h)||(l.add(h),h.then(p,p))})}}function pr(i,o){var l=o.deletions;if(l!==null)for(var h=0;h<l.length;h++){var p=l[h];try{var v=i,T=o,O=T;e:for(;O!==null;){switch(O.tag){case 5:Bt=O.stateNode,fr=!1;break e;case 3:Bt=O.stateNode.containerInfo,fr=!0;break e;case 4:Bt=O.stateNode.containerInfo,fr=!0;break e}O=O.return}if(Bt===null)throw Error(t(160));yy(v,T,p),Bt=null,fr=!1;var M=p.alternate;M!==null&&(M.return=null),p.return=null}catch(G){mt(p,o,G)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)wy(o,i),o=o.sibling}function wy(i,o){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(pr(o,i),br(i),h&4){try{Tl(3,i,i.return),Rc(3,i)}catch(ge){mt(i,i.return,ge)}try{Tl(5,i,i.return)}catch(ge){mt(i,i.return,ge)}}break;case 1:pr(o,i),br(i),h&512&&l!==null&&ta(l,l.return);break;case 5:if(pr(o,i),br(i),h&512&&l!==null&&ta(l,l.return),i.flags&32){var p=i.stateNode;try{Un(p,"")}catch(ge){mt(i,i.return,ge)}}if(h&4&&(p=i.stateNode,p!=null)){var v=i.memoizedProps,T=l!==null?l.memoizedProps:v,O=i.type,M=i.updateQueue;if(i.updateQueue=null,M!==null)try{O==="input"&&v.type==="radio"&&v.name!=null&&An(p,v),Ba(O,T);var G=Ba(O,v);for(T=0;T<M.length;T+=2){var re=M[T],ie=M[T+1];re==="style"?on(p,ie):re==="dangerouslySetInnerHTML"?Ri(p,ie):re==="children"?Un(p,ie):B(p,re,ie,G)}switch(O){case"input":dn(p,v);break;case"textarea":sn(p,v);break;case"select":var ne=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!v.multiple;var ce=v.value;ce!=null?Kt(p,!!v.multiple,ce,!1):ne!==!!v.multiple&&(v.defaultValue!=null?Kt(p,!!v.multiple,v.defaultValue,!0):Kt(p,!!v.multiple,v.multiple?[]:"",!1))}p[hl]=v}catch(ge){mt(i,i.return,ge)}}break;case 6:if(pr(o,i),br(i),h&4){if(i.stateNode===null)throw Error(t(162));p=i.stateNode,v=i.memoizedProps;try{p.nodeValue=v}catch(ge){mt(i,i.return,ge)}}break;case 3:if(pr(o,i),br(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{lr(o.containerInfo)}catch(ge){mt(i,i.return,ge)}break;case 4:pr(o,i),br(i);break;case 13:pr(o,i),br(i),p=i.child,p.flags&8192&&(v=p.memoizedState!==null,p.stateNode.isHidden=v,!v||p.alternate!==null&&p.alternate.memoizedState!==null||(Nf=tt())),h&4&&_y(i);break;case 22:if(re=l!==null&&l.memoizedState!==null,i.mode&1?(Yt=(G=Yt)||re,pr(o,i),Yt=G):pr(o,i),br(i),h&8192){if(G=i.memoizedState!==null,(i.stateNode.isHidden=G)&&!re&&(i.mode&1)!==0)for(fe=i,re=i.child;re!==null;){for(ie=fe=re;fe!==null;){switch(ne=fe,ce=ne.child,ne.tag){case 0:case 11:case 14:case 15:Tl(4,ne,ne.return);break;case 1:ta(ne,ne.return);var pe=ne.stateNode;if(typeof pe.componentWillUnmount=="function"){h=ne,l=ne.return;try{o=h,pe.props=o.memoizedProps,pe.state=o.memoizedState,pe.componentWillUnmount()}catch(ge){mt(h,l,ge)}}break;case 5:ta(ne,ne.return);break;case 22:if(ne.memoizedState!==null){Iy(ie);continue}}ce!==null?(ce.return=ne,fe=ce):Iy(ie)}re=re.sibling}e:for(re=null,ie=i;;){if(ie.tag===5){if(re===null){re=ie;try{p=ie.stateNode,G?(v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(O=ie.stateNode,M=ie.memoizedProps.style,T=M!=null&&M.hasOwnProperty("display")?M.display:null,O.style.display=Ge("display",T))}catch(ge){mt(i,i.return,ge)}}}else if(ie.tag===6){if(re===null)try{ie.stateNode.nodeValue=G?"":ie.memoizedProps}catch(ge){mt(i,i.return,ge)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===i)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===i)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===i)break e;re===ie&&(re=null),ie=ie.return}re===ie&&(re=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:pr(o,i),br(i),h&4&&_y(i);break;case 21:break;default:pr(o,i),br(i)}}function br(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(gy(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(Un(p,""),h.flags&=-33);var v=vy(i);xf(i,v,p);break;case 3:case 4:var T=h.stateNode.containerInfo,O=vy(i);Af(i,O,T);break;default:throw Error(t(161))}}catch(M){mt(i,i.return,M)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function SR(i,o,l){fe=i,Ey(i)}function Ey(i,o,l){for(var h=(i.mode&1)!==0;fe!==null;){var p=fe,v=p.child;if(p.tag===22&&h){var T=p.memoizedState!==null||Sc;if(!T){var O=p.alternate,M=O!==null&&O.memoizedState!==null||Yt;O=Sc;var G=Yt;if(Sc=T,(Yt=M)&&!G)for(fe=p;fe!==null;)T=fe,M=T.child,T.tag===22&&T.memoizedState!==null?Sy(p):M!==null?(M.return=T,fe=M):Sy(p);for(;v!==null;)fe=v,Ey(v),v=v.sibling;fe=p,Sc=O,Yt=G}Ty(i)}else(p.subtreeFlags&8772)!==0&&v!==null?(v.return=p,fe=v):Ty(i)}}function Ty(i){for(;fe!==null;){var o=fe;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Yt||Rc(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!Yt)if(l===null)h.componentDidMount();else{var p=o.elementType===o.type?l.memoizedProps:dr(o.type,l.memoizedProps);h.componentDidUpdate(p,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&Iv(o,v,h);break;case 3:var T=o.updateQueue;if(T!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}Iv(o,T,l)}break;case 5:var O=o.stateNode;if(l===null&&o.flags&4){l=O;var M=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&l.focus();break;case"img":M.src&&(l.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var G=o.alternate;if(G!==null){var re=G.memoizedState;if(re!==null){var ie=re.dehydrated;ie!==null&&lr(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Yt||o.flags&512&&Cf(o)}catch(ne){mt(o,o.return,ne)}}if(o===i){fe=null;break}if(l=o.sibling,l!==null){l.return=o.return,fe=l;break}fe=o.return}}function Iy(i){for(;fe!==null;){var o=fe;if(o===i){fe=null;break}var l=o.sibling;if(l!==null){l.return=o.return,fe=l;break}fe=o.return}}function Sy(i){for(;fe!==null;){var o=fe;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Rc(4,o)}catch(M){mt(o,l,M)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var p=o.return;try{h.componentDidMount()}catch(M){mt(o,p,M)}}var v=o.return;try{Cf(o)}catch(M){mt(o,v,M)}break;case 5:var T=o.return;try{Cf(o)}catch(M){mt(o,T,M)}}}catch(M){mt(o,o.return,M)}if(o===i){fe=null;break}var O=o.sibling;if(O!==null){O.return=o.return,fe=O;break}fe=o.return}}var RR=Math.ceil,Cc=K.ReactCurrentDispatcher,kf=K.ReactCurrentOwner,Qn=K.ReactCurrentBatchConfig,Ke=0,Dt=null,wt=null,zt=0,Dn=0,na=Mi(0),kt=0,Il=null,Hs=0,Ac=0,Pf=0,Sl=null,_n=null,Nf=0,ra=1/0,oi=null,xc=!1,bf=null,zi=null,kc=!1,Hi=null,Pc=0,Rl=0,Of=null,Nc=-1,bc=0;function cn(){return(Ke&6)!==0?tt():Nc!==-1?Nc:Nc=tt()}function Wi(i){return(i.mode&1)===0?1:(Ke&2)!==0&&zt!==0?zt&-zt:lR.transition!==null?(bc===0&&(bc=bs()),bc):(i=ze,i!==0||(i=window.event,i=i===void 0?16:Za(i.type)),i)}function mr(i,o,l,h){if(50<Rl)throw Rl=0,Of=null,Error(t(185));ki(i,l,h),((Ke&2)===0||i!==Dt)&&(i===Dt&&((Ke&2)===0&&(Ac|=l),kt===4&&qi(i,zt)),wn(i,h),l===1&&Ke===0&&(o.mode&1)===0&&(ra=tt()+500,oc&&ji()))}function wn(i,o){var l=i.callbackNode;Gr(i,o);var h=Ns(i,i===Dt?zt:0);if(h===0)l!==null&&Ga(l),i.callbackNode=null,i.callbackPriority=0;else if(o=h&-h,i.callbackPriority!==o){if(l!=null&&Ga(l),o===1)i.tag===0?aR(Cy.bind(null,i)):hv(Cy.bind(null,i)),rR(function(){(Ke&6)===0&&ji()}),l=null;else{switch(Ni(h)){case 1:l=ks;break;case 4:l=Ci;break;case 16:l=Bn;break;case 536870912:l=bu;break;default:l=Bn}l=Dy(l,Ry.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function Ry(i,o){if(Nc=-1,bc=0,(Ke&6)!==0)throw Error(t(327));var l=i.callbackNode;if(ia()&&i.callbackNode!==l)return null;var h=Ns(i,i===Dt?zt:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||o)o=Oc(i,h);else{o=h;var p=Ke;Ke|=2;var v=xy();(Dt!==i||zt!==o)&&(oi=null,ra=tt()+500,qs(i,o));do try{xR();break}catch(O){Ay(i,O)}while(!0);Xd(),Cc.current=v,Ke=p,wt!==null?o=0:(Dt=null,zt=0,o=kt)}if(o!==0){if(o===2&&(p=kn(i),p!==0&&(h=p,o=Df(i,p))),o===1)throw l=Il,qs(i,0),qi(i,h),wn(i,tt()),l;if(o===6)qi(i,h);else{if(p=i.current.alternate,(h&30)===0&&!CR(p)&&(o=Oc(i,h),o===2&&(v=kn(i),v!==0&&(h=v,o=Df(i,v))),o===1))throw l=Il,qs(i,0),qi(i,h),wn(i,tt()),l;switch(i.finishedWork=p,i.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:Ks(i,_n,oi);break;case 3:if(qi(i,h),(h&130023424)===h&&(o=Nf+500-tt(),10<o)){if(Ns(i,0)!==0)break;if(p=i.suspendedLanes,(p&h)!==h){cn(),i.pingedLanes|=i.suspendedLanes&p;break}i.timeoutHandle=jd(Ks.bind(null,i,_n,oi),o);break}Ks(i,_n,oi);break;case 4:if(qi(i,h),(h&4194240)===h)break;for(o=i.eventTimes,p=-1;0<h;){var T=31-an(h);v=1<<T,T=o[T],T>p&&(p=T),h&=~v}if(h=p,h=tt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*RR(h/1960))-h,10<h){i.timeoutHandle=jd(Ks.bind(null,i,_n,oi),h);break}Ks(i,_n,oi);break;case 5:Ks(i,_n,oi);break;default:throw Error(t(329))}}}return wn(i,tt()),i.callbackNode===l?Ry.bind(null,i):null}function Df(i,o){var l=Sl;return i.current.memoizedState.isDehydrated&&(qs(i,o).flags|=256),i=Oc(i,o),i!==2&&(o=_n,_n=l,o!==null&&Lf(o)),i}function Lf(i){_n===null?_n=i:_n.push.apply(_n,i)}function CR(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var p=l[h],v=p.getSnapshot;p=p.value;try{if(!cr(v(),p))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function qi(i,o){for(o&=~Pf,o&=~Ac,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-an(o),h=1<<l;i[l]=-1,o&=~h}}function Cy(i){if((Ke&6)!==0)throw Error(t(327));ia();var o=Ns(i,0);if((o&1)===0)return wn(i,tt()),null;var l=Oc(i,o);if(i.tag!==0&&l===2){var h=kn(i);h!==0&&(o=h,l=Df(i,h))}if(l===1)throw l=Il,qs(i,0),qi(i,o),wn(i,tt()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Ks(i,_n,oi),wn(i,tt()),null}function Vf(i,o){var l=Ke;Ke|=1;try{return i(o)}finally{Ke=l,Ke===0&&(ra=tt()+500,oc&&ji())}}function Ws(i){Hi!==null&&Hi.tag===0&&(Ke&6)===0&&ia();var o=Ke;Ke|=1;var l=Qn.transition,h=ze;try{if(Qn.transition=null,ze=1,i)return i()}finally{ze=h,Qn.transition=l,Ke=o,(Ke&6)===0&&ji()}}function Mf(){Dn=na.current,it(na)}function qs(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,nR(l)),wt!==null)for(l=wt.return;l!==null;){var h=l;switch(Wd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&ic();break;case 3:Zo(),it(gn),it(Gt),sf();break;case 5:nf(h);break;case 4:Zo();break;case 13:it(ct);break;case 19:it(ct);break;case 10:Yd(h.type._context);break;case 22:case 23:Mf()}l=l.return}if(Dt=i,wt=i=Ki(i.current,null),zt=Dn=o,kt=0,Il=null,Pf=Ac=Hs=0,_n=Sl=null,$s!==null){for(o=0;o<$s.length;o++)if(l=$s[o],h=l.interleaved,h!==null){l.interleaved=null;var p=h.next,v=l.pending;if(v!==null){var T=v.next;v.next=p,h.next=T}l.pending=h}$s=null}return i}function Ay(i,o){do{var l=wt;try{if(Xd(),gc.current=wc,vc){for(var h=ht.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}vc=!1}if(zs=0,Ot=xt=ht=null,vl=!1,yl=0,kf.current=null,l===null||l.return===null){kt=1,Il=o,wt=null;break}e:{var v=i,T=l.return,O=l,M=o;if(o=zt,O.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var G=M,re=O,ie=re.tag;if((re.mode&1)===0&&(ie===0||ie===11||ie===15)){var ne=re.alternate;ne?(re.updateQueue=ne.updateQueue,re.memoizedState=ne.memoizedState,re.lanes=ne.lanes):(re.updateQueue=null,re.memoizedState=null)}var ce=Jv(T);if(ce!==null){ce.flags&=-257,Zv(ce,T,O,v,o),ce.mode&1&&Yv(v,G,o),o=ce,M=G;var pe=o.updateQueue;if(pe===null){var ge=new Set;ge.add(M),o.updateQueue=ge}else pe.add(M);break e}else{if((o&1)===0){Yv(v,G,o),Ff();break e}M=Error(t(426))}}else if(ut&&O.mode&1){var vt=Jv(T);if(vt!==null){(vt.flags&65536)===0&&(vt.flags|=256),Zv(vt,T,O,v,o),Gd(ea(M,O));break e}}v=M=ea(M,O),kt!==4&&(kt=2),Sl===null?Sl=[v]:Sl.push(v),v=T;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var H=Qv(v,M,o);Tv(v,H);break e;case 1:O=M;var U=v.type,W=v.stateNode;if((v.flags&128)===0&&(typeof U.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(zi===null||!zi.has(W)))){v.flags|=65536,o&=-o,v.lanes|=o;var oe=Xv(v,O,o);Tv(v,oe);break e}}v=v.return}while(v!==null)}Py(l)}catch(ye){o=ye,wt===l&&l!==null&&(wt=l=l.return);continue}break}while(!0)}function xy(){var i=Cc.current;return Cc.current=wc,i===null?wc:i}function Ff(){(kt===0||kt===3||kt===2)&&(kt=4),Dt===null||(Hs&268435455)===0&&(Ac&268435455)===0||qi(Dt,zt)}function Oc(i,o){var l=Ke;Ke|=2;var h=xy();(Dt!==i||zt!==o)&&(oi=null,qs(i,o));do try{AR();break}catch(p){Ay(i,p)}while(!0);if(Xd(),Ke=l,Cc.current=h,wt!==null)throw Error(t(261));return Dt=null,zt=0,kt}function AR(){for(;wt!==null;)ky(wt)}function xR(){for(;wt!==null&&!Pu();)ky(wt)}function ky(i){var o=Oy(i.alternate,i,Dn);i.memoizedProps=i.pendingProps,o===null?Py(i):wt=o,kf.current=null}function Py(i){var o=i;do{var l=o.alternate;if(i=o.return,(o.flags&32768)===0){if(l=wR(l,o,Dn),l!==null){wt=l;return}}else{if(l=ER(l,o),l!==null){l.flags&=32767,wt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{kt=6,wt=null;return}}if(o=o.sibling,o!==null){wt=o;return}wt=o=i}while(o!==null);kt===0&&(kt=5)}function Ks(i,o,l){var h=ze,p=Qn.transition;try{Qn.transition=null,ze=1,kR(i,o,l,h)}finally{Qn.transition=p,ze=h}return null}function kR(i,o,l,h){do ia();while(Hi!==null);if((Ke&6)!==0)throw Error(t(327));l=i.finishedWork;var p=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var v=l.lanes|l.childLanes;if(Ze(i,v),i===Dt&&(wt=Dt=null,zt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||kc||(kc=!0,Dy(Bn,function(){return ia(),null})),v=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||v){v=Qn.transition,Qn.transition=null;var T=ze;ze=1;var O=Ke;Ke|=4,kf.current=null,IR(i,l),wy(l,i),QS(Md),Oi=!!Vd,Md=Vd=null,i.current=l,SR(l),wd(),Ke=O,ze=T,Qn.transition=v}else i.current=l;if(kc&&(kc=!1,Hi=i,Pc=p),v=i.pendingLanes,v===0&&(zi=null),Ou(l.stateNode),wn(i,tt()),o!==null)for(h=i.onRecoverableError,l=0;l<o.length;l++)p=o[l],h(p.value,{componentStack:p.stack,digest:p.digest});if(xc)throw xc=!1,i=bf,bf=null,i;return(Pc&1)!==0&&i.tag!==0&&ia(),v=i.pendingLanes,(v&1)!==0?i===Of?Rl++:(Rl=0,Of=i):Rl=0,ji(),null}function ia(){if(Hi!==null){var i=Ni(Pc),o=Qn.transition,l=ze;try{if(Qn.transition=null,ze=16>i?16:i,Hi===null)var h=!1;else{if(i=Hi,Hi=null,Pc=0,(Ke&6)!==0)throw Error(t(331));var p=Ke;for(Ke|=4,fe=i.current;fe!==null;){var v=fe,T=v.child;if((fe.flags&16)!==0){var O=v.deletions;if(O!==null){for(var M=0;M<O.length;M++){var G=O[M];for(fe=G;fe!==null;){var re=fe;switch(re.tag){case 0:case 11:case 15:Tl(8,re,v)}var ie=re.child;if(ie!==null)ie.return=re,fe=ie;else for(;fe!==null;){re=fe;var ne=re.sibling,ce=re.return;if(my(re),re===G){fe=null;break}if(ne!==null){ne.return=ce,fe=ne;break}fe=ce}}}var pe=v.alternate;if(pe!==null){var ge=pe.child;if(ge!==null){pe.child=null;do{var vt=ge.sibling;ge.sibling=null,ge=vt}while(ge!==null)}}fe=v}}if((v.subtreeFlags&2064)!==0&&T!==null)T.return=v,fe=T;else e:for(;fe!==null;){if(v=fe,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Tl(9,v,v.return)}var H=v.sibling;if(H!==null){H.return=v.return,fe=H;break e}fe=v.return}}var U=i.current;for(fe=U;fe!==null;){T=fe;var W=T.child;if((T.subtreeFlags&2064)!==0&&W!==null)W.return=T,fe=W;else e:for(T=U;fe!==null;){if(O=fe,(O.flags&2048)!==0)try{switch(O.tag){case 0:case 11:case 15:Rc(9,O)}}catch(ye){mt(O,O.return,ye)}if(O===T){fe=null;break e}var oe=O.sibling;if(oe!==null){oe.return=O.return,fe=oe;break e}fe=O.return}}if(Ke=p,ji(),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(Ps,i)}catch{}h=!0}return h}finally{ze=l,Qn.transition=o}}return!1}function Ny(i,o,l){o=ea(l,o),o=Qv(i,o,1),i=$i(i,o,1),o=cn(),i!==null&&(ki(i,1,o),wn(i,o))}function mt(i,o,l){if(i.tag===3)Ny(i,i,l);else for(;o!==null;){if(o.tag===3){Ny(o,i,l);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(zi===null||!zi.has(h))){i=ea(l,i),i=Xv(o,i,1),o=$i(o,i,1),i=cn(),o!==null&&(ki(o,1,i),wn(o,i));break}}o=o.return}}function PR(i,o,l){var h=i.pingCache;h!==null&&h.delete(o),o=cn(),i.pingedLanes|=i.suspendedLanes&l,Dt===i&&(zt&l)===l&&(kt===4||kt===3&&(zt&130023424)===zt&&500>tt()-Nf?qs(i,0):Pf|=l),wn(i,o)}function by(i,o){o===0&&((i.mode&1)===0?o=1:(o=Ao,Ao<<=1,(Ao&130023424)===0&&(Ao=4194304)));var l=cn();i=ri(i,o),i!==null&&(ki(i,o,l),wn(i,l))}function NR(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),by(i,l)}function bR(i,o){var l=0;switch(i.tag){case 13:var h=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),by(i,l)}var Oy;Oy=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||gn.current)yn=!0;else{if((i.lanes&l)===0&&(o.flags&128)===0)return yn=!1,_R(i,o,l);yn=(i.flags&131072)!==0}else yn=!1,ut&&(o.flags&1048576)!==0&&dv(o,lc,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Ic(i,o),i=o.pendingProps;var p=qo(o,Gt.current);Jo(o,l),p=lf(null,o,h,i,p,l);var v=uf();return o.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,vn(h)?(v=!0,sc(o)):v=!1,o.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,ef(o),p.updater=Ec,o.stateNode=p,p._reactInternals=o,mf(o,h,i,l),o=_f(null,o,h,!0,v,l)):(o.tag=0,ut&&v&&Hd(o),un(null,o,p,l),o=o.child),o;case 16:h=o.elementType;e:{switch(Ic(i,o),i=o.pendingProps,p=h._init,h=p(h._payload),o.type=h,p=o.tag=DR(h),i=dr(h,i),p){case 0:o=yf(null,o,h,i,l);break e;case 1:o=sy(null,o,h,i,l);break e;case 11:o=ey(null,o,h,i,l);break e;case 14:o=ty(null,o,h,dr(h.type,i),l);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:dr(h,p),yf(i,o,h,p,l);case 1:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:dr(h,p),sy(i,o,h,p,l);case 3:e:{if(oy(o),i===null)throw Error(t(387));h=o.pendingProps,v=o.memoizedState,p=v.element,Ev(i,o),pc(o,h,null,l);var T=o.memoizedState;if(h=T.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){p=ea(Error(t(423)),o),o=ay(i,o,h,l,p);break e}else if(h!==p){p=ea(Error(t(424)),o),o=ay(i,o,h,l,p);break e}else for(On=Vi(o.stateNode.containerInfo.firstChild),bn=o,ut=!0,hr=null,l=_v(o,null,h,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Qo(),h===p){o=si(i,o,l);break e}un(i,o,h,l)}o=o.child}return o;case 5:return Sv(o),i===null&&Kd(o),h=o.type,p=o.pendingProps,v=i!==null?i.memoizedProps:null,T=p.children,Fd(h,p)?T=null:v!==null&&Fd(h,v)&&(o.flags|=32),iy(i,o),un(i,o,T,l),o.child;case 6:return i===null&&Kd(o),null;case 13:return ly(i,o,l);case 4:return tf(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=Xo(o,null,h,l):un(i,o,h,l),o.child;case 11:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:dr(h,p),ey(i,o,h,p,l);case 7:return un(i,o,o.pendingProps,l),o.child;case 8:return un(i,o,o.pendingProps.children,l),o.child;case 12:return un(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(h=o.type._context,p=o.pendingProps,v=o.memoizedProps,T=p.value,nt(hc,h._currentValue),h._currentValue=T,v!==null)if(cr(v.value,T)){if(v.children===p.children&&!gn.current){o=si(i,o,l);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var O=v.dependencies;if(O!==null){T=v.child;for(var M=O.firstContext;M!==null;){if(M.context===h){if(v.tag===1){M=ii(-1,l&-l),M.tag=2;var G=v.updateQueue;if(G!==null){G=G.shared;var re=G.pending;re===null?M.next=M:(M.next=re.next,re.next=M),G.pending=M}}v.lanes|=l,M=v.alternate,M!==null&&(M.lanes|=l),Jd(v.return,l,o),O.lanes|=l;break}M=M.next}}else if(v.tag===10)T=v.type===o.type?null:v.child;else if(v.tag===18){if(T=v.return,T===null)throw Error(t(341));T.lanes|=l,O=T.alternate,O!==null&&(O.lanes|=l),Jd(T,l,o),T=v.sibling}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===o){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}un(i,o,p.children,l),o=o.child}return o;case 9:return p=o.type,h=o.pendingProps.children,Jo(o,l),p=Kn(p),h=h(p),o.flags|=1,un(i,o,h,l),o.child;case 14:return h=o.type,p=dr(h,o.pendingProps),p=dr(h.type,p),ty(i,o,h,p,l);case 15:return ny(i,o,o.type,o.pendingProps,l);case 17:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:dr(h,p),Ic(i,o),o.tag=1,vn(h)?(i=!0,sc(o)):i=!1,Jo(o,l),Kv(o,h,p),mf(o,h,p,l),_f(null,o,h,!0,i,l);case 19:return cy(i,o,l);case 22:return ry(i,o,l)}throw Error(t(156,o.tag))};function Dy(i,o){return Ro(i,o)}function OR(i,o,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(i,o,l,h){return new OR(i,o,l,h)}function jf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function DR(i){if(typeof i=="function")return jf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===F)return 11;if(i===Le)return 14}return 2}function Ki(i,o){var l=i.alternate;return l===null?(l=Xn(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Dc(i,o,l,h,p,v){var T=2;if(h=i,typeof i=="function")jf(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case b:return Gs(l.children,p,v,o);case R:T=8,p|=8;break;case P:return i=Xn(12,l,o,p|2),i.elementType=P,i.lanes=v,i;case N:return i=Xn(13,l,o,p),i.elementType=N,i.lanes=v,i;case ke:return i=Xn(19,l,o,p),i.elementType=ke,i.lanes=v,i;case ve:return Lc(l,p,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case D:T=10;break e;case L:T=9;break e;case F:T=11;break e;case Le:T=14;break e;case be:T=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=Xn(T,l,o,p),o.elementType=i,o.type=h,o.lanes=v,o}function Gs(i,o,l,h){return i=Xn(7,i,h,o),i.lanes=l,i}function Lc(i,o,l,h){return i=Xn(22,i,h,o),i.elementType=ve,i.lanes=l,i.stateNode={isHidden:!1},i}function Uf(i,o,l){return i=Xn(6,i,null,o),i.lanes=l,i}function $f(i,o,l){return o=Xn(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function LR(i,o,l,h,p){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xi(0),this.expirationTimes=xi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xi(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Bf(i,o,l,h,p,v,T,O,M){return i=new LR(i,o,l,O,M),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Xn(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},ef(v),i}function VR(i,o,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y,key:h==null?null:""+h,children:i,containerInfo:o,implementation:l}}function Ly(i){if(!i)return Fi;i=i._reactInternals;e:{if(rr(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(vn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(vn(l))return uv(i,l,o)}return o}function Vy(i,o,l,h,p,v,T,O,M){return i=Bf(l,h,!0,i,p,v,T,O,M),i.context=Ly(null),l=i.current,h=cn(),p=Wi(l),v=ii(h,p),v.callback=o??null,$i(l,v,p),i.current.lanes=p,ki(i,p,h),wn(i,h),i}function Vc(i,o,l,h){var p=o.current,v=cn(),T=Wi(p);return l=Ly(l),o.context===null?o.context=l:o.pendingContext=l,o=ii(v,T),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=$i(p,o,T),i!==null&&(mr(i,p,T,v),fc(i,p,T)),T}function Mc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function My(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function zf(i,o){My(i,o),(i=i.alternate)&&My(i,o)}function MR(){return null}var Fy=typeof reportError=="function"?reportError:function(i){console.error(i)};function Hf(i){this._internalRoot=i}Fc.prototype.render=Hf.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Vc(i,o,null,null)},Fc.prototype.unmount=Hf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Ws(function(){Vc(null,i,null,null)}),o[Zr]=null}};function Fc(i){this._internalRoot=i}Fc.prototype.unstable_scheduleHydration=function(i){if(i){var o=Fu();i={blockedOn:null,target:i,priority:o};for(var l=0;l<Rr.length&&o!==0&&o<Rr[l].priority;l++);Rr.splice(l,0,i),l===0&&$u(i)}};function Wf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function jc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function jy(){}function FR(i,o,l,h,p){if(p){if(typeof h=="function"){var v=h;h=function(){var G=Mc(T);v.call(G)}}var T=Vy(o,h,i,0,null,!1,!1,"",jy);return i._reactRootContainer=T,i[Zr]=T.current,ul(i.nodeType===8?i.parentNode:i),Ws(),T}for(;p=i.lastChild;)i.removeChild(p);if(typeof h=="function"){var O=h;h=function(){var G=Mc(M);O.call(G)}}var M=Bf(i,0,!1,null,null,!1,!1,"",jy);return i._reactRootContainer=M,i[Zr]=M.current,ul(i.nodeType===8?i.parentNode:i),Ws(function(){Vc(o,M,l,h)}),M}function Uc(i,o,l,h,p){var v=l._reactRootContainer;if(v){var T=v;if(typeof p=="function"){var O=p;p=function(){var M=Mc(T);O.call(M)}}Vc(o,T,i,p)}else T=FR(l,o,i,p,h);return Mc(T)}Vu=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=Ai(o.pendingLanes);l!==0&&(Pi(o,l|1),wn(o,tt()),(Ke&6)===0&&(ra=tt()+500,ji()))}break;case 13:Ws(function(){var h=ri(i,1);if(h!==null){var p=cn();mr(h,i,1,p)}}),zf(i,1)}},xo=function(i){if(i.tag===13){var o=ri(i,134217728);if(o!==null){var l=cn();mr(o,i,134217728,l)}zf(i,134217728)}},Mu=function(i){if(i.tag===13){var o=Wi(i),l=ri(i,o);if(l!==null){var h=cn();mr(l,i,o,h)}zf(i,o)}},Fu=function(){return ze},ju=function(i,o){var l=ze;try{return ze=i,o()}finally{ze=l}},_o=function(i,o,l){switch(o){case"input":if(dn(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var h=l[o];if(h!==i&&h.form===i.form){var p=rc(h);if(!p)throw Error(t(90));pt(h),dn(h,p)}}}break;case"textarea":sn(i,l);break;case"select":o=l.value,o!=null&&Kt(i,!!l.multiple,o,!1)}},Rs=Vf,Ha=Ws;var jR={usingClientEntryPoint:!1,Events:[dl,Ho,rc,Ir,za,Vf]},Cl={findFiberByHostInstance:Ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UR={bundleType:Cl.bundleType,version:Cl.version,rendererPackageName:Cl.rendererPackageName,rendererConfig:Cl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:K.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Ka(i),i===null?null:i.stateNode},findFiberByHostInstance:Cl.findFiberByHostInstance||MR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{Ps=$c.inject(UR),xn=$c}catch{}}return En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jR,En.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wf(o))throw Error(t(200));return VR(i,o,null,l)},En.createRoot=function(i,o){if(!Wf(i))throw Error(t(299));var l=!1,h="",p=Fy;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(p=o.onRecoverableError)),o=Bf(i,1,!1,null,null,l,!1,h,p),i[Zr]=o.current,ul(i.nodeType===8?i.parentNode:i),new Hf(o)},En.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Ka(o),i=i===null?null:i.stateNode,i},En.flushSync=function(i){return Ws(i)},En.hydrate=function(i,o,l){if(!jc(o))throw Error(t(200));return Uc(null,i,o,!0,l)},En.hydrateRoot=function(i,o,l){if(!Wf(i))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,p=!1,v="",T=Fy;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),o=Vy(o,null,i,1,l??null,p,!1,v,T),i[Zr]=o.current,ul(i),h)for(i=0;i<h.length;i++)l=h[i],p=l._getVersion,p=p(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,p]:o.mutableSourceEagerHydrationData.push(l,p);return new Fc(o)},En.render=function(i,o,l){if(!jc(o))throw Error(t(200));return Uc(null,i,o,!1,l)},En.unmountComponentAtNode=function(i){if(!jc(i))throw Error(t(40));return i._reactRootContainer?(Ws(function(){Uc(null,null,i,!1,function(){i._reactRootContainer=null,i[Zr]=null})}),!0):!1},En.unstable_batchedUpdates=Vf,En.unstable_renderSubtreeIntoContainer=function(i,o,l,h){if(!jc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Uc(i,o,l,!1,h)},En.version="18.3.1-next-f1338f8080-20240426",En}var Ky;function fE(){if(Ky)return Gf.exports;Ky=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Gf.exports=KR(),Gf.exports}var Gy;function GR(){if(Gy)return Bc;Gy=1;var n=fE();return Bc.createRoot=n.createRoot,Bc.hydrateRoot=n.hydrateRoot,Bc}var QR=GR(),xl={},Qy;function XR(){if(Qy)return xl;Qy=1,Object.defineProperty(xl,"__esModule",{value:!0}),xl.parse=u,xl.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function u(I,A){const x=new a,V=I.length;if(V<2)return x;const k=(A==null?void 0:A.decode)||y;let j=0;do{const q=I.indexOf("=",j);if(q===-1)break;const B=I.indexOf(";",j),K=B===-1?V:B;if(q>K){j=I.lastIndexOf(";",q-1)+1;continue}const J=d(I,j,q),Y=f(I,q,J),b=I.slice(J,Y);if(x[b]===void 0){let R=d(I,q+1,K),P=f(I,K,R);const D=k(I.slice(R,P));x[b]=D}j=K+1}while(j<V);return x}function d(I,A,x){do{const V=I.charCodeAt(A);if(V!==32&&V!==9)return A}while(++A<x);return x}function f(I,A,x){for(;A>x;){const V=I.charCodeAt(--A);if(V!==32&&V!==9)return A+1}return x}function m(I,A,x){const V=(x==null?void 0:x.encode)||encodeURIComponent;if(!n.test(I))throw new TypeError(`argument name is invalid: ${I}`);const k=V(A);if(!e.test(k))throw new TypeError(`argument val is invalid: ${A}`);let j=I+"="+k;if(!x)return j;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);j+="; Max-Age="+x.maxAge}if(x.domain){if(!t.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);j+="; Domain="+x.domain}if(x.path){if(!r.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);j+="; Path="+x.path}if(x.expires){if(!w(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);j+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(j+="; HttpOnly"),x.secure&&(j+="; Secure"),x.partitioned&&(j+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return j}function y(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function w(I){return s.call(I)==="[object Date]"}return xl}XR();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Xy="popstate";function YR(n={}){function e(r,s){let{pathname:a,search:u,hash:d}=r.location;return Rp("",{pathname:a,search:u,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:ql(s)}return ZR(e,t,null,n)}function dt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function zr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JR(){return Math.random().toString(36).substring(2,10)}function Yy(n,e){return{usr:n.state,key:n.key,idx:e}}function Rp(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ba(e):e,state:t,key:e&&e.key||r||JR()}}function ql({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ba(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function ZR(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,d="POP",f=null,m=y();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function y(){return(u.state||{idx:null}).idx}function w(){d="POP";let k=y(),j=k==null?null:k-m;m=k,f&&f({action:d,location:V.location,delta:j})}function I(k,j){d="PUSH";let q=Rp(V.location,k,j);m=y()+1;let B=Yy(q,m),K=V.createHref(q);try{u.pushState(B,"",K)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;s.location.assign(K)}a&&f&&f({action:d,location:V.location,delta:1})}function A(k,j){d="REPLACE";let q=Rp(V.location,k,j);m=y();let B=Yy(q,m),K=V.createHref(q);u.replaceState(B,"",K),a&&f&&f({action:d,location:V.location,delta:0})}function x(k){let j=s.location.origin!=="null"?s.location.origin:s.location.href,q=typeof k=="string"?k:ql(k);return q=q.replace(/ $/,"%20"),dt(j,`No window.location.(origin|href) available to create URL for href: ${q}`),new URL(q,j)}let V={get action(){return d},get location(){return n(s,u)},listen(k){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(Xy,w),f=k,()=>{s.removeEventListener(Xy,w),f=null}},createHref(k){return e(s,k)},createURL:x,encodeLocation(k){let j=x(k);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:I,replace:A,go(k){return u.go(k)}};return V}function pE(n,e,t="/"){return eC(n,e,t,!1)}function eC(n,e,t,r){let s=typeof e=="string"?ba(e):e,a=pi(s.pathname||"/",t);if(a==null)return null;let u=mE(n);tC(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let m=dC(a);d=cC(u[f],m,r)}return d}function mE(n,e=[],t=[],r=""){let s=(a,u,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(dt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let m=di([r,f.relativePath]),y=t.concat(f);a.children&&a.children.length>0&&(dt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),mE(a.children,e,y,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:lC(m,a.index),routesMeta:y})};return n.forEach((a,u)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))s(a,u);else for(let f of gE(a.path))s(a,u,f)}),e}function gE(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=gE(r.join("/")),d=[];return d.push(...u.map(f=>f===""?a:[a,f].join("/"))),s&&d.push(...u),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function tC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:uC(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var nC=/^:[\w-]+$/,rC=3,iC=2,sC=1,oC=10,aC=-2,Jy=n=>n==="*";function lC(n,e){let t=n.split("/"),r=t.length;return t.some(Jy)&&(r+=aC),e&&(r+=iC),t.filter(s=>!Jy(s)).reduce((s,a)=>s+(nC.test(a)?rC:a===""?sC:oC),r)}function uC(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function cC(n,e,t=!1){let{routesMeta:r}=n,s={},a="/",u=[];for(let d=0;d<r.length;++d){let f=r[d],m=d===r.length-1,y=a==="/"?e:e.slice(a.length)||"/",w=mh({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},y),I=f.route;if(!w&&m&&t&&!r[r.length-1].route.index&&(w=mh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!w)return null;Object.assign(s,w.params),u.push({params:s,pathname:di([a,w.pathname]),pathnameBase:gC(di([a,w.pathnameBase])),route:I}),w.pathnameBase!=="/"&&(a=di([a,w.pathnameBase]))}return u}function mh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=hC(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((m,{paramName:y,isOptional:w},I)=>{if(y==="*"){let x=d[I]||"";u=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const A=d[I];return w&&!A?m[y]=void 0:m[y]=(A||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:n}}function hC(n,e=!1,t=!0){zr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function dC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function pi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function fC(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?ba(n):n;return{pathname:t?t.startsWith("/")?t:pC(t,e):e,search:vC(r),hash:yC(s)}}function pC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Yf(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function vE(n){let e=mC(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function yE(n,e,t,r=!1){let s;typeof n=="string"?s=ba(n):(s={...n},dt(!s.pathname||!s.pathname.includes("?"),Yf("?","pathname","search",s)),dt(!s.pathname||!s.pathname.includes("#"),Yf("#","pathname","hash",s)),dt(!s.search||!s.search.includes("#"),Yf("#","search","hash",s)));let a=n===""||s.pathname==="",u=a?"/":s.pathname,d;if(u==null)d=t;else{let w=e.length-1;if(!r&&u.startsWith("..")){let I=u.split("/");for(;I[0]==="..";)I.shift(),w-=1;s.pathname=I.join("/")}d=w>=0?e[w]:"/"}let f=fC(s,d),m=u&&u!=="/"&&u.endsWith("/"),y=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||y)&&(f.pathname+="/"),f}var di=n=>n.join("/").replace(/\/\/+/g,"/"),gC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),vC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,yC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function _C(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var _E=["POST","PUT","PATCH","DELETE"];new Set(_E);var wC=["GET",..._E];new Set(wC);var Oa=E.createContext(null);Oa.displayName="DataRouter";var jh=E.createContext(null);jh.displayName="DataRouterState";var wE=E.createContext({isTransitioning:!1});wE.displayName="ViewTransition";var EC=E.createContext(new Map);EC.displayName="Fetchers";var TC=E.createContext(null);TC.displayName="Await";var Wr=E.createContext(null);Wr.displayName="Navigation";var uu=E.createContext(null);uu.displayName="Location";var Ti=E.createContext({outlet:null,matches:[],isDataRoute:!1});Ti.displayName="Route";var um=E.createContext(null);um.displayName="RouteError";function IC(n,{relative:e}={}){dt(cu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=E.useContext(Wr),{hash:s,pathname:a,search:u}=hu(n,{relative:e}),d=a;return t!=="/"&&(d=a==="/"?t:di([t,a])),r.createHref({pathname:d,search:u,hash:s})}function cu(){return E.useContext(uu)!=null}function _s(){return dt(cu(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(uu).location}var EE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function TE(n){E.useContext(Wr).static||E.useLayoutEffect(n)}function cm(){let{isDataRoute:n}=E.useContext(Ti);return n?VC():SC()}function SC(){dt(cu(),"useNavigate() may be used only in the context of a <Router> component.");let n=E.useContext(Oa),{basename:e,navigator:t}=E.useContext(Wr),{matches:r}=E.useContext(Ti),{pathname:s}=_s(),a=JSON.stringify(vE(r)),u=E.useRef(!1);return TE(()=>{u.current=!0}),E.useCallback((f,m={})=>{if(zr(u.current,EE),!u.current)return;if(typeof f=="number"){t.go(f);return}let y=yE(f,JSON.parse(a),s,m.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:di([e,y.pathname])),(m.replace?t.replace:t.push)(y,m.state,m)},[e,t,a,s,n])}E.createContext(null);function hu(n,{relative:e}={}){let{matches:t}=E.useContext(Ti),{pathname:r}=_s(),s=JSON.stringify(vE(t));return E.useMemo(()=>yE(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function RC(n,e){return IE(n,e)}function IE(n,e,t,r){var q;dt(cu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=E.useContext(Wr),{matches:u}=E.useContext(Ti),d=u[u.length-1],f=d?d.params:{},m=d?d.pathname:"/",y=d?d.pathnameBase:"/",w=d&&d.route;{let B=w&&w.path||"";SE(m,!w||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let I=_s(),A;if(e){let B=typeof e=="string"?ba(e):e;dt(y==="/"||((q=B.pathname)==null?void 0:q.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${B.pathname}" was given in the \`location\` prop.`),A=B}else A=I;let x=A.pathname||"/",V=x;if(y!=="/"){let B=y.replace(/^\//,"").split("/");V="/"+x.replace(/^\//,"").split("/").slice(B.length).join("/")}let k=!a&&t&&t.matches&&t.matches.length>0?t.matches:pE(n,{pathname:V});zr(w||k!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),zr(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=PC(k&&k.map(B=>Object.assign({},B,{params:Object.assign({},f,B.params),pathname:di([y,s.encodeLocation?s.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?y:di([y,s.encodeLocation?s.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),u,t,r);return e&&j?E.createElement(uu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},j):j}function CC(){let n=LC(),e=_C(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=E.createElement(E.Fragment,null,E.createElement("p",null,"💿 Hey developer 👋"),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:a},"ErrorBoundary")," or"," ",E.createElement("code",{style:a},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),t?E.createElement("pre",{style:s},t):null,u)}var AC=E.createElement(CC,null),xC=class extends E.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?E.createElement(Ti.Provider,{value:this.props.routeContext},E.createElement(um.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kC({routeContext:n,match:e,children:t}){let r=E.useContext(Oa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(Ti.Provider,{value:n},t)}function PC(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let f=s.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);dt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,d=-1;if(t)for(let f=0;f<s.length;f++){let m=s[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:y,errors:w}=t,I=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!w||w[m.route.id]===void 0);if(m.route.lazy||I){u=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((f,m,y)=>{let w,I=!1,A=null,x=null;t&&(w=a&&m.route.id?a[m.route.id]:void 0,A=m.route.errorElement||AC,u&&(d<0&&y===0?(SE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,x=null):d===y&&(I=!0,x=m.route.hydrateFallbackElement||null)));let V=e.concat(s.slice(0,y+1)),k=()=>{let j;return w?j=A:I?j=x:m.route.Component?j=E.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=f,E.createElement(kC,{match:m,routeContext:{outlet:f,matches:V,isDataRoute:t!=null},children:j})};return t&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?E.createElement(xC,{location:t.location,revalidation:t.revalidation,component:A,error:w,children:k(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):k()},null)}function hm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NC(n){let e=E.useContext(Oa);return dt(e,hm(n)),e}function bC(n){let e=E.useContext(jh);return dt(e,hm(n)),e}function OC(n){let e=E.useContext(Ti);return dt(e,hm(n)),e}function dm(n){let e=OC(n),t=e.matches[e.matches.length-1];return dt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function DC(){return dm("useRouteId")}function LC(){var r;let n=E.useContext(um),e=bC("useRouteError"),t=dm("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function VC(){let{router:n}=NC("useNavigate"),e=dm("useNavigate"),t=E.useRef(!1);return TE(()=>{t.current=!0}),E.useCallback(async(s,a={})=>{zr(t.current,EE),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var Zy={};function SE(n,e,t){!e&&!Zy[n]&&(Zy[n]=!0,zr(!1,t))}E.memo(MC);function MC({routes:n,future:e,state:t}){return IE(n,void 0,t,e)}function Ys(n){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function FC({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:a=!1}){dt(!cu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=E.useMemo(()=>({basename:u,navigator:s,static:a,future:{}}),[u,s,a]);typeof t=="string"&&(t=ba(t));let{pathname:f="/",search:m="",hash:y="",state:w=null,key:I="default"}=t,A=E.useMemo(()=>{let x=pi(f,u);return x==null?null:{location:{pathname:x,search:m,hash:y,state:w,key:I},navigationType:r}},[u,f,m,y,w,I,r]);return zr(A!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:E.createElement(Wr.Provider,{value:d},E.createElement(uu.Provider,{children:e,value:A}))}function jC({children:n,location:e}){return RC(Cp(n),e)}function Cp(n,e=[]){let t=[];return E.Children.forEach(n,(r,s)=>{if(!E.isValidElement(r))return;let a=[...e,s];if(r.type===E.Fragment){t.push.apply(t,Cp(r.props.children,a));return}dt(r.type===Ys,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Cp(r.props.children,a)),t.push(u)}),t}var nh="get",rh="application/x-www-form-urlencoded";function Uh(n){return n!=null&&typeof n.tagName=="string"}function UC(n){return Uh(n)&&n.tagName.toLowerCase()==="button"}function $C(n){return Uh(n)&&n.tagName.toLowerCase()==="form"}function BC(n){return Uh(n)&&n.tagName.toLowerCase()==="input"}function zC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function HC(n,e){return n.button===0&&(!e||e==="_self")&&!zC(n)}var zc=null;function WC(){if(zc===null)try{new FormData(document.createElement("form"),0),zc=!1}catch{zc=!0}return zc}var qC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jf(n){return n!=null&&!qC.has(n)?(zr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rh}"`),null):n}function KC(n,e){let t,r,s,a,u;if($C(n)){let d=n.getAttribute("action");r=d?pi(d,e):null,t=n.getAttribute("method")||nh,s=Jf(n.getAttribute("enctype"))||rh,a=new FormData(n)}else if(UC(n)||BC(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||d.getAttribute("action");if(r=f?pi(f,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||nh,s=Jf(n.getAttribute("formenctype"))||Jf(d.getAttribute("enctype"))||rh,a=new FormData(d,n),!WC()){let{name:m,type:y,value:w}=n;if(y==="image"){let I=m?`${m}.`:"";a.append(`${I}x`,"0"),a.append(`${I}y`,"0")}else m&&a.append(m,w)}}else{if(Uh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=nh,r=null,s=rh,u=n}return a&&s==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:a,body:u}}function fm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function GC(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QC(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function XC(n,e,t){let r=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let u=await GC(a,t);return u.links?u.links():[]}return[]}));return eA(r.flat(1).filter(QC).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function e_(n,e,t,r,s,a){let u=(f,m)=>t[m]?f.route.id!==t[m].route.id:!0,d=(f,m)=>{var y;return t[m].pathname!==f.pathname||((y=t[m].route.path)==null?void 0:y.endsWith("*"))&&t[m].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,m)=>u(f,m)||d(f,m)):a==="data"?e.filter((f,m)=>{var w;let y=r.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(u(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let I=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function YC(n,e,{includeHydrateFallback:t}={}){return JC(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function JC(n){return[...new Set(n)]}function ZC(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function eA(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let a=JSON.stringify(ZC(s));return t.has(a)||(t.add(a),r.push({key:a,link:s})),r},[])}function tA(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&pi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function RE(){let n=E.useContext(Oa);return fm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function nA(){let n=E.useContext(jh);return fm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var pm=E.createContext(void 0);pm.displayName="FrameworkContext";function CE(){let n=E.useContext(pm);return fm(n,"You must render this element inside a <HydratedRouter> element"),n}function rA(n,e){let t=E.useContext(pm),[r,s]=E.useState(!1),[a,u]=E.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:y,onTouchStart:w}=e,I=E.useRef(null);E.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let V=j=>{j.forEach(q=>{u(q.isIntersecting)})},k=new IntersectionObserver(V,{threshold:.5});return I.current&&k.observe(I.current),()=>{k.disconnect()}}},[n]),E.useEffect(()=>{if(r){let V=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(V)}}},[r]);let A=()=>{s(!0)},x=()=>{s(!1),u(!1)};return t?n!=="intent"?[a,I,{}]:[a,I,{onFocus:kl(d,A),onBlur:kl(f,x),onMouseEnter:kl(m,A),onMouseLeave:kl(y,x),onTouchStart:kl(w,A)}]:[!1,I,{}]}function kl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function iA({page:n,...e}){let{router:t}=RE(),r=E.useMemo(()=>pE(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?E.createElement(oA,{page:n,matches:r,...e}):null}function sA(n){let{manifest:e,routeModules:t}=CE(),[r,s]=E.useState([]);return E.useEffect(()=>{let a=!1;return XC(n,e,t).then(u=>{a||s(u)}),()=>{a=!0}},[n,e,t]),r}function oA({page:n,matches:e,...t}){let r=_s(),{manifest:s,routeModules:a}=CE(),{basename:u}=RE(),{loaderData:d,matches:f}=nA(),m=E.useMemo(()=>e_(n,e,f,s,r,"data"),[n,e,f,s,r]),y=E.useMemo(()=>e_(n,e,f,s,r,"assets"),[n,e,f,s,r]),w=E.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let x=new Set,V=!1;if(e.forEach(j=>{var B;let q=s.routes[j.route.id];!q||!q.hasLoader||(!m.some(K=>K.route.id===j.route.id)&&j.route.id in d&&((B=a[j.route.id])!=null&&B.shouldRevalidate)||q.hasClientLoader?V=!0:x.add(j.route.id))}),x.size===0)return[];let k=tA(n,u);return V&&x.size>0&&k.searchParams.set("_routes",e.filter(j=>x.has(j.route.id)).map(j=>j.route.id).join(",")),[k.pathname+k.search]},[u,d,r,s,m,e,n,a]),I=E.useMemo(()=>YC(y,s),[y,s]),A=sA(y);return E.createElement(E.Fragment,null,w.map(x=>E.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),I.map(x=>E.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),A.map(({key:x,link:V})=>E.createElement("link",{key:x,...V})))}function aA(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var AE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{AE&&(window.__reactRouterVersion="7.3.0")}catch{}function lA({basename:n,children:e,window:t}){let r=E.useRef();r.current==null&&(r.current=YR({window:t,v5Compat:!0}));let s=r.current,[a,u]=E.useState({action:s.action,location:s.location}),d=E.useCallback(f=>{E.startTransition(()=>u(f))},[u]);return E.useLayoutEffect(()=>s.listen(d),[s,d]),E.createElement(FC,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s})}var xE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kE=E.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:a,replace:u,state:d,target:f,to:m,preventScrollReset:y,viewTransition:w,...I},A){let{basename:x}=E.useContext(Wr),V=typeof m=="string"&&xE.test(m),k,j=!1;if(typeof m=="string"&&V&&(k=m,AE))try{let P=new URL(window.location.href),D=m.startsWith("//")?new URL(P.protocol+m):new URL(m),L=pi(D.pathname,x);D.origin===P.origin&&L!=null?m=L+D.search+D.hash:j=!0}catch{zr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=IC(m,{relative:s}),[B,K,J]=rA(r,I),Y=hA(m,{replace:u,state:d,target:f,preventScrollReset:y,relative:s,viewTransition:w});function b(P){e&&e(P),P.defaultPrevented||Y(P)}let R=E.createElement("a",{...I,...J,href:k||q,onClick:j||a?e:b,ref:aA(A,K),target:f,"data-discover":!V&&t==="render"?"true":void 0});return B&&!V?E.createElement(E.Fragment,null,R,E.createElement(iA,{page:q})):R});kE.displayName="Link";var Xi=E.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:a,to:u,viewTransition:d,children:f,...m},y){let w=hu(u,{relative:m.relative}),I=_s(),A=E.useContext(jh),{navigator:x,basename:V}=E.useContext(Wr),k=A!=null&&gA(w)&&d===!0,j=x.encodeLocation?x.encodeLocation(w).pathname:w.pathname,q=I.pathname,B=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;t||(q=q.toLowerCase(),B=B?B.toLowerCase():null,j=j.toLowerCase()),B&&V&&(B=pi(B,V)||B);const K=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let J=q===j||!s&&q.startsWith(j)&&q.charAt(K)==="/",Y=B!=null&&(B===j||!s&&B.startsWith(j)&&B.charAt(j.length)==="/"),b={isActive:J,isPending:Y,isTransitioning:k},R=J?e:void 0,P;typeof r=="function"?P=r(b):P=[r,J?"active":null,Y?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let D=typeof a=="function"?a(b):a;return E.createElement(kE,{...m,"aria-current":R,className:P,ref:y,style:D,to:u,viewTransition:d},typeof f=="function"?f(b):f)});Xi.displayName="NavLink";var uA=E.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:a,method:u=nh,action:d,onSubmit:f,relative:m,preventScrollReset:y,viewTransition:w,...I},A)=>{let x=pA(),V=mA(d,{relative:m}),k=u.toLowerCase()==="get"?"get":"post",j=typeof d=="string"&&xE.test(d),q=B=>{if(f&&f(B),B.defaultPrevented)return;B.preventDefault();let K=B.nativeEvent.submitter,J=(K==null?void 0:K.getAttribute("formmethod"))||u;x(K||B.currentTarget,{fetcherKey:e,method:J,navigate:t,replace:s,state:a,relative:m,preventScrollReset:y,viewTransition:w})};return E.createElement("form",{ref:A,method:k,action:V,onSubmit:r?f:q,...I,"data-discover":!j&&n==="render"?"true":void 0})});uA.displayName="Form";function cA(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PE(n){let e=E.useContext(Oa);return dt(e,cA(n)),e}function hA(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:a,viewTransition:u}={}){let d=cm(),f=_s(),m=hu(n,{relative:a});return E.useCallback(y=>{if(HC(y,e)){y.preventDefault();let w=t!==void 0?t:ql(f)===ql(m);d(n,{replace:w,state:r,preventScrollReset:s,relative:a,viewTransition:u})}},[f,d,m,t,r,e,n,s,a,u])}var dA=0,fA=()=>`__${String(++dA)}__`;function pA(){let{router:n}=PE("useSubmit"),{basename:e}=E.useContext(Wr),t=DC();return E.useCallback(async(r,s={})=>{let{action:a,method:u,encType:d,formData:f,body:m}=KC(r,e);if(s.navigate===!1){let y=s.fetcherKey||fA();await n.fetch(y,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||u,formEncType:s.encType||d,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||u,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function mA(n,{relative:e}={}){let{basename:t}=E.useContext(Wr),r=E.useContext(Ti);dt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...hu(n||".",{relative:e})},u=_s();if(n==null){a.search=u.search;let d=new URLSearchParams(a.search),f=d.getAll("index");if(f.some(y=>y==="")){d.delete("index"),f.filter(w=>w).forEach(w=>d.append("index",w));let y=d.toString();a.search=y?`?${y}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:di([t,a.pathname])),ql(a)}function gA(n,e={}){let t=E.useContext(wE);dt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=PE("useViewTransitionState"),s=hu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=pi(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=pi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return mh(s.pathname,u)!=null||mh(s.pathname,a)!=null}new TextEncoder;var vA=fE();const ha=lu(vA);var Zf={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var t_;function yA(){return t_||(t_=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var a="",u=0;u<arguments.length;u++){var d=arguments[u];d&&(a=s(a,r(d)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var u="";for(var d in a)e.call(a,d)&&a[d]&&(u=s(u,d));return u}function s(a,u){return u?a?a+" "+u:a+u:a}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(Zf)),Zf.exports}var _A=yA();const _e=lu(_A);function Ap(){return Ap=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ap.apply(null,arguments)}function NE(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function n_(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function wA(n){var e=EA(n,"string");return typeof e=="symbol"?e:String(e)}function EA(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function TA(n,e,t){var r=E.useRef(n!==void 0),s=E.useState(e),a=s[0],u=s[1],d=n!==void 0,f=r.current;return r.current=d,!d&&f&&a!==e&&u(e),[d?n:a,E.useCallback(function(m){for(var y=arguments.length,w=new Array(y>1?y-1:0),I=1;I<y;I++)w[I-1]=arguments[I];t&&t.apply(void 0,[m].concat(w)),u(m)},[t])]}function $h(n,e){return Object.keys(e).reduce(function(t,r){var s,a=t,u=a[n_(r)],d=a[r],f=NE(a,[n_(r),r].map(wA)),m=e[r],y=TA(d,u,n[m]),w=y[0],I=y[1];return Ap({},f,(s={},s[r]=w,s[m]=I,s))},n)}function xp(n,e){return xp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},xp(n,e)}function IA(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,xp(n,e)}const SA=["xxl","xl","lg","md","sm","xs"],RA="xs",du=E.createContext({prefixes:{},breakpoints:SA,minBreakpoint:RA}),{Consumer:vM,Provider:yM}=du;function Re(n,e){const{prefixes:t}=E.useContext(du);return n||t[e]||e}function bE(){const{breakpoints:n}=E.useContext(du);return n}function OE(){const{minBreakpoint:n}=E.useContext(du);return n}function DE(){const{dir:n}=E.useContext(du);return n==="rtl"}function Bh(n){return n&&n.ownerDocument||document}function CA(n){var e=Bh(n);return e&&e.defaultView||window}function AA(n,e){return CA(n).getComputedStyle(n,e)}var xA=/([A-Z])/g;function kA(n){return n.replace(xA,"-$1").toLowerCase()}var PA=/^ms-/;function Hc(n){return kA(n).replace(PA,"-ms-")}var NA=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function bA(n){return!!(n&&NA.test(n))}function fi(n,e){var t="",r="";if(typeof e=="string")return n.style.getPropertyValue(Hc(e))||AA(n).getPropertyValue(Hc(e));Object.keys(e).forEach(function(s){var a=e[s];!a&&a!==0?n.style.removeProperty(Hc(s)):bA(s)?r+=s+"("+a+") ":t+=Hc(s)+": "+a+";"}),r&&(t+="transform: "+r+";"),n.style.cssText+=";"+t}var ep={exports:{}},tp,r_;function OA(){if(r_)return tp;r_=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return tp=n,tp}var np,i_;function DA(){if(i_)return np;i_=1;var n=OA();function e(){}function t(){}return t.resetWarningCache=e,np=function(){function r(u,d,f,m,y,w){if(w!==n){var I=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw I.name="Invariant Violation",I}}r.isRequired=r;function s(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},np}var s_;function LA(){return s_||(s_=1,ep.exports=DA()()),ep.exports}var VA=LA();const In=lu(VA),o_={disabled:!1},LE=nn.createContext(null);var MA=function(e){return e.scrollTop},Ol="unmounted",Yi="exited",gr="entering",li="entered",Kl="exiting",Ii=function(n){IA(e,n);function e(r,s){var a;a=n.call(this,r,s)||this;var u=s,d=u&&!u.isMounting?r.enter:r.appear,f;return a.appearStatus=null,r.in?d?(f=Yi,a.appearStatus=gr):f=li:r.unmountOnExit||r.mountOnEnter?f=Ol:f=Yi,a.state={status:f},a.nextCallback=null,a}e.getDerivedStateFromProps=function(s,a){var u=s.in;return u&&a.status===Ol?{status:Yi}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(s){var a=null;if(s!==this.props){var u=this.state.status;this.props.in?u!==gr&&u!==li&&(a=gr):(u===gr||u===li)&&(a=Kl)}this.updateStatus(!1,a)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var s=this.props.timeout,a,u,d;return a=u=d=s,s!=null&&typeof s!="number"&&(a=s.exit,u=s.enter,d=s.appear!==void 0?s.appear:u),{exit:a,enter:u,appear:d}},t.updateStatus=function(s,a){if(s===void 0&&(s=!1),a!==null)if(this.cancelNextCallback(),a===gr){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:ha.findDOMNode(this);u&&MA(u)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Yi&&this.setState({status:Ol})},t.performEnter=function(s){var a=this,u=this.props.enter,d=this.context?this.context.isMounting:s,f=this.props.nodeRef?[d]:[ha.findDOMNode(this),d],m=f[0],y=f[1],w=this.getTimeouts(),I=d?w.appear:w.enter;if(!s&&!u||o_.disabled){this.safeSetState({status:li},function(){a.props.onEntered(m)});return}this.props.onEnter(m,y),this.safeSetState({status:gr},function(){a.props.onEntering(m,y),a.onTransitionEnd(I,function(){a.safeSetState({status:li},function(){a.props.onEntered(m,y)})})})},t.performExit=function(){var s=this,a=this.props.exit,u=this.getTimeouts(),d=this.props.nodeRef?void 0:ha.findDOMNode(this);if(!a||o_.disabled){this.safeSetState({status:Yi},function(){s.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:Kl},function(){s.props.onExiting(d),s.onTransitionEnd(u.exit,function(){s.safeSetState({status:Yi},function(){s.props.onExited(d)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(s,a){a=this.setNextCallback(a),this.setState(s,a)},t.setNextCallback=function(s){var a=this,u=!0;return this.nextCallback=function(d){u&&(u=!1,a.nextCallback=null,s(d))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},t.onTransitionEnd=function(s,a){this.setNextCallback(a);var u=this.props.nodeRef?this.props.nodeRef.current:ha.findDOMNode(this),d=s==null&&!this.props.addEndListener;if(!u||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],m=f[0],y=f[1];this.props.addEndListener(m,y)}s!=null&&setTimeout(this.nextCallback,s)},t.render=function(){var s=this.state.status;if(s===Ol)return null;var a=this.props,u=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var d=NE(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return nn.createElement(LE.Provider,{value:null},typeof u=="function"?u(s,d):nn.cloneElement(nn.Children.only(u),d))},e}(nn.Component);Ii.contextType=LE;Ii.propTypes={};function sa(){}Ii.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:sa,onEntering:sa,onEntered:sa,onExit:sa,onExiting:sa,onExited:sa};Ii.UNMOUNTED=Ol;Ii.EXITED=Yi;Ii.ENTERING=gr;Ii.ENTERED=li;Ii.EXITING=Kl;function FA(n){return n.code==="Escape"||n.keyCode===27}function jA(){const n=E.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function Da(n){if(!n||typeof n=="function")return null;const{major:e}=jA();return e>=19?n.props.ref:n.ref}const zh=!!(typeof window<"u"&&window.document&&window.document.createElement);var kp=!1,Pp=!1;try{var rp={get passive(){return kp=!0},get once(){return Pp=kp=!0}};zh&&(window.addEventListener("test",rp,rp),window.removeEventListener("test",rp,!0))}catch{}function VE(n,e,t,r){if(r&&typeof r!="boolean"&&!Pp){var s=r.once,a=r.capture,u=t;!Pp&&s&&(u=t.__once||function d(f){this.removeEventListener(e,d,a),t.call(this,f)},t.__once=u),n.addEventListener(e,u,kp?r:a)}n.addEventListener(e,t,r)}function UA(n,e,t,r){var s=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(e,t,s),t.__once&&n.removeEventListener(e,t.__once,s)}function rs(n,e,t,r){return VE(n,e,t,r),function(){UA(n,e,t,r)}}function $A(n,e,t,r){if(r===void 0&&(r=!0),n){var s=document.createEvent("HTMLEvents");s.initEvent(e,t,r),n.dispatchEvent(s)}}function BA(n){var e=fi(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function zA(n,e,t){t===void 0&&(t=5);var r=!1,s=setTimeout(function(){r||$A(n,"transitionend",!0)},e+t),a=rs(n,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(s),a()}}function HA(n,e,t,r){t==null&&(t=BA(n)||0);var s=zA(n,t,r),a=rs(n,"transitionend",e);return function(){s(),a()}}function a_(n,e){const t=fi(n,e)||"",r=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*r}function Hh(n,e){const t=a_(n,"transitionDuration"),r=a_(n,"transitionDelay"),s=HA(n,a=>{a.target===n&&(s(),e(a))},t+r)}function Pl(...n){return n.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...s){e.apply(this,s),t.apply(this,s)}},null)}function mm(n){n.offsetHeight}const l_=n=>!n||typeof n=="function"?n:e=>{n.current=e};function WA(n,e){const t=l_(n),r=l_(e);return s=>{t&&t(s),r&&r(s)}}function gm(n,e){return E.useMemo(()=>WA(n,e),[n,e])}function qA(n){return n&&"setState"in n?ha.findDOMNode(n):n??null}const Wh=nn.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:s,onExited:a,addEndListener:u,children:d,childRef:f,...m},y)=>{const w=E.useRef(null),I=gm(w,f),A=Y=>{I(qA(Y))},x=Y=>b=>{Y&&w.current&&Y(w.current,b)},V=E.useCallback(x(n),[n]),k=E.useCallback(x(e),[e]),j=E.useCallback(x(t),[t]),q=E.useCallback(x(r),[r]),B=E.useCallback(x(s),[s]),K=E.useCallback(x(a),[a]),J=E.useCallback(x(u),[u]);return C.jsx(Ii,{ref:y,...m,onEnter:V,onEntered:j,onEntering:k,onExit:q,onExited:K,onExiting:B,addEndListener:J,nodeRef:w,children:typeof d=="function"?(Y,b)=>d(Y,{...b,ref:A}):nn.cloneElement(d,{ref:A})})}),KA={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function GA(n,e){const t=`offset${n[0].toUpperCase()}${n.slice(1)}`,r=e[t],s=KA[n];return r+parseInt(fi(e,s[0]),10)+parseInt(fi(e,s[1]),10)}const QA={[Yi]:"collapse",[Kl]:"collapsing",[gr]:"collapsing",[li]:"collapse show"},XA=nn.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:r,onExiting:s,className:a,children:u,dimension:d="height",in:f=!1,timeout:m=300,mountOnEnter:y=!1,unmountOnExit:w=!1,appear:I=!1,getDimensionValue:A=GA,...x},V)=>{const k=typeof d=="function"?d():d,j=E.useMemo(()=>Pl(Y=>{Y.style[k]="0"},n),[k,n]),q=E.useMemo(()=>Pl(Y=>{const b=`scroll${k[0].toUpperCase()}${k.slice(1)}`;Y.style[k]=`${Y[b]}px`},e),[k,e]),B=E.useMemo(()=>Pl(Y=>{Y.style[k]=null},t),[k,t]),K=E.useMemo(()=>Pl(Y=>{Y.style[k]=`${A(k,Y)}px`,mm(Y)},r),[r,A,k]),J=E.useMemo(()=>Pl(Y=>{Y.style[k]=null},s),[k,s]);return C.jsx(Wh,{ref:V,addEndListener:Hh,...x,"aria-expanded":x.role?f:null,onEnter:j,onEntering:q,onEntered:B,onExit:K,onExiting:J,childRef:Da(u),in:f,timeout:m,mountOnEnter:y,unmountOnExit:w,appear:I,children:(Y,b)=>nn.cloneElement(u,{...b,className:_e(a,u.props.className,QA[Y],k==="width"&&"collapse-horizontal")})})});function ME(n){const e=E.useRef(n);return E.useEffect(()=>{e.current=n},[n]),e}function io(n){const e=ME(n);return E.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const vm=n=>E.forwardRef((e,t)=>C.jsx("div",{...e,ref:t,className:_e(e.className,n)}));function YA(){return E.useState(null)}function JA(n){const e=E.useRef(n);return E.useEffect(()=>{e.current=n},[n]),e}function tn(n){const e=JA(n);return E.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function ZA(n,e,t,r=!1){const s=tn(t);E.useEffect(()=>{const a=typeof n=="function"?n():n;return a.addEventListener(e,s,r),()=>a.removeEventListener(e,s,r)},[n])}function FE(){const n=E.useRef(!0),e=E.useRef(()=>n.current);return E.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function jE(n){const e=E.useRef(null);return E.useEffect(()=>{e.current=n}),e.current}const ex=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",tx=typeof document<"u",u_=tx||ex?E.useLayoutEffect:E.useEffect,nx=["as","disabled"];function rx(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function ix(n){return!n||n.trim()==="#"}function ym({tagName:n,disabled:e,href:t,target:r,rel:s,role:a,onClick:u,tabIndex:d=0,type:f}){n||(t!=null||r!=null||s!=null?n="a":n="button");const m={tagName:n};if(n==="button")return[{type:f||"button",disabled:e},m];const y=I=>{if((e||n==="a"&&ix(t))&&I.preventDefault(),e){I.stopPropagation();return}u==null||u(I)},w=I=>{I.key===" "&&(I.preventDefault(),y(I))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:a??"button",disabled:void 0,tabIndex:e?void 0:d,href:t,target:n==="a"?r:void 0,"aria-disabled":e||void 0,rel:n==="a"?s:void 0,onClick:y,onKeyDown:w},m]}const _m=E.forwardRef((n,e)=>{let{as:t,disabled:r}=n,s=rx(n,nx);const[a,{tagName:u}]=ym(Object.assign({tagName:t,disabled:r},s));return C.jsx(u,Object.assign({},s,a,{ref:e}))});_m.displayName="Button";const sx=["onKeyDown"];function ox(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function ax(n){return!n||n.trim()==="#"}const Gl=E.forwardRef((n,e)=>{let{onKeyDown:t}=n,r=ox(n,sx);const[s]=ym(Object.assign({tagName:"a"},r)),a=tn(u=>{s.onKeyDown(u),t==null||t(u)});return ax(r.href)||r.role==="button"?C.jsx("a",Object.assign({ref:e},r,s,{onKeyDown:a})):C.jsx("a",Object.assign({ref:e},r,{onKeyDown:t}))});Gl.displayName="Anchor";const lx={[gr]:"show",[li]:"show"},UE=E.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:r,...s},a)=>{const u={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},d=E.useCallback((f,m)=>{mm(f),r==null||r(f,m)},[r]);return C.jsx(Wh,{ref:a,addEndListener:Hh,...u,onEnter:d,childRef:Da(e),children:(f,m)=>E.cloneElement(e,{...m,className:_e("fade",n,e.props.className,lx[f],t[f])})})});UE.displayName="Fade";const ux={"aria-label":In.string,onClick:In.func,variant:In.oneOf(["white"])},wm=E.forwardRef(({className:n,variant:e,"aria-label":t="Close",...r},s)=>C.jsx("button",{ref:s,type:"button",className:_e("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...r}));wm.displayName="CloseButton";wm.propTypes=ux;const ya=E.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:r,active:s=!1,disabled:a=!1,className:u,...d},f)=>{const m=Re(e,"btn"),[y,{tagName:w}]=ym({tagName:n,disabled:a,...d}),I=w;return C.jsx(I,{...y,...d,ref:f,disabled:a,className:_e(u,m,s&&"active",t&&`${m}-${t}`,r&&`${m}-${r}`,d.href&&a&&"disabled")})});ya.displayName="Button";const Em=E.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Re(e,"card-body"),C.jsx(t,{ref:s,className:_e(n,e),...r})));Em.displayName="CardBody";const $E=E.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Re(e,"card-footer"),C.jsx(t,{ref:s,className:_e(n,e),...r})));$E.displayName="CardFooter";const Tm=E.createContext(null);Tm.displayName="CardHeaderContext";const BE=E.forwardRef(({bsPrefix:n,className:e,as:t="div",...r},s)=>{const a=Re(n,"card-header"),u=E.useMemo(()=>({cardHeaderBsPrefix:a}),[a]);return C.jsx(Tm.Provider,{value:u,children:C.jsx(t,{ref:s,...r,className:_e(e,a)})})});BE.displayName="CardHeader";const zE=E.forwardRef(({bsPrefix:n,className:e,variant:t,as:r="img",...s},a)=>{const u=Re(n,"card-img");return C.jsx(r,{ref:a,className:_e(t?`${u}-${t}`:u,e),...s})});zE.displayName="CardImg";const HE=E.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Re(e,"card-img-overlay"),C.jsx(t,{ref:s,className:_e(n,e),...r})));HE.displayName="CardImgOverlay";const WE=E.forwardRef(({className:n,bsPrefix:e,as:t="a",...r},s)=>(e=Re(e,"card-link"),C.jsx(t,{ref:s,className:_e(n,e),...r})));WE.displayName="CardLink";const cx=vm("h6"),qE=E.forwardRef(({className:n,bsPrefix:e,as:t=cx,...r},s)=>(e=Re(e,"card-subtitle"),C.jsx(t,{ref:s,className:_e(n,e),...r})));qE.displayName="CardSubtitle";const KE=E.forwardRef(({className:n,bsPrefix:e,as:t="p",...r},s)=>(e=Re(e,"card-text"),C.jsx(t,{ref:s,className:_e(n,e),...r})));KE.displayName="CardText";const hx=vm("h5"),GE=E.forwardRef(({className:n,bsPrefix:e,as:t=hx,...r},s)=>(e=Re(e,"card-title"),C.jsx(t,{ref:s,className:_e(n,e),...r})));GE.displayName="CardTitle";const QE=E.forwardRef(({bsPrefix:n,className:e,bg:t,text:r,border:s,body:a=!1,children:u,as:d="div",...f},m)=>{const y=Re(n,"card");return C.jsx(d,{ref:m,...f,className:_e(e,y,t&&`bg-${t}`,r&&`text-${r}`,s&&`border-${s}`),children:a?C.jsx(Em,{children:u}):u})});QE.displayName="Card";const Vt=Object.assign(QE,{Img:zE,Title:GE,Subtitle:qE,Body:Em,Link:WE,Text:KE,Header:BE,Footer:$E,ImgOverlay:HE}),XE=E.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Re(e,"card-group"),C.jsx(t,{ref:s,className:_e(n,e),...r})));XE.displayName="CardGroup";function dx(n,e){const t=E.useRef(!0);E.useEffect(()=>{if(t.current){t.current=!1;return}return n()},e)}function fx(){const n=E.useRef(!0),e=E.useRef(()=>n.current);return E.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function px(n){const e=E.useRef(n);return e.current=n,e}function mx(n){const e=px(n);E.useEffect(()=>()=>e.current(),[])}const Np=2**31-1;function YE(n,e,t){const r=t-Date.now();n.current=r<=Np?setTimeout(e,r):setTimeout(()=>YE(n,e,t),Np)}function gx(){const n=fx(),e=E.useRef();return mx(()=>clearTimeout(e.current)),E.useMemo(()=>{const t=()=>clearTimeout(e.current);function r(s,a=0){n()&&(t(),a<=Np?e.current=setTimeout(s,a):YE(e,s,Date.now()+a))}return{set:r,clear:t,handleRef:e}},[])}const JE=E.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Re(e,"carousel-caption"),C.jsx(t,{ref:s,className:_e(n,e),...r})));JE.displayName="CarouselCaption";const ZE=E.forwardRef(({as:n="div",bsPrefix:e,className:t,...r},s)=>{const a=_e(t,Re(e,"carousel-item"));return C.jsx(n,{ref:s,...r,className:a})});ZE.displayName="CarouselItem";function c_(n,e){let t=0;return E.Children.map(n,r=>E.isValidElement(r)?e(r,t++):r)}function vx(n,e){let t=0;E.Children.forEach(n,r=>{E.isValidElement(r)&&e(r,t++)})}function yx(n,e){return E.Children.toArray(n).some(t=>E.isValidElement(t)&&t.type===e)}const _x=40;function wx(n){if(!n||!n.style||!n.parentNode||!n.parentNode.style)return!1;const e=getComputedStyle(n);return e.display!=="none"&&e.visibility!=="hidden"&&getComputedStyle(n.parentNode).display!=="none"}const e0=E.forwardRef(({defaultActiveIndex:n=0,...e},t)=>{const{as:r="div",bsPrefix:s,slide:a=!0,fade:u=!1,controls:d=!0,indicators:f=!0,indicatorLabels:m=[],activeIndex:y,onSelect:w,onSlide:I,onSlid:A,interval:x=5e3,keyboard:V=!0,onKeyDown:k,pause:j="hover",onMouseOver:q,onMouseOut:B,wrap:K=!0,touch:J=!0,onTouchStart:Y,onTouchMove:b,onTouchEnd:R,prevIcon:P=C.jsx("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:D="Previous",nextIcon:L=C.jsx("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:F="Next",variant:N,className:ke,children:Le,...be}=$h({defaultActiveIndex:n,...e},{activeIndex:"onSelect"}),ve=Re(s,"carousel"),ee=DE(),le=E.useRef(null),[se,$]=E.useState("next"),[X,ue]=E.useState(!1),[de,Ee]=E.useState(!1),[we,Ve]=E.useState(y||0);E.useEffect(()=>{!de&&y!==we&&(le.current?$(le.current):$((y||0)>we?"next":"prev"),a&&Ee(!0),Ve(y||0))},[y,de,we,a]),E.useEffect(()=>{le.current&&(le.current=null)});let Ae=0,Ue;vx(Le,(Ce,Ge)=>{++Ae,Ge===y&&(Ue=Ce.props.interval)});const Je=ME(Ue),et=E.useCallback(Ce=>{if(de)return;let Ge=we-1;if(Ge<0){if(!K)return;Ge=Ae-1}le.current="prev",w==null||w(Ge,Ce)},[de,we,w,K,Ae]),pt=io(Ce=>{if(de)return;let Ge=we+1;if(Ge>=Ae){if(!K)return;Ge=0}le.current="next",w==null||w(Ge,Ce)}),Rt=E.useRef();E.useImperativeHandle(t,()=>({element:Rt.current,prev:et,next:pt}));const jt=io(()=>{!document.hidden&&wx(Rt.current)&&(ee?et():pt())}),Fe=se==="next"?"start":"end";dx(()=>{a||(I==null||I(we,Fe),A==null||A(we,Fe))},[we]);const An=`${ve}-item-${se}`,dn=`${ve}-item-${Fe}`,Si=E.useCallback(Ce=>{mm(Ce),I==null||I(we,Fe)},[I,we,Fe]),_r=E.useCallback(()=>{Ee(!1),A==null||A(we,Fe)},[A,we,Fe]),Ct=E.useCallback(Ce=>{if(V&&!/input|textarea/i.test(Ce.target.tagName))switch(Ce.key){case"ArrowLeft":Ce.preventDefault(),ee?pt(Ce):et(Ce);return;case"ArrowRight":Ce.preventDefault(),ee?et(Ce):pt(Ce);return}k==null||k(Ce)},[V,k,et,pt,ee]),Kt=E.useCallback(Ce=>{j==="hover"&&ue(!0),q==null||q(Ce)},[j,q]),wr=E.useCallback(Ce=>{ue(!1),B==null||B(Ce)},[B]),jn=E.useRef(0),sn=E.useRef(0),Zn=gx(),ot=E.useCallback(Ce=>{jn.current=Ce.touches[0].clientX,sn.current=0,j==="hover"&&ue(!0),Y==null||Y(Ce)},[j,Y]),at=E.useCallback(Ce=>{Ce.touches&&Ce.touches.length>1?sn.current=0:sn.current=Ce.touches[0].clientX-jn.current,b==null||b(Ce)},[b]),fn=E.useCallback(Ce=>{if(J){const Ge=sn.current;Math.abs(Ge)>_x&&(Ge>0?et(Ce):pt(Ce))}j==="hover"&&Zn.set(()=>{ue(!1)},x||void 0),R==null||R(Ce)},[J,j,et,pt,Zn,x,R]),Ri=x!=null&&!X&&!de,Un=E.useRef();E.useEffect(()=>{var Ce,Ge;if(!Ri)return;const on=ee?et:pt;return Un.current=window.setInterval(document.visibilityState?jt:on,(Ce=(Ge=Je.current)!=null?Ge:x)!=null?Ce:void 0),()=>{Un.current!==null&&clearInterval(Un.current)}},[Ri,et,pt,Je,x,jt,ee]);const Er=E.useMemo(()=>f&&Array.from({length:Ae},(Ce,Ge)=>on=>{w==null||w(Ge,on)}),[f,Ae,w]);return C.jsxs(r,{ref:Rt,...be,onKeyDown:Ct,onMouseOver:Kt,onMouseOut:wr,onTouchStart:ot,onTouchMove:at,onTouchEnd:fn,className:_e(ke,ve,a&&"slide",u&&`${ve}-fade`,N&&`${ve}-${N}`),children:[f&&C.jsx("div",{className:`${ve}-indicators`,children:c_(Le,(Ce,Ge)=>C.jsx("button",{type:"button","data-bs-target":"","aria-label":m!=null&&m.length?m[Ge]:`Slide ${Ge+1}`,className:Ge===we?"active":void 0,onClick:Er?Er[Ge]:void 0,"aria-current":Ge===we},Ge))}),C.jsx("div",{className:`${ve}-inner`,children:c_(Le,(Ce,Ge)=>{const on=Ge===we;return a?C.jsx(Wh,{in:on,onEnter:on?Si:void 0,onEntered:on?_r:void 0,addEndListener:Hh,children:(er,Is)=>E.cloneElement(Ce,{...Is,className:_e(Ce.props.className,on&&er!=="entered"&&An,(er==="entered"||er==="exiting")&&"active",(er==="entering"||er==="exiting")&&dn)})}):E.cloneElement(Ce,{className:_e(Ce.props.className,on&&"active")})})}),d&&C.jsxs(C.Fragment,{children:[(K||y!==0)&&C.jsxs(Gl,{className:`${ve}-control-prev`,onClick:et,children:[P,D&&C.jsx("span",{className:"visually-hidden",children:D})]}),(K||y!==Ae-1)&&C.jsxs(Gl,{className:`${ve}-control-next`,onClick:pt,children:[L,F&&C.jsx("span",{className:"visually-hidden",children:F})]})]})]})});e0.displayName="Carousel";const Qs=Object.assign(e0,{Caption:JE,Item:ZE});function Ex({as:n,bsPrefix:e,className:t,...r}){e=Re(e,"col");const s=bE(),a=OE(),u=[],d=[];return s.forEach(f=>{const m=r[f];delete r[f];let y,w,I;typeof m=="object"&&m!=null?{span:y,offset:w,order:I}=m:y=m;const A=f!==a?`-${f}`:"";y&&u.push(y===!0?`${e}${A}`:`${e}${A}-${y}`),I!=null&&d.push(`order${A}-${I}`),w!=null&&d.push(`offset${A}-${w}`)}),[{...r,className:_e(t,...u,...d)},{as:n,bsPrefix:e,spans:u}]}const is=E.forwardRef((n,e)=>{const[{className:t,...r},{as:s="div",bsPrefix:a,spans:u}]=Ex(n);return C.jsx(s,{...r,ref:e,className:_e(t,!u.length&&a)})});is.displayName="Col";const fu=E.forwardRef(({bsPrefix:n,fluid:e=!1,as:t="div",className:r,...s},a)=>{const u=Re(n,"container"),d=typeof e=="string"?`-${e}`:"-fluid";return C.jsx(t,{ref:a,...s,className:_e(r,e?`${u}${d}`:u)})});fu.displayName="Container";var Tx=Function.prototype.bind.call(Function.prototype.call,[].slice);function ai(n,e){return Tx(n.querySelectorAll(e))}function Ix(n,e,t){const r=E.useRef(n!==void 0),[s,a]=E.useState(e),u=n!==void 0,d=r.current;return r.current=u,!u&&d&&s!==e&&a(e),[u?n:s,E.useCallback((...f)=>{const[m,...y]=f;let w=t==null?void 0:t(m,...y);return a(m),w},[t])]}function t0(){const[,n]=E.useReducer(e=>e+1,0);return n}const qh=E.createContext(null);var h_=Object.prototype.hasOwnProperty;function d_(n,e,t){for(t of n.keys())if(Ml(t,e))return t}function Ml(n,e){var t,r,s;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&Ml(n[r],e[r]););return r===-1}if(t===Set){if(n.size!==e.size)return!1;for(r of n)if(s=r,s&&typeof s=="object"&&(s=d_(e,s),!s)||!e.has(s))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(r of n)if(s=r[0],s&&typeof s=="object"&&(s=d_(e,s),!s)||!Ml(r[1],e.get(s)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((r=n.byteLength)===e.byteLength)for(;r--&&n.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(n)){if((r=n.byteLength)===e.byteLength)for(;r--&&n[r]===e[r];);return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(h_.call(n,t)&&++r&&!h_.call(e,t)||!(t in e)||!Ml(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function Sx(n){const e=FE();return[n[0],E.useCallback(t=>{if(e())return n[1](t)},[e,n[1]])]}var Rn="top",Yn="bottom",Jn="right",Cn="left",Im="auto",pu=[Rn,Yn,Jn,Cn],_a="start",Ql="end",Rx="clippingParents",n0="viewport",Nl="popper",Cx="reference",f_=pu.reduce(function(n,e){return n.concat([e+"-"+_a,e+"-"+Ql])},[]),r0=[].concat(pu,[Im]).reduce(function(n,e){return n.concat([e,e+"-"+_a,e+"-"+Ql])},[]),Ax="beforeRead",xx="read",kx="afterRead",Px="beforeMain",Nx="main",bx="afterMain",Ox="beforeWrite",Dx="write",Lx="afterWrite",Vx=[Ax,xx,kx,Px,Nx,bx,Ox,Dx,Lx];function Lr(n){return n.split("-")[0]}function Fn(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function so(n){var e=Fn(n).Element;return n instanceof e||n instanceof Element}function Vr(n){var e=Fn(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function Sm(n){if(typeof ShadowRoot>"u")return!1;var e=Fn(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}var to=Math.max,gh=Math.min,wa=Math.round;function bp(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function i0(){return!/^((?!chrome|android).)*safari/i.test(bp())}function Ea(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),s=1,a=1;e&&Vr(n)&&(s=n.offsetWidth>0&&wa(r.width)/n.offsetWidth||1,a=n.offsetHeight>0&&wa(r.height)/n.offsetHeight||1);var u=so(n)?Fn(n):window,d=u.visualViewport,f=!i0()&&t,m=(r.left+(f&&d?d.offsetLeft:0))/s,y=(r.top+(f&&d?d.offsetTop:0))/a,w=r.width/s,I=r.height/a;return{width:w,height:I,top:y,right:m+w,bottom:y+I,left:m,x:m,y}}function Rm(n){var e=Ea(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function s0(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&Sm(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function hs(n){return n?(n.nodeName||"").toLowerCase():null}function mi(n){return Fn(n).getComputedStyle(n)}function Mx(n){return["table","td","th"].indexOf(hs(n))>=0}function ws(n){return((so(n)?n.ownerDocument:n.document)||window.document).documentElement}function Kh(n){return hs(n)==="html"?n:n.assignedSlot||n.parentNode||(Sm(n)?n.host:null)||ws(n)}function p_(n){return!Vr(n)||mi(n).position==="fixed"?null:n.offsetParent}function Fx(n){var e=/firefox/i.test(bp()),t=/Trident/i.test(bp());if(t&&Vr(n)){var r=mi(n);if(r.position==="fixed")return null}var s=Kh(n);for(Sm(s)&&(s=s.host);Vr(s)&&["html","body"].indexOf(hs(s))<0;){var a=mi(s);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return s;s=s.parentNode}return null}function mu(n){for(var e=Fn(n),t=p_(n);t&&Mx(t)&&mi(t).position==="static";)t=p_(t);return t&&(hs(t)==="html"||hs(t)==="body"&&mi(t).position==="static")?e:t||Fx(n)||e}function Cm(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Fl(n,e,t){return to(n,gh(e,t))}function jx(n,e,t){var r=Fl(n,e,t);return r>t?t:r}function o0(){return{top:0,right:0,bottom:0,left:0}}function a0(n){return Object.assign({},o0(),n)}function l0(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var Ux=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,a0(typeof e!="number"?e:l0(e,pu))};function $x(n){var e,t=n.state,r=n.name,s=n.options,a=t.elements.arrow,u=t.modifiersData.popperOffsets,d=Lr(t.placement),f=Cm(d),m=[Cn,Jn].indexOf(d)>=0,y=m?"height":"width";if(!(!a||!u)){var w=Ux(s.padding,t),I=Rm(a),A=f==="y"?Rn:Cn,x=f==="y"?Yn:Jn,V=t.rects.reference[y]+t.rects.reference[f]-u[f]-t.rects.popper[y],k=u[f]-t.rects.reference[f],j=mu(a),q=j?f==="y"?j.clientHeight||0:j.clientWidth||0:0,B=V/2-k/2,K=w[A],J=q-I[y]-w[x],Y=q/2-I[y]/2+B,b=Fl(K,Y,J),R=f;t.modifiersData[r]=(e={},e[R]=b,e.centerOffset=b-Y,e)}}function Bx(n){var e=n.state,t=n.options,r=t.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||s0(e.elements.popper,s)&&(e.elements.arrow=s))}const zx={name:"arrow",enabled:!0,phase:"main",fn:$x,effect:Bx,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ta(n){return n.split("-")[1]}var Hx={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Wx(n,e){var t=n.x,r=n.y,s=e.devicePixelRatio||1;return{x:wa(t*s)/s||0,y:wa(r*s)/s||0}}function m_(n){var e,t=n.popper,r=n.popperRect,s=n.placement,a=n.variation,u=n.offsets,d=n.position,f=n.gpuAcceleration,m=n.adaptive,y=n.roundOffsets,w=n.isFixed,I=u.x,A=I===void 0?0:I,x=u.y,V=x===void 0?0:x,k=typeof y=="function"?y({x:A,y:V}):{x:A,y:V};A=k.x,V=k.y;var j=u.hasOwnProperty("x"),q=u.hasOwnProperty("y"),B=Cn,K=Rn,J=window;if(m){var Y=mu(t),b="clientHeight",R="clientWidth";if(Y===Fn(t)&&(Y=ws(t),mi(Y).position!=="static"&&d==="absolute"&&(b="scrollHeight",R="scrollWidth")),Y=Y,s===Rn||(s===Cn||s===Jn)&&a===Ql){K=Yn;var P=w&&Y===J&&J.visualViewport?J.visualViewport.height:Y[b];V-=P-r.height,V*=f?1:-1}if(s===Cn||(s===Rn||s===Yn)&&a===Ql){B=Jn;var D=w&&Y===J&&J.visualViewport?J.visualViewport.width:Y[R];A-=D-r.width,A*=f?1:-1}}var L=Object.assign({position:d},m&&Hx),F=y===!0?Wx({x:A,y:V},Fn(t)):{x:A,y:V};if(A=F.x,V=F.y,f){var N;return Object.assign({},L,(N={},N[K]=q?"0":"",N[B]=j?"0":"",N.transform=(J.devicePixelRatio||1)<=1?"translate("+A+"px, "+V+"px)":"translate3d("+A+"px, "+V+"px, 0)",N))}return Object.assign({},L,(e={},e[K]=q?V+"px":"",e[B]=j?A+"px":"",e.transform="",e))}function qx(n){var e=n.state,t=n.options,r=t.gpuAcceleration,s=r===void 0?!0:r,a=t.adaptive,u=a===void 0?!0:a,d=t.roundOffsets,f=d===void 0?!0:d,m={placement:Lr(e.placement),variation:Ta(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,m_(Object.assign({},m,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:u,roundOffsets:f})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,m_(Object.assign({},m,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Kx={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:qx,data:{}};var Wc={passive:!0};function Gx(n){var e=n.state,t=n.instance,r=n.options,s=r.scroll,a=s===void 0?!0:s,u=r.resize,d=u===void 0?!0:u,f=Fn(e.elements.popper),m=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&m.forEach(function(y){y.addEventListener("scroll",t.update,Wc)}),d&&f.addEventListener("resize",t.update,Wc),function(){a&&m.forEach(function(y){y.removeEventListener("scroll",t.update,Wc)}),d&&f.removeEventListener("resize",t.update,Wc)}}const Qx={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Gx,data:{}};var Xx={left:"right",right:"left",bottom:"top",top:"bottom"};function ih(n){return n.replace(/left|right|bottom|top/g,function(e){return Xx[e]})}var Yx={start:"end",end:"start"};function g_(n){return n.replace(/start|end/g,function(e){return Yx[e]})}function Am(n){var e=Fn(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function xm(n){return Ea(ws(n)).left+Am(n).scrollLeft}function Jx(n,e){var t=Fn(n),r=ws(n),s=t.visualViewport,a=r.clientWidth,u=r.clientHeight,d=0,f=0;if(s){a=s.width,u=s.height;var m=i0();(m||!m&&e==="fixed")&&(d=s.offsetLeft,f=s.offsetTop)}return{width:a,height:u,x:d+xm(n),y:f}}function Zx(n){var e,t=ws(n),r=Am(n),s=(e=n.ownerDocument)==null?void 0:e.body,a=to(t.scrollWidth,t.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),u=to(t.scrollHeight,t.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),d=-r.scrollLeft+xm(n),f=-r.scrollTop;return mi(s||t).direction==="rtl"&&(d+=to(t.clientWidth,s?s.clientWidth:0)-a),{width:a,height:u,x:d,y:f}}function km(n){var e=mi(n),t=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+s+r)}function u0(n){return["html","body","#document"].indexOf(hs(n))>=0?n.ownerDocument.body:Vr(n)&&km(n)?n:u0(Kh(n))}function jl(n,e){var t;e===void 0&&(e=[]);var r=u0(n),s=r===((t=n.ownerDocument)==null?void 0:t.body),a=Fn(r),u=s?[a].concat(a.visualViewport||[],km(r)?r:[]):r,d=e.concat(u);return s?d:d.concat(jl(Kh(u)))}function Op(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function ek(n,e){var t=Ea(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function v_(n,e,t){return e===n0?Op(Jx(n,t)):so(e)?ek(e,t):Op(Zx(ws(n)))}function tk(n){var e=jl(Kh(n)),t=["absolute","fixed"].indexOf(mi(n).position)>=0,r=t&&Vr(n)?mu(n):n;return so(r)?e.filter(function(s){return so(s)&&s0(s,r)&&hs(s)!=="body"}):[]}function nk(n,e,t,r){var s=e==="clippingParents"?tk(n):[].concat(e),a=[].concat(s,[t]),u=a[0],d=a.reduce(function(f,m){var y=v_(n,m,r);return f.top=to(y.top,f.top),f.right=gh(y.right,f.right),f.bottom=gh(y.bottom,f.bottom),f.left=to(y.left,f.left),f},v_(n,u,r));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function c0(n){var e=n.reference,t=n.element,r=n.placement,s=r?Lr(r):null,a=r?Ta(r):null,u=e.x+e.width/2-t.width/2,d=e.y+e.height/2-t.height/2,f;switch(s){case Rn:f={x:u,y:e.y-t.height};break;case Yn:f={x:u,y:e.y+e.height};break;case Jn:f={x:e.x+e.width,y:d};break;case Cn:f={x:e.x-t.width,y:d};break;default:f={x:e.x,y:e.y}}var m=s?Cm(s):null;if(m!=null){var y=m==="y"?"height":"width";switch(a){case _a:f[m]=f[m]-(e[y]/2-t[y]/2);break;case Ql:f[m]=f[m]+(e[y]/2-t[y]/2);break}}return f}function Xl(n,e){e===void 0&&(e={});var t=e,r=t.placement,s=r===void 0?n.placement:r,a=t.strategy,u=a===void 0?n.strategy:a,d=t.boundary,f=d===void 0?Rx:d,m=t.rootBoundary,y=m===void 0?n0:m,w=t.elementContext,I=w===void 0?Nl:w,A=t.altBoundary,x=A===void 0?!1:A,V=t.padding,k=V===void 0?0:V,j=a0(typeof k!="number"?k:l0(k,pu)),q=I===Nl?Cx:Nl,B=n.rects.popper,K=n.elements[x?q:I],J=nk(so(K)?K:K.contextElement||ws(n.elements.popper),f,y,u),Y=Ea(n.elements.reference),b=c0({reference:Y,element:B,placement:s}),R=Op(Object.assign({},B,b)),P=I===Nl?R:Y,D={top:J.top-P.top+j.top,bottom:P.bottom-J.bottom+j.bottom,left:J.left-P.left+j.left,right:P.right-J.right+j.right},L=n.modifiersData.offset;if(I===Nl&&L){var F=L[s];Object.keys(D).forEach(function(N){var ke=[Jn,Yn].indexOf(N)>=0?1:-1,Le=[Rn,Yn].indexOf(N)>=0?"y":"x";D[N]+=F[Le]*ke})}return D}function rk(n,e){e===void 0&&(e={});var t=e,r=t.placement,s=t.boundary,a=t.rootBoundary,u=t.padding,d=t.flipVariations,f=t.allowedAutoPlacements,m=f===void 0?r0:f,y=Ta(r),w=y?d?f_:f_.filter(function(x){return Ta(x)===y}):pu,I=w.filter(function(x){return m.indexOf(x)>=0});I.length===0&&(I=w);var A=I.reduce(function(x,V){return x[V]=Xl(n,{placement:V,boundary:s,rootBoundary:a,padding:u})[Lr(V)],x},{});return Object.keys(A).sort(function(x,V){return A[x]-A[V]})}function ik(n){if(Lr(n)===Im)return[];var e=ih(n);return[g_(n),e,g_(e)]}function sk(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var s=t.mainAxis,a=s===void 0?!0:s,u=t.altAxis,d=u===void 0?!0:u,f=t.fallbackPlacements,m=t.padding,y=t.boundary,w=t.rootBoundary,I=t.altBoundary,A=t.flipVariations,x=A===void 0?!0:A,V=t.allowedAutoPlacements,k=e.options.placement,j=Lr(k),q=j===k,B=f||(q||!x?[ih(k)]:ik(k)),K=[k].concat(B).reduce(function(de,Ee){return de.concat(Lr(Ee)===Im?rk(e,{placement:Ee,boundary:y,rootBoundary:w,padding:m,flipVariations:x,allowedAutoPlacements:V}):Ee)},[]),J=e.rects.reference,Y=e.rects.popper,b=new Map,R=!0,P=K[0],D=0;D<K.length;D++){var L=K[D],F=Lr(L),N=Ta(L)===_a,ke=[Rn,Yn].indexOf(F)>=0,Le=ke?"width":"height",be=Xl(e,{placement:L,boundary:y,rootBoundary:w,altBoundary:I,padding:m}),ve=ke?N?Jn:Cn:N?Yn:Rn;J[Le]>Y[Le]&&(ve=ih(ve));var ee=ih(ve),le=[];if(a&&le.push(be[F]<=0),d&&le.push(be[ve]<=0,be[ee]<=0),le.every(function(de){return de})){P=L,R=!1;break}b.set(L,le)}if(R)for(var se=x?3:1,$=function(Ee){var we=K.find(function(Ve){var Ae=b.get(Ve);if(Ae)return Ae.slice(0,Ee).every(function(Ue){return Ue})});if(we)return P=we,"break"},X=se;X>0;X--){var ue=$(X);if(ue==="break")break}e.placement!==P&&(e.modifiersData[r]._skip=!0,e.placement=P,e.reset=!0)}}const ok={name:"flip",enabled:!0,phase:"main",fn:sk,requiresIfExists:["offset"],data:{_skip:!1}};function y_(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function __(n){return[Rn,Jn,Yn,Cn].some(function(e){return n[e]>=0})}function ak(n){var e=n.state,t=n.name,r=e.rects.reference,s=e.rects.popper,a=e.modifiersData.preventOverflow,u=Xl(e,{elementContext:"reference"}),d=Xl(e,{altBoundary:!0}),f=y_(u,r),m=y_(d,s,a),y=__(f),w=__(m);e.modifiersData[t]={referenceClippingOffsets:f,popperEscapeOffsets:m,isReferenceHidden:y,hasPopperEscaped:w},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":y,"data-popper-escaped":w})}const lk={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ak};function uk(n,e,t){var r=Lr(n),s=[Cn,Rn].indexOf(r)>=0?-1:1,a=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,u=a[0],d=a[1];return u=u||0,d=(d||0)*s,[Cn,Jn].indexOf(r)>=0?{x:d,y:u}:{x:u,y:d}}function ck(n){var e=n.state,t=n.options,r=n.name,s=t.offset,a=s===void 0?[0,0]:s,u=r0.reduce(function(y,w){return y[w]=uk(w,e.rects,a),y},{}),d=u[e.placement],f=d.x,m=d.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=f,e.modifiersData.popperOffsets.y+=m),e.modifiersData[r]=u}const hk={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ck};function dk(n){var e=n.state,t=n.name;e.modifiersData[t]=c0({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const fk={name:"popperOffsets",enabled:!0,phase:"read",fn:dk,data:{}};function pk(n){return n==="x"?"y":"x"}function mk(n){var e=n.state,t=n.options,r=n.name,s=t.mainAxis,a=s===void 0?!0:s,u=t.altAxis,d=u===void 0?!1:u,f=t.boundary,m=t.rootBoundary,y=t.altBoundary,w=t.padding,I=t.tether,A=I===void 0?!0:I,x=t.tetherOffset,V=x===void 0?0:x,k=Xl(e,{boundary:f,rootBoundary:m,padding:w,altBoundary:y}),j=Lr(e.placement),q=Ta(e.placement),B=!q,K=Cm(j),J=pk(K),Y=e.modifiersData.popperOffsets,b=e.rects.reference,R=e.rects.popper,P=typeof V=="function"?V(Object.assign({},e.rects,{placement:e.placement})):V,D=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),L=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,F={x:0,y:0};if(Y){if(a){var N,ke=K==="y"?Rn:Cn,Le=K==="y"?Yn:Jn,be=K==="y"?"height":"width",ve=Y[K],ee=ve+k[ke],le=ve-k[Le],se=A?-R[be]/2:0,$=q===_a?b[be]:R[be],X=q===_a?-R[be]:-b[be],ue=e.elements.arrow,de=A&&ue?Rm(ue):{width:0,height:0},Ee=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:o0(),we=Ee[ke],Ve=Ee[Le],Ae=Fl(0,b[be],de[be]),Ue=B?b[be]/2-se-Ae-we-D.mainAxis:$-Ae-we-D.mainAxis,Je=B?-b[be]/2+se+Ae+Ve+D.mainAxis:X+Ae+Ve+D.mainAxis,et=e.elements.arrow&&mu(e.elements.arrow),pt=et?K==="y"?et.clientTop||0:et.clientLeft||0:0,Rt=(N=L==null?void 0:L[K])!=null?N:0,jt=ve+Ue-Rt-pt,Fe=ve+Je-Rt,An=Fl(A?gh(ee,jt):ee,ve,A?to(le,Fe):le);Y[K]=An,F[K]=An-ve}if(d){var dn,Si=K==="x"?Rn:Cn,_r=K==="x"?Yn:Jn,Ct=Y[J],Kt=J==="y"?"height":"width",wr=Ct+k[Si],jn=Ct-k[_r],sn=[Rn,Cn].indexOf(j)!==-1,Zn=(dn=L==null?void 0:L[J])!=null?dn:0,ot=sn?wr:Ct-b[Kt]-R[Kt]-Zn+D.altAxis,at=sn?Ct+b[Kt]+R[Kt]-Zn-D.altAxis:jn,fn=A&&sn?jx(ot,Ct,at):Fl(A?ot:wr,Ct,A?at:jn);Y[J]=fn,F[J]=fn-Ct}e.modifiersData[r]=F}}const gk={name:"preventOverflow",enabled:!0,phase:"main",fn:mk,requiresIfExists:["offset"]};function vk(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function yk(n){return n===Fn(n)||!Vr(n)?Am(n):vk(n)}function _k(n){var e=n.getBoundingClientRect(),t=wa(e.width)/n.offsetWidth||1,r=wa(e.height)/n.offsetHeight||1;return t!==1||r!==1}function wk(n,e,t){t===void 0&&(t=!1);var r=Vr(e),s=Vr(e)&&_k(e),a=ws(e),u=Ea(n,s,t),d={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(r||!r&&!t)&&((hs(e)!=="body"||km(a))&&(d=yk(e)),Vr(e)?(f=Ea(e,!0),f.x+=e.clientLeft,f.y+=e.clientTop):a&&(f.x=xm(a))),{x:u.left+d.scrollLeft-f.x,y:u.top+d.scrollTop-f.y,width:u.width,height:u.height}}function Ek(n){var e=new Map,t=new Set,r=[];n.forEach(function(a){e.set(a.name,a)});function s(a){t.add(a.name);var u=[].concat(a.requires||[],a.requiresIfExists||[]);u.forEach(function(d){if(!t.has(d)){var f=e.get(d);f&&s(f)}}),r.push(a)}return n.forEach(function(a){t.has(a.name)||s(a)}),r}function Tk(n){var e=Ek(n);return Vx.reduce(function(t,r){return t.concat(e.filter(function(s){return s.phase===r}))},[])}function Ik(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function Sk(n){var e=n.reduce(function(t,r){var s=t[r.name];return t[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var w_={placement:"bottom",modifiers:[],strategy:"absolute"};function E_(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Rk(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,s=e.defaultOptions,a=s===void 0?w_:s;return function(d,f,m){m===void 0&&(m=a);var y={placement:"bottom",orderedModifiers:[],options:Object.assign({},w_,a),modifiersData:{},elements:{reference:d,popper:f},attributes:{},styles:{}},w=[],I=!1,A={state:y,setOptions:function(j){var q=typeof j=="function"?j(y.options):j;V(),y.options=Object.assign({},a,y.options,q),y.scrollParents={reference:so(d)?jl(d):d.contextElement?jl(d.contextElement):[],popper:jl(f)};var B=Tk(Sk([].concat(r,y.options.modifiers)));return y.orderedModifiers=B.filter(function(K){return K.enabled}),x(),A.update()},forceUpdate:function(){if(!I){var j=y.elements,q=j.reference,B=j.popper;if(E_(q,B)){y.rects={reference:wk(q,mu(B),y.options.strategy==="fixed"),popper:Rm(B)},y.reset=!1,y.placement=y.options.placement,y.orderedModifiers.forEach(function(D){return y.modifiersData[D.name]=Object.assign({},D.data)});for(var K=0;K<y.orderedModifiers.length;K++){if(y.reset===!0){y.reset=!1,K=-1;continue}var J=y.orderedModifiers[K],Y=J.fn,b=J.options,R=b===void 0?{}:b,P=J.name;typeof Y=="function"&&(y=Y({state:y,options:R,name:P,instance:A})||y)}}}},update:Ik(function(){return new Promise(function(k){A.forceUpdate(),k(y)})}),destroy:function(){V(),I=!0}};if(!E_(d,f))return A;A.setOptions(m).then(function(k){!I&&m.onFirstUpdate&&m.onFirstUpdate(k)});function x(){y.orderedModifiers.forEach(function(k){var j=k.name,q=k.options,B=q===void 0?{}:q,K=k.effect;if(typeof K=="function"){var J=K({state:y,name:j,instance:A,options:B}),Y=function(){};w.push(J||Y)}})}function V(){w.forEach(function(k){return k()}),w=[]}return A}}const Ck=Rk({defaultModifiers:[lk,fk,Kx,Qx,hk,ok,gk,zx]}),Ak=["enabled","placement","strategy","modifiers"];function xk(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const kk={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},Pk={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:n})=>()=>{const{reference:e,popper:t}=n.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(s=>s.trim()!==t.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:n})=>{var e;const{popper:t,reference:r}=n.elements,s=(e=t.getAttribute("role"))==null?void 0:e.toLowerCase();if(t.id&&s==="tooltip"&&"setAttribute"in r){const a=r.getAttribute("aria-describedby");if(a&&a.split(",").indexOf(t.id)!==-1)return;r.setAttribute("aria-describedby",a?`${a},${t.id}`:t.id)}}},Nk=[];function bk(n,e,t={}){let{enabled:r=!0,placement:s="bottom",strategy:a="absolute",modifiers:u=Nk}=t,d=xk(t,Ak);const f=E.useRef(u),m=E.useRef(),y=E.useCallback(()=>{var k;(k=m.current)==null||k.update()},[]),w=E.useCallback(()=>{var k;(k=m.current)==null||k.forceUpdate()},[]),[I,A]=Sx(E.useState({placement:s,update:y,forceUpdate:w,attributes:{},styles:{popper:{},arrow:{}}})),x=E.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:k})=>{const j={},q={};Object.keys(k.elements).forEach(B=>{j[B]=k.styles[B],q[B]=k.attributes[B]}),A({state:k,styles:j,attributes:q,update:y,forceUpdate:w,placement:k.placement})}}),[y,w,A]),V=E.useMemo(()=>(Ml(f.current,u)||(f.current=u),f.current),[u]);return E.useEffect(()=>{!m.current||!r||m.current.setOptions({placement:s,strategy:a,modifiers:[...V,x,kk]})},[a,s,x,r,V]),E.useEffect(()=>{if(!(!r||n==null||e==null))return m.current=Ck(n,e,Object.assign({},d,{placement:s,strategy:a,modifiers:[...V,Pk,x]})),()=>{m.current!=null&&(m.current.destroy(),m.current=void 0,A(k=>Object.assign({},k,{attributes:{},styles:{popper:{}}})))}},[r,n,e]),I}function vh(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}var ip,T_;function Ok(){if(T_)return ip;T_=1;var n=function(){};return ip=n,ip}var Dk=Ok();const Lk=lu(Dk),I_=()=>{};function Vk(n){return n.button===0}function Mk(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}const sp=n=>n&&("current"in n?n.current:n),S_={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function Fk(n,e=I_,{disabled:t,clickTrigger:r="click"}={}){const s=E.useRef(!1),a=E.useRef(!1),u=E.useCallback(m=>{const y=sp(n);Lk(!!y,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),s.current=!y||Mk(m)||!Vk(m)||!!vh(y,m.target)||a.current,a.current=!1},[n]),d=tn(m=>{const y=sp(n);y&&vh(y,m.target)?a.current=!0:a.current=!1}),f=tn(m=>{s.current||e(m)});E.useEffect(()=>{var m,y;if(t||n==null)return;const w=Bh(sp(n)),I=w.defaultView||window;let A=(m=I.event)!=null?m:(y=I.parent)==null?void 0:y.event,x=null;S_[r]&&(x=rs(w,S_[r],d,!0));const V=rs(w,r,u,!0),k=rs(w,r,q=>{if(q===A){A=void 0;return}f(q)});let j=[];return"ontouchstart"in w.documentElement&&(j=[].slice.call(w.body.children).map(q=>rs(q,"mousemove",I_))),()=>{x==null||x(),V(),k(),j.forEach(q=>q())}},[n,t,r,u,d,f])}function jk(n){const e={};return Array.isArray(n)?(n==null||n.forEach(t=>{e[t.name]=t}),e):n||e}function Uk(n={}){return Array.isArray(n)?n:Object.keys(n).map(e=>(n[e].name=e,n[e]))}function $k({enabled:n,enableEvents:e,placement:t,flip:r,offset:s,fixed:a,containerPadding:u,arrowElement:d,popperConfig:f={}}){var m,y,w,I,A;const x=jk(f.modifiers);return Object.assign({},f,{placement:t,enabled:n,strategy:a?"fixed":f.strategy,modifiers:Uk(Object.assign({},x,{eventListeners:{enabled:e,options:(m=x.eventListeners)==null?void 0:m.options},preventOverflow:Object.assign({},x.preventOverflow,{options:u?Object.assign({padding:u},(y=x.preventOverflow)==null?void 0:y.options):(w=x.preventOverflow)==null?void 0:w.options}),offset:{options:Object.assign({offset:s},(I=x.offset)==null?void 0:I.options)},arrow:Object.assign({},x.arrow,{enabled:!!d,options:Object.assign({},(A=x.arrow)==null?void 0:A.options,{element:d})}),flip:Object.assign({enabled:!!r},x.flip)}))})}const Bk=["children","usePopper"];function zk(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const Hk=()=>{};function h0(n={}){const e=E.useContext(qh),[t,r]=YA(),s=E.useRef(!1),{flip:a,offset:u,rootCloseEvent:d,fixed:f=!1,placement:m,popperConfig:y={},enableEventListeners:w=!0,usePopper:I=!!e}=n,A=(e==null?void 0:e.show)==null?!!n.show:e.show;A&&!s.current&&(s.current=!0);const x=Y=>{e==null||e.toggle(!1,Y)},{placement:V,setMenu:k,menuElement:j,toggleElement:q}=e||{},B=bk(q,j,$k({placement:m||V||"bottom-start",enabled:I,enableEvents:w??A,offset:u,flip:a,fixed:f,arrowElement:t,popperConfig:y})),K=Object.assign({ref:k||Hk,"aria-labelledby":q==null?void 0:q.id},B.attributes.popper,{style:B.styles.popper}),J={show:A,placement:V,hasShown:s.current,toggle:e==null?void 0:e.toggle,popper:I?B:null,arrowProps:I?Object.assign({ref:r},B.attributes.arrow,{style:B.styles.arrow}):{}};return Fk(j,x,{clickTrigger:d,disabled:!A}),[K,J]}function d0(n){let{children:e,usePopper:t=!0}=n,r=zk(n,Bk);const[s,a]=h0(Object.assign({},r,{usePopper:t}));return C.jsx(C.Fragment,{children:e(s,a)})}d0.displayName="DropdownMenu";const Pm={prefix:String(Math.round(Math.random()*1e10)),current:0},f0=nn.createContext(Pm),Wk=nn.createContext(!1);let qk=!!(typeof window<"u"&&window.document&&window.document.createElement),op=new WeakMap;function Kk(n=!1){let e=E.useContext(f0),t=E.useRef(null);if(t.current===null&&!n){var r,s;let a=(s=nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||s===void 0||(r=s.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(a){let u=op.get(a);u==null?op.set(a,{id:e.current,state:a.memoizedState}):a.memoizedState!==u.state&&(e.current=u.id,op.delete(a))}t.current=++e.current}return t.current}function Gk(n){let e=E.useContext(f0);e===Pm&&!qk&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let t=Kk(!!n),r=`react-aria${e.prefix}`;return n||`${r}-${t}`}function Qk(n){let e=nn.useId(),[t]=E.useState(eP()),r=t?"react-aria":`react-aria${Pm.prefix}`;return n||`${r}-${e}`}const Xk=typeof nn.useId=="function"?Qk:Gk;function Yk(){return!1}function Jk(){return!0}function Zk(n){return()=>{}}function eP(){return typeof nn.useSyncExternalStore=="function"?nn.useSyncExternalStore(Zk,Yk,Jk):E.useContext(Wk)}const p0=n=>{var e;return((e=n.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},R_=()=>{};function m0(){const n=Xk(),{show:e=!1,toggle:t=R_,setToggle:r,menuElement:s}=E.useContext(qh)||{},a=E.useCallback(d=>{t(!e,d)},[e,t]),u={id:n,ref:r||R_,onClick:a,"aria-expanded":!!e};return s&&p0(s)&&(u["aria-haspopup"]=!0),[u,{show:e,toggle:t}]}function g0({children:n}){const[e,t]=m0();return C.jsx(C.Fragment,{children:n(e,t)})}g0.displayName="DropdownToggle";const oo=E.createContext(null),Yl=(n,e=null)=>n!=null?String(n):e||null,Gh=E.createContext(null);Gh.displayName="NavContext";const tP="data-rr-ui-",nP="rrUi";function La(n){return`${tP}${n}`}function rP(n){return`${nP}${n}`}const iP=["eventKey","disabled","onClick","active","as"];function sP(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function v0({key:n,href:e,active:t,disabled:r,onClick:s}){const a=E.useContext(oo),u=E.useContext(Gh),{activeKey:d}=u||{},f=Yl(n,e),m=t==null&&n!=null?Yl(d)===f:t;return[{onClick:tn(w=>{r||(s==null||s(w),a&&!w.isPropagationStopped()&&a(f,w))}),"aria-disabled":r||void 0,"aria-selected":m,[La("dropdown-item")]:""},{isActive:m}]}const y0=E.forwardRef((n,e)=>{let{eventKey:t,disabled:r,onClick:s,active:a,as:u=_m}=n,d=sP(n,iP);const[f]=v0({key:t,href:d.href,disabled:r,onClick:s,active:a});return C.jsx(u,Object.assign({},d,{ref:e},f))});y0.displayName="DropdownItem";const _0=E.createContext(zh?window:void 0);_0.Provider;function Qh(){return E.useContext(_0)}function C_(){const n=t0(),e=E.useRef(null),t=E.useCallback(r=>{e.current=r,n()},[n]);return[e,t]}function gu({defaultShow:n,show:e,onSelect:t,onToggle:r,itemSelector:s=`* [${La("dropdown-item")}]`,focusFirstItemOnShow:a,placement:u="bottom-start",children:d}){const f=Qh(),[m,y]=Ix(e,n,r),[w,I]=C_(),A=w.current,[x,V]=C_(),k=x.current,j=jE(m),q=E.useRef(null),B=E.useRef(!1),K=E.useContext(oo),J=E.useCallback((L,F,N=F==null?void 0:F.type)=>{y(L,{originalEvent:F,source:N})},[y]),Y=tn((L,F)=>{t==null||t(L,F),J(!1,F,"select"),F.isPropagationStopped()||K==null||K(L,F)}),b=E.useMemo(()=>({toggle:J,placement:u,show:m,menuElement:A,toggleElement:k,setMenu:I,setToggle:V}),[J,u,m,A,k,I,V]);A&&j&&!m&&(B.current=A.contains(A.ownerDocument.activeElement));const R=tn(()=>{k&&k.focus&&k.focus()}),P=tn(()=>{const L=q.current;let F=a;if(F==null&&(F=w.current&&p0(w.current)?"keyboard":!1),F===!1||F==="keyboard"&&!/^key.+$/.test(L))return;const N=ai(w.current,s)[0];N&&N.focus&&N.focus()});E.useEffect(()=>{m?P():B.current&&(B.current=!1,R())},[m,B,R,P]),E.useEffect(()=>{q.current=null});const D=(L,F)=>{if(!w.current)return null;const N=ai(w.current,s);let ke=N.indexOf(L)+F;return ke=Math.max(0,Math.min(ke,N.length)),N[ke]};return ZA(E.useCallback(()=>f.document,[f]),"keydown",L=>{var F,N;const{key:ke}=L,Le=L.target,be=(F=w.current)==null?void 0:F.contains(Le),ve=(N=x.current)==null?void 0:N.contains(Le);if(/input|textarea/i.test(Le.tagName)&&(ke===" "||ke!=="Escape"&&be||ke==="Escape"&&Le.type==="search")||!be&&!ve||ke==="Tab"&&(!w.current||!m))return;q.current=L.type;const le={originalEvent:L,source:L.type};switch(ke){case"ArrowUp":{const se=D(Le,-1);se&&se.focus&&se.focus(),L.preventDefault();return}case"ArrowDown":if(L.preventDefault(),!m)y(!0,le);else{const se=D(Le,1);se&&se.focus&&se.focus()}return;case"Tab":VE(Le.ownerDocument,"keyup",se=>{var $;(se.key==="Tab"&&!se.target||!(($=w.current)!=null&&$.contains(se.target)))&&y(!1,le)},{once:!0});break;case"Escape":ke==="Escape"&&(L.preventDefault(),L.stopPropagation()),y(!1,le);break}}),C.jsx(oo.Provider,{value:Y,children:C.jsx(qh.Provider,{value:b,children:d})})}gu.displayName="Dropdown";gu.Menu=d0;gu.Toggle=g0;gu.Item=y0;const Nm=E.createContext({});Nm.displayName="DropdownContext";const w0=E.forwardRef(({className:n,bsPrefix:e,as:t="hr",role:r="separator",...s},a)=>(e=Re(e,"dropdown-divider"),C.jsx(t,{ref:a,className:_e(n,e),role:r,...s})));w0.displayName="DropdownDivider";const E0=E.forwardRef(({className:n,bsPrefix:e,as:t="div",role:r="heading",...s},a)=>(e=Re(e,"dropdown-header"),C.jsx(t,{ref:a,className:_e(n,e),role:r,...s})));E0.displayName="DropdownHeader";const T0=E.forwardRef(({bsPrefix:n,className:e,eventKey:t,disabled:r=!1,onClick:s,active:a,as:u=Gl,...d},f)=>{const m=Re(n,"dropdown-item"),[y,w]=v0({key:t,href:d.href,disabled:r,onClick:s,active:a});return C.jsx(u,{...d,...y,ref:f,className:_e(e,m,w.isActive&&"active",r&&"disabled")})});T0.displayName="DropdownItem";const I0=E.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},s)=>(e=Re(e,"dropdown-item-text"),C.jsx(t,{ref:s,className:_e(n,e),...r})));I0.displayName="DropdownItemText";const oP=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",aP=typeof document<"u",S0=aP||oP?E.useLayoutEffect:E.useEffect,bm=E.createContext(null);bm.displayName="InputGroupContext";const po=E.createContext(null);po.displayName="NavbarContext";function R0(n,e){return n}function C0(n,e,t){const r=t?"top-end":"top-start",s=t?"top-start":"top-end",a=t?"bottom-end":"bottom-start",u=t?"bottom-start":"bottom-end",d=t?"right-start":"left-start",f=t?"right-end":"left-end",m=t?"left-start":"right-start",y=t?"left-end":"right-end";let w=n?u:a;return e==="up"?w=n?s:r:e==="end"?w=n?y:m:e==="start"?w=n?f:d:e==="down-centered"?w="bottom":e==="up-centered"&&(w="top"),w}const A0=E.forwardRef(({bsPrefix:n,className:e,align:t,rootCloseEvent:r,flip:s=!0,show:a,renderOnMount:u,as:d="div",popperConfig:f,variant:m,...y},w)=>{let I=!1;const A=E.useContext(po),x=Re(n,"dropdown-menu"),{align:V,drop:k,isRTL:j}=E.useContext(Nm);t=t||V;const q=E.useContext(bm),B=[];if(t)if(typeof t=="object"){const L=Object.keys(t);if(L.length){const F=L[0],N=t[F];I=N==="start",B.push(`${x}-${F}-${N}`)}}else t==="end"&&(I=!0);const K=C0(I,k,j),[J,{hasShown:Y,popper:b,show:R,toggle:P}]=h0({flip:s,rootCloseEvent:r,show:a,usePopper:!A&&B.length===0,offset:[0,2],popperConfig:f,placement:K});if(J.ref=gm(R0(w),J.ref),S0(()=>{R&&(b==null||b.update())},[R]),!Y&&!u&&!q)return null;typeof d!="string"&&(J.show=R,J.close=()=>P==null?void 0:P(!1),J.align=t);let D=y.style;return b!=null&&b.placement&&(D={...y.style,...J.style},y["x-placement"]=b.placement),C.jsx(d,{...y,...J,style:D,...(B.length||A)&&{"data-bs-popper":"static"},className:_e(e,x,R&&"show",I&&`${x}-end`,m&&`${x}-${m}`,...B)})});A0.displayName="DropdownMenu";const x0=E.forwardRef(({bsPrefix:n,split:e,className:t,childBsPrefix:r,as:s=ya,...a},u)=>{const d=Re(n,"dropdown-toggle"),f=E.useContext(qh);r!==void 0&&(a.bsPrefix=r);const[m]=m0();return m.ref=gm(m.ref,R0(u)),C.jsx(s,{className:_e(t,d,e&&`${d}-split`,(f==null?void 0:f.show)&&"show"),...m,...a})});x0.displayName="DropdownToggle";const k0=E.forwardRef((n,e)=>{const{bsPrefix:t,drop:r="down",show:s,className:a,align:u="start",onSelect:d,onToggle:f,focusFirstItemOnShow:m,as:y="div",navbar:w,autoClose:I=!0,...A}=$h(n,{show:"onToggle"}),x=E.useContext(bm),V=Re(t,"dropdown"),k=DE(),j=b=>I===!1?b==="click":I==="inside"?b!=="rootClose":I==="outside"?b!=="select":!0,q=io((b,R)=>{var P;!((P=R.originalEvent)==null||(P=P.target)==null)&&P.classList.contains("dropdown-toggle")&&R.source==="mousedown"||(R.originalEvent.currentTarget===document&&(R.source!=="keydown"||R.originalEvent.key==="Escape")&&(R.source="rootClose"),j(R.source)&&(f==null||f(b,R)))}),K=C0(u==="end",r,k),J=E.useMemo(()=>({align:u,drop:r,isRTL:k}),[u,r,k]),Y={down:V,"down-centered":`${V}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return C.jsx(Nm.Provider,{value:J,children:C.jsx(gu,{placement:K,show:s,onSelect:d,onToggle:q,focusFirstItemOnShow:m,itemSelector:`.${V}-item:not(.disabled):not(:disabled)`,children:x?A.children:C.jsx(y,{...A,ref:e,className:_e(a,s&&"show",Y[r])})})})});k0.displayName="Dropdown";const Zs=Object.assign(k0,{Toggle:x0,Menu:A0,Item:T0,ItemText:I0,Divider:w0,Header:E0});In.string,In.bool,In.bool,In.bool,In.bool;const P0=E.forwardRef(({bsPrefix:n,className:e,fluid:t=!1,rounded:r=!1,roundedCircle:s=!1,thumbnail:a=!1,...u},d)=>(n=Re(n,"img"),C.jsx("img",{ref:d,...u,className:_e(e,t&&`${n}-fluid`,r&&"rounded",s&&"rounded-circle",a&&`${n}-thumbnail`)})));P0.displayName="Image";const lP={type:In.string,tooltip:In.bool,as:In.elementType},Xh=E.forwardRef(({as:n="div",className:e,type:t="valid",tooltip:r=!1,...s},a)=>C.jsx(n,{...s,ref:a,className:_e(e,`${t}-${r?"tooltip":"feedback"}`)}));Xh.displayName="Feedback";Xh.propTypes=lP;const gi=E.createContext({}),Om=E.forwardRef(({id:n,bsPrefix:e,className:t,type:r="checkbox",isValid:s=!1,isInvalid:a=!1,as:u="input",...d},f)=>{const{controlId:m}=E.useContext(gi);return e=Re(e,"form-check-input"),C.jsx(u,{...d,ref:f,type:r,id:n||m,className:_e(t,e,s&&"is-valid",a&&"is-invalid")})});Om.displayName="FormCheckInput";const yh=E.forwardRef(({bsPrefix:n,className:e,htmlFor:t,...r},s)=>{const{controlId:a}=E.useContext(gi);return n=Re(n,"form-check-label"),C.jsx("label",{...r,ref:s,htmlFor:t||a,className:_e(e,n)})});yh.displayName="FormCheckLabel";const N0=E.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:t,inline:r=!1,reverse:s=!1,disabled:a=!1,isValid:u=!1,isInvalid:d=!1,feedbackTooltip:f=!1,feedback:m,feedbackType:y,className:w,style:I,title:A="",type:x="checkbox",label:V,children:k,as:j="input",...q},B)=>{e=Re(e,"form-check"),t=Re(t,"form-switch");const{controlId:K}=E.useContext(gi),J=E.useMemo(()=>({controlId:n||K}),[K,n]),Y=!k&&V!=null&&V!==!1||yx(k,yh),b=C.jsx(Om,{...q,type:x==="switch"?"checkbox":x,ref:B,isValid:u,isInvalid:d,disabled:a,as:j});return C.jsx(gi.Provider,{value:J,children:C.jsx("div",{style:I,className:_e(w,Y&&e,r&&`${e}-inline`,s&&`${e}-reverse`,x==="switch"&&t),children:k||C.jsxs(C.Fragment,{children:[b,Y&&C.jsx(yh,{title:A,children:V}),m&&C.jsx(Xh,{type:y,tooltip:f,children:m})]})})})});N0.displayName="FormCheck";const _h=Object.assign(N0,{Input:Om,Label:yh}),b0=E.forwardRef(({bsPrefix:n,type:e,size:t,htmlSize:r,id:s,className:a,isValid:u=!1,isInvalid:d=!1,plaintext:f,readOnly:m,as:y="input",...w},I)=>{const{controlId:A}=E.useContext(gi);return n=Re(n,"form-control"),C.jsx(y,{...w,type:e,size:r,ref:I,readOnly:m,id:s||A,className:_e(a,f?`${n}-plaintext`:n,t&&`${n}-${t}`,e==="color"&&`${n}-color`,u&&"is-valid",d&&"is-invalid")})});b0.displayName="FormControl";const uP=Object.assign(b0,{Feedback:Xh}),O0=E.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Re(e,"form-floating"),C.jsx(t,{ref:s,className:_e(n,e),...r})));O0.displayName="FormFloating";const Dm=E.forwardRef(({controlId:n,as:e="div",...t},r)=>{const s=E.useMemo(()=>({controlId:n}),[n]);return C.jsx(gi.Provider,{value:s,children:C.jsx(e,{...t,ref:r})})});Dm.displayName="FormGroup";const D0=E.forwardRef(({as:n="label",bsPrefix:e,column:t=!1,visuallyHidden:r=!1,className:s,htmlFor:a,...u},d)=>{const{controlId:f}=E.useContext(gi);e=Re(e,"form-label");let m="col-form-label";typeof t=="string"&&(m=`${m} ${m}-${t}`);const y=_e(s,e,r&&"visually-hidden",t&&m);return a=a||f,t?C.jsx(is,{ref:d,as:"label",className:y,htmlFor:a,...u}):C.jsx(n,{ref:d,className:y,htmlFor:a,...u})});D0.displayName="FormLabel";const L0=E.forwardRef(({bsPrefix:n,className:e,id:t,...r},s)=>{const{controlId:a}=E.useContext(gi);return n=Re(n,"form-range"),C.jsx("input",{...r,type:"range",ref:s,className:_e(e,n),id:t||a})});L0.displayName="FormRange";const V0=E.forwardRef(({bsPrefix:n,size:e,htmlSize:t,className:r,isValid:s=!1,isInvalid:a=!1,id:u,...d},f)=>{const{controlId:m}=E.useContext(gi);return n=Re(n,"form-select"),C.jsx("select",{...d,size:t,ref:f,className:_e(r,n,e&&`${n}-${e}`,s&&"is-valid",a&&"is-invalid"),id:u||m})});V0.displayName="FormSelect";const M0=E.forwardRef(({bsPrefix:n,className:e,as:t="small",muted:r,...s},a)=>(n=Re(n,"form-text"),C.jsx(t,{...s,ref:a,className:_e(e,n,r&&"text-muted")})));M0.displayName="FormText";const F0=E.forwardRef((n,e)=>C.jsx(_h,{...n,ref:e,type:"switch"}));F0.displayName="Switch";const cP=Object.assign(F0,{Input:_h.Input,Label:_h.Label}),j0=E.forwardRef(({bsPrefix:n,className:e,children:t,controlId:r,label:s,...a},u)=>(n=Re(n,"form-floating"),C.jsxs(Dm,{ref:u,className:_e(e,n),controlId:r,...a,children:[t,C.jsx("label",{htmlFor:r,children:s})]})));j0.displayName="FloatingLabel";const hP={_ref:In.any,validated:In.bool,as:In.elementType},Lm=E.forwardRef(({className:n,validated:e,as:t="form",...r},s)=>C.jsx(t,{...r,ref:s,className:_e(n,e&&"was-validated")}));Lm.displayName="Form";Lm.propTypes=hP;const Me=Object.assign(Lm,{Group:Dm,Control:uP,Floating:O0,Check:_h,Switch:cP,Label:D0,Text:M0,Range:L0,Select:V0,FloatingLabel:j0}),A_=n=>!n||typeof n=="function"?n:e=>{n.current=e};function dP(n,e){const t=A_(n),r=A_(e);return s=>{t&&t(s),r&&r(s)}}function Yh(n,e){return E.useMemo(()=>dP(n,e),[n,e])}const U0=E.createContext(null),fP=["as","active","eventKey"];function pP(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function $0({key:n,onClick:e,active:t,id:r,role:s,disabled:a}){const u=E.useContext(oo),d=E.useContext(Gh),f=E.useContext(U0);let m=t;const y={role:s};if(d){!s&&d.role==="tablist"&&(y.role="tab");const w=d.getControllerId(n??null),I=d.getControlledId(n??null);y[La("event-key")]=n,y.id=w||r,m=t==null&&n!=null?d.activeKey===n:t,(m||!(f!=null&&f.unmountOnExit)&&!(f!=null&&f.mountOnEnter))&&(y["aria-controls"]=I)}return y.role==="tab"&&(y["aria-selected"]=m,m||(y.tabIndex=-1),a&&(y.tabIndex=-1,y["aria-disabled"]=!0)),y.onClick=tn(w=>{a||(e==null||e(w),n!=null&&u&&!w.isPropagationStopped()&&u(n,w))}),[y,{isActive:m}]}const B0=E.forwardRef((n,e)=>{let{as:t=_m,active:r,eventKey:s}=n,a=pP(n,fP);const[u,d]=$0(Object.assign({key:Yl(s,a.href),active:r},a));return u[La("active")]=d.isActive,C.jsx(t,Object.assign({},a,u,{ref:e}))});B0.displayName="NavItem";const mP=["as","onSelect","activeKey","role","onKeyDown"];function gP(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const x_=()=>{},k_=La("event-key"),z0=E.forwardRef((n,e)=>{let{as:t="div",onSelect:r,activeKey:s,role:a,onKeyDown:u}=n,d=gP(n,mP);const f=t0(),m=E.useRef(!1),y=E.useContext(oo),w=E.useContext(U0);let I,A;w&&(a=a||"tablist",s=w.activeKey,I=w.getControlledId,A=w.getControllerId);const x=E.useRef(null),V=B=>{const K=x.current;if(!K)return null;const J=ai(K,`[${k_}]:not([aria-disabled=true])`),Y=K.querySelector("[aria-selected=true]");if(!Y||Y!==document.activeElement)return null;const b=J.indexOf(Y);if(b===-1)return null;let R=b+B;return R>=J.length&&(R=0),R<0&&(R=J.length-1),J[R]},k=(B,K)=>{B!=null&&(r==null||r(B,K),y==null||y(B,K))},j=B=>{if(u==null||u(B),!w)return;let K;switch(B.key){case"ArrowLeft":case"ArrowUp":K=V(-1);break;case"ArrowRight":case"ArrowDown":K=V(1);break;default:return}K&&(B.preventDefault(),k(K.dataset[rP("EventKey")]||null,B),m.current=!0,f())};E.useEffect(()=>{if(x.current&&m.current){const B=x.current.querySelector(`[${k_}][aria-selected=true]`);B==null||B.focus()}m.current=!1});const q=Yh(e,x);return C.jsx(oo.Provider,{value:k,children:C.jsx(Gh.Provider,{value:{role:a,activeKey:Yl(s),getControlledId:I||x_,getControllerId:A||x_},children:C.jsx(t,Object.assign({},d,{onKeyDown:j,ref:q,role:a}))})})});z0.displayName="Nav";const vP=Object.assign(z0,{Item:B0});function ap(n){n===void 0&&(n=Bh());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function yP(n){const e=E.useRef(n);return e.current=n,e}function _P(n){const e=yP(n);E.useEffect(()=>()=>e.current(),[])}function wP(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const P_=La("modal-open");class Vm{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:r=!1}={}){this.handleContainerOverflow=t,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return wP(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();e.style={overflow:s.style.overflow,[r]:s.style[r]},e.scrollBarWidth&&(t[r]=`${parseInt(fi(s,r)||"0",10)+e.scrollBarWidth}px`),s.setAttribute(P_,""),fi(s,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(P_),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const lp=(n,e)=>zh?n==null?(e||Bh()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function EP(n,e){const t=Qh(),[r,s]=E.useState(()=>lp(n,t==null?void 0:t.document));if(!r){const a=lp(n);a&&s(a)}return E.useEffect(()=>{},[e,r]),E.useEffect(()=>{const a=lp(n);a!==r&&s(a)},[n,r]),r}function TP({children:n,in:e,onExited:t,mountOnEnter:r,unmountOnExit:s}){const a=E.useRef(null),u=E.useRef(e),d=tn(t);E.useEffect(()=>{e?u.current=!0:d(a.current)},[e,d]);const f=Yh(a,Da(n)),m=E.cloneElement(n,{ref:f});return e?m:s||!u.current&&r?null:m}const IP=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function SP(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function RP(n){let{onEnter:e,onEntering:t,onEntered:r,onExit:s,onExiting:a,onExited:u,addEndListener:d,children:f}=n,m=SP(n,IP);const y=E.useRef(null),w=Yh(y,Da(f)),I=K=>J=>{K&&y.current&&K(y.current,J)},A=E.useCallback(I(e),[e]),x=E.useCallback(I(t),[t]),V=E.useCallback(I(r),[r]),k=E.useCallback(I(s),[s]),j=E.useCallback(I(a),[a]),q=E.useCallback(I(u),[u]),B=E.useCallback(I(d),[d]);return Object.assign({},m,{nodeRef:y},e&&{onEnter:A},t&&{onEntering:x},r&&{onEntered:V},s&&{onExit:k},a&&{onExiting:j},u&&{onExited:q},d&&{addEndListener:B},{children:typeof f=="function"?(K,J)=>f(K,Object.assign({},J,{ref:w})):E.cloneElement(f,{ref:w})})}const CP=["component"];function AP(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}const xP=E.forwardRef((n,e)=>{let{component:t}=n,r=AP(n,CP);const s=RP(r);return C.jsx(t,Object.assign({ref:e},s))});function kP({in:n,onTransition:e}){const t=E.useRef(null),r=E.useRef(!0),s=tn(e);return u_(()=>{if(!t.current)return;let a=!1;return s({in:n,element:t.current,initial:r.current,isStale:()=>a}),()=>{a=!0}},[n,s]),u_(()=>(r.current=!1,()=>{r.current=!0}),[]),t}function PP({children:n,in:e,onExited:t,onEntered:r,transition:s}){const[a,u]=E.useState(!e);e&&a&&u(!1);const d=kP({in:!!e,onTransition:m=>{const y=()=>{m.isStale()||(m.in?r==null||r(m.element,m.initial):(u(!0),t==null||t(m.element)))};Promise.resolve(s(m)).then(y,w=>{throw m.in||u(!0),w})}}),f=Yh(d,Da(n));return a&&!e?null:E.cloneElement(n,{ref:f})}function N_(n,e,t){return n?C.jsx(xP,Object.assign({},t,{component:n})):e?C.jsx(PP,Object.assign({},t,{transition:e})):C.jsx(TP,Object.assign({},t))}const NP=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function bP(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}let up;function OP(n){return up||(up=new Vm({ownerDocument:n==null?void 0:n.document})),up}function DP(n){const e=Qh(),t=n||OP(e),r=E.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>t.add(r.current),remove:()=>t.remove(r.current),isTopModal:()=>t.isTopModal(r.current),setDialogRef:E.useCallback(s=>{r.current.dialog=s},[]),setBackdropRef:E.useCallback(s=>{r.current.backdrop=s},[])})}const H0=E.forwardRef((n,e)=>{let{show:t=!1,role:r="dialog",className:s,style:a,children:u,backdrop:d=!0,keyboard:f=!0,onBackdropClick:m,onEscapeKeyDown:y,transition:w,runTransition:I,backdropTransition:A,runBackdropTransition:x,autoFocus:V=!0,enforceFocus:k=!0,restoreFocus:j=!0,restoreFocusOptions:q,renderDialog:B,renderBackdrop:K=Fe=>C.jsx("div",Object.assign({},Fe)),manager:J,container:Y,onShow:b,onHide:R=()=>{},onExit:P,onExited:D,onExiting:L,onEnter:F,onEntering:N,onEntered:ke}=n,Le=bP(n,NP);const be=Qh(),ve=EP(Y),ee=DP(J),le=FE(),se=jE(t),[$,X]=E.useState(!t),ue=E.useRef(null);E.useImperativeHandle(e,()=>ee,[ee]),zh&&!se&&t&&(ue.current=ap(be==null?void 0:be.document)),t&&$&&X(!1);const de=tn(()=>{if(ee.add(),Je.current=rs(document,"keydown",Ae),Ue.current=rs(document,"focus",()=>setTimeout(we),!0),b&&b(),V){var Fe,An;const dn=ap((Fe=(An=ee.dialog)==null?void 0:An.ownerDocument)!=null?Fe:be==null?void 0:be.document);ee.dialog&&dn&&!vh(ee.dialog,dn)&&(ue.current=dn,ee.dialog.focus())}}),Ee=tn(()=>{if(ee.remove(),Je.current==null||Je.current(),Ue.current==null||Ue.current(),j){var Fe;(Fe=ue.current)==null||Fe.focus==null||Fe.focus(q),ue.current=null}});E.useEffect(()=>{!t||!ve||de()},[t,ve,de]),E.useEffect(()=>{$&&Ee()},[$,Ee]),_P(()=>{Ee()});const we=tn(()=>{if(!k||!le()||!ee.isTopModal())return;const Fe=ap(be==null?void 0:be.document);ee.dialog&&Fe&&!vh(ee.dialog,Fe)&&ee.dialog.focus()}),Ve=tn(Fe=>{Fe.target===Fe.currentTarget&&(m==null||m(Fe),d===!0&&R())}),Ae=tn(Fe=>{f&&FA(Fe)&&ee.isTopModal()&&(y==null||y(Fe),Fe.defaultPrevented||R())}),Ue=E.useRef(),Je=E.useRef(),et=(...Fe)=>{X(!0),D==null||D(...Fe)};if(!ve)return null;const pt=Object.assign({role:r,ref:ee.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},Le,{style:a,className:s,tabIndex:-1});let Rt=B?B(pt):C.jsx("div",Object.assign({},pt,{children:E.cloneElement(u,{role:"document"})}));Rt=N_(w,I,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:P,onExiting:L,onExited:et,onEnter:F,onEntering:N,onEntered:ke,children:Rt});let jt=null;return d&&(jt=K({ref:ee.setBackdropRef,onClick:Ve}),jt=N_(A,x,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:jt})),C.jsx(C.Fragment,{children:ha.createPortal(C.jsxs(C.Fragment,{children:[jt,Rt]}),ve)})});H0.displayName="Modal";const LP=Object.assign(H0,{Manager:Vm});function VP(n,e){return n.classList?n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function MP(n,e){n.classList?n.classList.add(e):VP(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function b_(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function FP(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=b_(n.className,e):n.setAttribute("class",b_(n.className&&n.className.baseVal||"",e))}const oa={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class W0 extends Vm{adjustAndStore(e,t,r){const s=t.style[e];t.dataset[e]=s,fi(t,{[e]:`${parseFloat(fi(t,e))+r}px`})}restore(e,t){const r=t.dataset[e];r!==void 0&&(delete t.dataset[e],fi(t,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(MP(t,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";ai(t,oa.FIXED_CONTENT).forEach(a=>this.adjustAndStore(r,a,e.scrollBarWidth)),ai(t,oa.STICKY_CONTENT).forEach(a=>this.adjustAndStore(s,a,-e.scrollBarWidth)),ai(t,oa.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(s,a,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();FP(t,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";ai(t,oa.FIXED_CONTENT).forEach(a=>this.restore(r,a)),ai(t,oa.STICKY_CONTENT).forEach(a=>this.restore(s,a)),ai(t,oa.NAVBAR_TOGGLER).forEach(a=>this.restore(s,a))}}let cp;function jP(n){return cp||(cp=new W0(n)),cp}const q0=E.createContext({onHide(){}}),UP=E.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:r,children:s,...a},u)=>{const d=E.useContext(q0),f=io(()=>{d==null||d.onHide(),r==null||r()});return C.jsxs("div",{ref:u,...a,children:[s,t&&C.jsx(wm,{"aria-label":n,variant:e,onClick:f})]})}),K0=E.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Re(e,"nav-item"),C.jsx(t,{ref:s,className:_e(n,e),...r})));K0.displayName="NavItem";const Mm=E.forwardRef(({bsPrefix:n,className:e,as:t=Gl,active:r,eventKey:s,disabled:a=!1,...u},d)=>{n=Re(n,"nav-link");const[f,m]=$0({key:Yl(s,u.href),active:r,disabled:a,...u});return C.jsx(t,{...u,...f,ref:d,disabled:a,className:_e(e,n,a&&"disabled",m.isActive&&"active")})});Mm.displayName="NavLink";const G0=E.forwardRef((n,e)=>{const{as:t="div",bsPrefix:r,variant:s,fill:a=!1,justify:u=!1,navbar:d,navbarScroll:f,className:m,activeKey:y,...w}=$h(n,{activeKey:"onSelect"}),I=Re(r,"nav");let A,x,V=!1;const k=E.useContext(po),j=E.useContext(Tm);return k?(A=k.bsPrefix,V=d??!0):j&&({cardHeaderBsPrefix:x}=j),C.jsx(vP,{as:t,ref:e,activeKey:y,className:_e(m,{[I]:!V,[`${A}-nav`]:V,[`${A}-nav-scroll`]:V&&f,[`${x}-${s}`]:!!x,[`${I}-${s}`]:!!s,[`${I}-fill`]:a,[`${I}-justified`]:u}),...w})});G0.displayName="Nav";const Xs=Object.assign(G0,{Item:K0,Link:Mm}),Q0=E.forwardRef(({bsPrefix:n,className:e,as:t,...r},s)=>{n=Re(n,"navbar-brand");const a=t||(r.href?"a":"span");return C.jsx(a,{...r,ref:s,className:_e(e,n)})});Q0.displayName="NavbarBrand";const X0=E.forwardRef(({children:n,bsPrefix:e,...t},r)=>{e=Re(e,"navbar-collapse");const s=E.useContext(po);return C.jsx(XA,{in:!!(s&&s.expanded),...t,children:C.jsx("div",{ref:r,className:e,children:n})})});X0.displayName="NavbarCollapse";const Y0=E.forwardRef(({bsPrefix:n,className:e,children:t,label:r="Toggle navigation",as:s="button",onClick:a,...u},d)=>{n=Re(n,"navbar-toggler");const{onToggle:f,expanded:m}=E.useContext(po)||{},y=io(w=>{a&&a(w),f&&f()});return s==="button"&&(u.type="button"),C.jsx(s,{...u,ref:d,onClick:y,"aria-label":r,className:_e(e,n,!m&&"collapsed"),children:t||C.jsx("span",{className:`${n}-icon`})})});Y0.displayName="NavbarToggle";const Dp=new WeakMap,O_=(n,e)=>{if(!n||!e)return;const t=Dp.get(e)||new Map;Dp.set(e,t);let r=t.get(n);return r||(r=e.matchMedia(n),r.refCount=0,t.set(r.media,r)),r};function $P(n,e=typeof window>"u"?void 0:window){const t=O_(n,e),[r,s]=E.useState(()=>t?t.matches:!1);return S0(()=>{let a=O_(n,e);if(!a)return s(!1);let u=Dp.get(e);const d=()=>{s(a.matches)};return a.refCount++,a.addListener(d),d(),()=>{a.removeListener(d),a.refCount--,a.refCount<=0&&(u==null||u.delete(a.media)),a=void 0}},[n]),r}function BP(n){const e=Object.keys(n);function t(d,f){return d===f?f:d?`${d} and ${f}`:f}function r(d){return e[Math.min(e.indexOf(d)+1,e.length-1)]}function s(d){const f=r(d);let m=n[f];return typeof m=="number"?m=`${m-.2}px`:m=`calc(${m} - 0.2px)`,`(max-width: ${m})`}function a(d){let f=n[d];return typeof f=="number"&&(f=`${f}px`),`(min-width: ${f})`}function u(d,f,m){let y;typeof d=="object"?(y=d,m=f,f=!0):(f=f||!0,y={[d]:f});let w=E.useMemo(()=>Object.entries(y).reduce((I,[A,x])=>((x==="up"||x===!0)&&(I=t(I,a(A))),(x==="down"||x===!0)&&(I=t(I,s(A))),I),""),[JSON.stringify(y)]);return $P(w,m)}return u}const zP=BP({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),J0=E.forwardRef(({className:n,bsPrefix:e,as:t="div",...r},s)=>(e=Re(e,"offcanvas-body"),C.jsx(t,{ref:s,className:_e(n,e),...r})));J0.displayName="OffcanvasBody";const HP={[gr]:"show",[li]:"show"},Z0=E.forwardRef(({bsPrefix:n,className:e,children:t,in:r=!1,mountOnEnter:s=!1,unmountOnExit:a=!1,appear:u=!1,...d},f)=>(n=Re(n,"offcanvas"),C.jsx(Wh,{ref:f,addEndListener:Hh,in:r,mountOnEnter:s,unmountOnExit:a,appear:u,...d,childRef:Da(t),children:(m,y)=>E.cloneElement(t,{...y,className:_e(e,t.props.className,(m===gr||m===Kl)&&`${n}-toggling`,HP[m])})})));Z0.displayName="OffcanvasToggling";const eT=E.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:r=!1,...s},a)=>(n=Re(n,"offcanvas-header"),C.jsx(UP,{ref:a,...s,className:_e(e,n),closeLabel:t,closeButton:r})));eT.displayName="OffcanvasHeader";const WP=vm("h5"),tT=E.forwardRef(({className:n,bsPrefix:e,as:t=WP,...r},s)=>(e=Re(e,"offcanvas-title"),C.jsx(t,{ref:s,className:_e(n,e),...r})));tT.displayName="OffcanvasTitle";function qP(n){return C.jsx(Z0,{...n})}function KP(n){return C.jsx(UE,{...n})}const nT=E.forwardRef(({bsPrefix:n,className:e,children:t,"aria-labelledby":r,placement:s="start",responsive:a,show:u=!1,backdrop:d=!0,keyboard:f=!0,scroll:m=!1,onEscapeKeyDown:y,onShow:w,onHide:I,container:A,autoFocus:x=!0,enforceFocus:V=!0,restoreFocus:k=!0,restoreFocusOptions:j,onEntered:q,onExit:B,onExiting:K,onEnter:J,onEntering:Y,onExited:b,backdropClassName:R,manager:P,renderStaticNode:D=!1,...L},F)=>{const N=E.useRef();n=Re(n,"offcanvas");const[ke,Le]=E.useState(!1),be=io(I),ve=zP(a||"xs","up");E.useEffect(()=>{Le(a?u&&!ve:u)},[u,a,ve]);const ee=E.useMemo(()=>({onHide:be}),[be]);function le(){return P||(m?(N.current||(N.current=new W0({handleContainerOverflow:!1})),N.current):jP())}const se=(de,...Ee)=>{de&&(de.style.visibility="visible"),J==null||J(de,...Ee)},$=(de,...Ee)=>{de&&(de.style.visibility=""),b==null||b(...Ee)},X=E.useCallback(de=>C.jsx("div",{...de,className:_e(`${n}-backdrop`,R)}),[R,n]),ue=de=>C.jsx("div",{...de,...L,className:_e(e,a?`${n}-${a}`:n,`${n}-${s}`),"aria-labelledby":r,children:t});return C.jsxs(C.Fragment,{children:[!ke&&(a||D)&&ue({}),C.jsx(q0.Provider,{value:ee,children:C.jsx(LP,{show:ke,ref:F,backdrop:d,container:A,keyboard:f,autoFocus:x,enforceFocus:V&&!m,restoreFocus:k,restoreFocusOptions:j,onEscapeKeyDown:y,onShow:w,onHide:be,onEnter:se,onEntering:Y,onEntered:q,onExit:B,onExiting:K,onExited:$,manager:le(),transition:qP,backdropTransition:KP,renderBackdrop:X,renderDialog:ue})})]})});nT.displayName="Offcanvas";const GP=Object.assign(nT,{Body:J0,Header:eT,Title:tT}),rT=E.forwardRef(({onHide:n,...e},t)=>{const r=E.useContext(po),s=io(()=>{r==null||r.onToggle==null||r.onToggle(),n==null||n()});return C.jsx(GP,{ref:t,show:!!(r!=null&&r.expanded),...e,renderStaticNode:!0,onHide:s})});rT.displayName="NavbarOffcanvas";const iT=E.forwardRef(({className:n,bsPrefix:e,as:t="span",...r},s)=>(e=Re(e,"navbar-text"),C.jsx(t,{ref:s,className:_e(n,e),...r})));iT.displayName="NavbarText";const sT=E.forwardRef((n,e)=>{const{bsPrefix:t,expand:r=!0,variant:s="light",bg:a,fixed:u,sticky:d,className:f,as:m="nav",expanded:y,onToggle:w,onSelect:I,collapseOnSelect:A=!1,...x}=$h(n,{expanded:"onToggle"}),V=Re(t,"navbar"),k=E.useCallback((...B)=>{I==null||I(...B),A&&y&&(w==null||w(!1))},[I,A,y,w]);x.role===void 0&&m!=="nav"&&(x.role="navigation");let j=`${V}-expand`;typeof r=="string"&&(j=`${j}-${r}`);const q=E.useMemo(()=>({onToggle:()=>w==null?void 0:w(!y),bsPrefix:V,expanded:!!y,expand:r}),[V,y,r,w]);return C.jsx(po.Provider,{value:q,children:C.jsx(oo.Provider,{value:k,children:C.jsx(m,{ref:e,...x,className:_e(f,V,r&&j,s&&`${V}-${s}`,a&&`bg-${a}`,d&&`sticky-${d}`,u&&`fixed-${u}`)})})})});sT.displayName="Navbar";const D_=Object.assign(sT,{Brand:Q0,Collapse:X0,Offcanvas:rT,Text:iT,Toggle:Y0}),oT=E.forwardRef(({id:n,title:e,children:t,bsPrefix:r,className:s,rootCloseEvent:a,menuRole:u,disabled:d,active:f,renderMenuOnMount:m,menuVariant:y,...w},I)=>{const A=Re(void 0,"nav-item");return C.jsxs(Zs,{ref:I,...w,className:_e(s,A),children:[C.jsx(Zs.Toggle,{id:n,eventKey:null,active:f,disabled:d,childBsPrefix:r,as:Mm,children:e}),C.jsx(Zs.Menu,{role:u,renderOnMount:m,rootCloseEvent:a,variant:y,children:t})]})});oT.displayName="NavDropdown";const qc=Object.assign(oT,{Item:Zs.Item,ItemText:Zs.ItemText,Divider:Zs.Divider,Header:Zs.Header}),Jl=E.forwardRef(({bsPrefix:n,className:e,as:t="div",...r},s)=>{const a=Re(n,"row"),u=bE(),d=OE(),f=`${a}-cols`,m=[];return u.forEach(y=>{const w=r[y];delete r[y];let I;w!=null&&typeof w=="object"?{cols:I}=w:I=w;const A=y!==d?`-${y}`:"";I!=null&&m.push(`${f}${A}-${I}`)}),C.jsx(t,{ref:s,...r,className:_e(e,a,...m)})});Jl.displayName="Row";const QP=E.forwardRef(({bsPrefix:n,className:e,striped:t,bordered:r,borderless:s,hover:a,size:u,variant:d,responsive:f,...m},y)=>{const w=Re(n,"table"),I=_e(e,w,d&&`${w}-${d}`,u&&`${w}-${u}`,t&&`${w}-${typeof t=="string"?`striped-${t}`:"striped"}`,r&&`${w}-bordered`,s&&`${w}-borderless`,a&&`${w}-hover`),A=C.jsx("table",{...m,className:I,ref:y});if(f){let x=`${w}-responsive`;return typeof f=="string"&&(x=`${x}-${f}`),C.jsx("div",{className:x,children:A})}return A});function XP({user:n,setUser:e}){const t=cm();E.useEffect(()=>{const s=JSON.parse(localStorage.getItem("user"));s&&e(s)},[e]);const r=()=>{localStorage.removeItem("user"),e(null),t("/Login")};return C.jsx(D_,{bg:"dark","data-bs-theme":"dark",children:C.jsxs(fu,{children:[C.jsx(D_.Brand,{as:Xi,to:"/",children:"CarBooking"}),C.jsxs(Xs,{className:"me-auto",children:[C.jsx(Xs.Link,{as:Xi,to:"/home",children:"Home"}),!n&&C.jsx(Xs.Link,{as:Xi,to:"/Reg",children:"Register"})," ",n&&C.jsxs(C.Fragment,{children:[C.jsx(Xs.Link,{as:Xi,to:"/history",children:"ประวัติการเช่ารถ"}),C.jsx(Xs.Link,{as:Xi,to:"/rent",children:"เช่ารถ"})]})]}),C.jsx(Xs,{className:"ms-auto",children:n?C.jsxs(qc,{title:n.first_name,id:"user-dropdown",children:[C.jsx(qc.Item,{as:Xi,to:"/profile",children:"Profile"}),C.jsx(qc.Divider,{}),C.jsx(qc.Item,{onClick:r,children:"Logout"})]}):C.jsx(Xs.Link,{as:Xi,to:"/Login",children:"Login"})})]})})}const YP=()=>C.jsx("footer",{className:"bg-dark text-light py-4 ",children:C.jsxs(fu,{children:[C.jsxs(Jl,{children:[C.jsxs(is,{md:4,children:[C.jsx("h5",{children:"เกี่ยวกับเรา"}),C.jsx("p",{children:"เว็บไซต์นี้ให้ข้อมูลเกี่ยวกับ..."})]}),C.jsxs(is,{md:4,children:[C.jsx("h5",{children:"ลิงก์ที่เป็นประโยชน์"}),C.jsxs("ul",{className:"list-unstyled",children:[C.jsx("li",{children:C.jsx("a",{href:"#",className:"text-light",children:"หน้าหลัก"})}),C.jsx("li",{children:C.jsx("a",{href:"#",className:"text-light",children:"บริการของเรา"})}),C.jsx("li",{children:C.jsx("a",{href:"#",className:"text-light",children:"ติดต่อเรา"})})]})]}),C.jsxs(is,{md:4,children:[C.jsx("h5",{children:"ติดต่อเรา"}),C.jsx("p",{children:"Email: example@email.com"}),C.jsx("p",{children:"โทร: 012-345-6789"})]})]}),C.jsx(Jl,{className:"mt-3",children:C.jsx(is,{className:"text-center",children:C.jsxs("p",{className:"mb-0",children:["© ",new Date().getFullYear()," MyWebsite. All Rights Reserved."]})})})]})});function JP(){return C.jsxs(XE,{children:[C.jsxs(Vt,{children:[C.jsx(Vt.Img,{variant:"top",src:"holder.js/100px160"}),C.jsxs(Vt.Body,{children:[C.jsx(Vt.Title,{children:"Card title"}),C.jsx(Vt.Text,{children:"This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer."})]}),C.jsx(Vt.Footer,{children:C.jsx("small",{className:"text-muted",children:"Last updated 3 mins ago"})})]}),C.jsxs(Vt,{children:[C.jsx(Vt.Img,{variant:"top",src:"holder.js/100px160"}),C.jsxs(Vt.Body,{children:[C.jsx(Vt.Title,{children:"Card title"}),C.jsx(Vt.Text,{children:"This card has supporting text below as a natural lead-in to additional content."})]}),C.jsx(Vt.Footer,{children:C.jsx("small",{className:"text-muted",children:"Last updated 3 mins ago"})})]}),C.jsxs(Vt,{children:[C.jsx(Vt.Img,{variant:"top",src:"holder.js/100px160"}),C.jsxs(Vt.Body,{children:[C.jsx(Vt.Title,{children:"Card title"}),C.jsx(Vt.Text,{children:"This is a wider card with supporting text below as a natural lead-in to additional content. This card has even longer content than the first to show that equal height action."})]}),C.jsx(Vt.Footer,{children:C.jsx("small",{className:"text-muted",children:"Last updated 3 mins ago"})})]})]})}function hp({text:n}){return C.jsx("div",{className:"carousel-image-container",children:C.jsx(P0,{src:"https://images.unsplash.com/photo-1593642532973-d31b6557fa68?crop=entropy&cs=tinysrgb&fit=max&ixid=MnwzNjY0OXwwfDF8c2VhY2h8NXx8Y2Fyb3VzZWx8ZW58MHx8fHwxNjc2NDA1NjY0&ixlib=rb-1.2.1&q=80&w=1080",alt:n,fluid:!0,className:"full-screen-image"})})}function ZP(){return C.jsxs(Qs,{fade:!0,children:[C.jsxs(Qs.Item,{children:[C.jsx(hp,{text:"First slide"}),C.jsxs(Qs.Caption,{children:[C.jsx("h3",{children:"First slide label"}),C.jsx("p",{children:"Nulla vitae elit libero, a pharetra augue mollis interdum."})]})]}),C.jsxs(Qs.Item,{children:[C.jsx(hp,{text:"Second slide"}),C.jsxs(Qs.Caption,{children:[C.jsx("h3",{children:"Second slide label"}),C.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit."})]})]}),C.jsxs(Qs.Item,{children:[C.jsx(hp,{text:"Third slide"}),C.jsxs(Qs.Caption,{children:[C.jsx("h3",{children:"Third slide label"}),C.jsx("p",{children:"Praesent commodo cursus magna, vel scelerisque nisl consectetur."})]})]})]})}const e1=()=>{};var L_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},t1=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],u=n[t++],d=n[t++],f=((s&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},lT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],u=s+1<n.length,d=u?n[s+1]:0,f=s+2<n.length,m=f?n[s+2]:0,y=a>>2,w=(a&3)<<4|d>>4;let I=(d&15)<<2|m>>6,A=m&63;f||(A=64,u||(I=64)),r.push(t[y],t[w],t[I],t[A])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(aT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):t1(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const m=s<n.length?t[n.charAt(s)]:64;++s;const w=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||d==null||m==null||w==null)throw new n1;const I=a<<2|d>>4;if(r.push(I),m!==64){const A=d<<4&240|m>>2;if(r.push(A),w!==64){const x=m<<6&192|w;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class n1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const r1=function(n){const e=aT(n);return lT.encodeByteArray(e,!0)},wh=function(n){return r1(n).replace(/\./g,"")},uT=function(n){try{return lT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=()=>i1().__FIREBASE_DEFAULTS__,o1=()=>{if(typeof process>"u"||typeof L_>"u")return;const n=L_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},a1=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&uT(n[1]);return e&&JSON.parse(e)},Jh=()=>{try{return e1()||s1()||o1()||a1()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},cT=n=>{var e,t;return(t=(e=Jh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},hT=n=>{const e=cT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},dT=()=>{var n;return(n=Jh())===null||n===void 0?void 0:n.config},fT=n=>{var e;return(e=Jh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[wh(JSON.stringify(t)),wh(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function u1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function c1(){var n;const e=(n=Jh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function h1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function d1(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function f1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function p1(){const n=rn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function m1(){return!c1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function g1(){try{return typeof indexedDB=="object"}catch{return!1}}function v1(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="FirebaseError";class qr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=y1,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vu.prototype.create)}}class vu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?_1(a,r):"Error",d=`${this.serviceName}: ${u} (${s}).`;return new qr(s,d,r)}}function _1(n,e){return n.replace(w1,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const w1=/\{\$([^}]+)}/g;function E1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ao(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],u=e[s];if(V_(a)&&V_(u)){if(!ao(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function V_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function T1(n,e){const t=new I1(n,e);return t.subscribe.bind(t)}class I1{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");S1(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=dp),s.error===void 0&&(s.error=dp),s.complete===void 0&&(s.complete=dp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function S1(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function dp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(n){return n&&n._delegate?n._delegate:n}class ds{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new l1;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(A1(e))try{this.getOrInitializeService({instanceIdentifier:Js})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Js){return this.instances.has(e)}getOptions(e=Js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:C1(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Js){return this.component?this.component.multipleInstances?e:Js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function C1(n){return n===Js?void 0:n}function A1(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new R1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})($e||($e={}));const k1={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},P1=$e.INFO,N1={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},b1=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=N1[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fm{constructor(e){this.name=e,this._logLevel=P1,this._logHandler=b1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?k1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const O1=(n,e)=>e.some(t=>n instanceof t);let M_,F_;function D1(){return M_||(M_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function L1(){return F_||(F_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mT=new WeakMap,Lp=new WeakMap,gT=new WeakMap,fp=new WeakMap,jm=new WeakMap;function V1(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(os(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&mT.set(t,n)}).catch(()=>{}),jm.set(e,n),e}function M1(n){if(Lp.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});Lp.set(n,e)}let Vp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Lp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||gT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return os(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function F1(n){Vp=n(Vp)}function j1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(pp(this),e,...t);return gT.set(r,e.sort?e.sort():[e]),os(r)}:L1().includes(n)?function(...e){return n.apply(pp(this),e),os(mT.get(this))}:function(...e){return os(n.apply(pp(this),e))}}function U1(n){return typeof n=="function"?j1(n):(n instanceof IDBTransaction&&M1(n),O1(n,D1())?new Proxy(n,Vp):n)}function os(n){if(n instanceof IDBRequest)return V1(n);if(fp.has(n))return fp.get(n);const e=U1(n);return e!==n&&(fp.set(n,e),jm.set(e,n)),e}const pp=n=>jm.get(n);function $1(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(n,e),d=os(u);return r&&u.addEventListener("upgradeneeded",f=>{r(os(u.result),f.oldVersion,f.newVersion,os(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const B1=["get","getKey","getAll","getAllKeys","count"],z1=["put","add","delete","clear"],mp=new Map;function j_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(mp.get(e))return mp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=z1.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||B1.includes(t)))return;const a=async function(u,...d){const f=this.transaction(u,s?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),s&&f.done]))[0]};return mp.set(e,a),a}F1(n=>({...n,get:(e,t,r)=>j_(e,t)||n.get(e,t,r),has:(e,t)=>!!j_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(W1(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function W1(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mp="@firebase/app",U_="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi=new Fm("@firebase/app"),q1="@firebase/app-compat",K1="@firebase/analytics-compat",G1="@firebase/analytics",Q1="@firebase/app-check-compat",X1="@firebase/app-check",Y1="@firebase/auth",J1="@firebase/auth-compat",Z1="@firebase/database",eN="@firebase/data-connect",tN="@firebase/database-compat",nN="@firebase/functions",rN="@firebase/functions-compat",iN="@firebase/installations",sN="@firebase/installations-compat",oN="@firebase/messaging",aN="@firebase/messaging-compat",lN="@firebase/performance",uN="@firebase/performance-compat",cN="@firebase/remote-config",hN="@firebase/remote-config-compat",dN="@firebase/storage",fN="@firebase/storage-compat",pN="@firebase/firestore",mN="@firebase/vertexai",gN="@firebase/firestore-compat",vN="firebase",yN="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="[DEFAULT]",_N={[Mp]:"fire-core",[q1]:"fire-core-compat",[G1]:"fire-analytics",[K1]:"fire-analytics-compat",[X1]:"fire-app-check",[Q1]:"fire-app-check-compat",[Y1]:"fire-auth",[J1]:"fire-auth-compat",[Z1]:"fire-rtdb",[eN]:"fire-data-connect",[tN]:"fire-rtdb-compat",[nN]:"fire-fn",[rN]:"fire-fn-compat",[iN]:"fire-iid",[sN]:"fire-iid-compat",[oN]:"fire-fcm",[aN]:"fire-fcm-compat",[lN]:"fire-perf",[uN]:"fire-perf-compat",[cN]:"fire-rc",[hN]:"fire-rc-compat",[dN]:"fire-gcs",[fN]:"fire-gcs-compat",[pN]:"fire-fst",[gN]:"fire-fst-compat",[mN]:"fire-vertex","fire-js":"fire-js",[vN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=new Map,wN=new Map,jp=new Map;function $_(n,e){try{n.container.addComponent(e)}catch(t){vi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function lo(n){const e=n.name;if(jp.has(e))return vi.debug(`There were multiple attempts to register component ${e}.`),!1;jp.set(e,n);for(const t of Eh.values())$_(t,n);for(const t of wN.values())$_(t,n);return!0}function Zh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function vr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},as=new vu("app","Firebase",EN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw as.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=yN;function vT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Fp,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw as.create("bad-app-name",{appName:String(s)});if(t||(t=dT()),!t)throw as.create("no-options");const a=Eh.get(s);if(a){if(ao(t,a.options)&&ao(r,a.config))return a;throw as.create("duplicate-app",{appName:s})}const u=new x1(s);for(const f of jp.values())u.addComponent(f);const d=new TN(t,r,u);return Eh.set(s,d),d}function Um(n=Fp){const e=Eh.get(n);if(!e&&n===Fp&&dT())return vT();if(!e)throw as.create("no-app",{appName:n});return e}function Mr(n,e,t){var r;let s=(r=_N[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const d=[`Unable to register library "${s}" with version "${e}":`];a&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vi.warn(d.join(" "));return}lo(new ds(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN="firebase-heartbeat-database",SN=1,Zl="firebase-heartbeat-store";let gp=null;function yT(){return gp||(gp=$1(IN,SN,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Zl)}catch(t){console.warn(t)}}}}).catch(n=>{throw as.create("idb-open",{originalErrorMessage:n.message})})),gp}async function RN(n){try{const t=(await yT()).transaction(Zl),r=await t.objectStore(Zl).get(_T(n));return await t.done,r}catch(e){if(e instanceof qr)vi.warn(e.message);else{const t=as.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vi.warn(t.message)}}}async function B_(n,e){try{const r=(await yT()).transaction(Zl,"readwrite");await r.objectStore(Zl).put(e,_T(n)),await r.done}catch(t){if(t instanceof qr)vi.warn(t.message);else{const r=as.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});vi.warn(r.message)}}}function _T(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=1024,AN=30;class xN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new PN(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=z_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>AN){const u=NN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){vi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=z_(),{heartbeatsToSend:r,unsentEntries:s}=kN(this._heartbeatsCache.heartbeats),a=wh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return vi.warn(t),""}}}function z_(){return new Date().toISOString().substring(0,10)}function kN(n,e=CN){const t=[];let r=n.slice();for(const s of n){const a=t.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),H_(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),H_(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class PN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return g1()?v1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await RN(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return B_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return B_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function H_(n){return wh(JSON.stringify({version:2,heartbeats:n})).length}function NN(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(n){lo(new ds("platform-logger",e=>new H1(e),"PRIVATE")),lo(new ds("heartbeat",e=>new xN(e),"PRIVATE")),Mr(Mp,U_,n),Mr(Mp,U_,"esm2017"),Mr("fire-js","")}bN("");var W_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ls,wT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,R){function P(){}P.prototype=R.prototype,b.D=R.prototype,b.prototype=new P,b.prototype.constructor=b,b.C=function(D,L,F){for(var N=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)N[ke-2]=arguments[ke];return R.prototype[L].apply(D,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,R,P){P||(P=0);var D=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)D[L]=R.charCodeAt(P++)|R.charCodeAt(P++)<<8|R.charCodeAt(P++)<<16|R.charCodeAt(P++)<<24;else for(L=0;16>L;++L)D[L]=R[P++]|R[P++]<<8|R[P++]<<16|R[P++]<<24;R=b.g[0],P=b.g[1],L=b.g[2];var F=b.g[3],N=R+(F^P&(L^F))+D[0]+3614090360&4294967295;R=P+(N<<7&4294967295|N>>>25),N=F+(L^R&(P^L))+D[1]+3905402710&4294967295,F=R+(N<<12&4294967295|N>>>20),N=L+(P^F&(R^P))+D[2]+606105819&4294967295,L=F+(N<<17&4294967295|N>>>15),N=P+(R^L&(F^R))+D[3]+3250441966&4294967295,P=L+(N<<22&4294967295|N>>>10),N=R+(F^P&(L^F))+D[4]+4118548399&4294967295,R=P+(N<<7&4294967295|N>>>25),N=F+(L^R&(P^L))+D[5]+1200080426&4294967295,F=R+(N<<12&4294967295|N>>>20),N=L+(P^F&(R^P))+D[6]+2821735955&4294967295,L=F+(N<<17&4294967295|N>>>15),N=P+(R^L&(F^R))+D[7]+4249261313&4294967295,P=L+(N<<22&4294967295|N>>>10),N=R+(F^P&(L^F))+D[8]+1770035416&4294967295,R=P+(N<<7&4294967295|N>>>25),N=F+(L^R&(P^L))+D[9]+2336552879&4294967295,F=R+(N<<12&4294967295|N>>>20),N=L+(P^F&(R^P))+D[10]+4294925233&4294967295,L=F+(N<<17&4294967295|N>>>15),N=P+(R^L&(F^R))+D[11]+2304563134&4294967295,P=L+(N<<22&4294967295|N>>>10),N=R+(F^P&(L^F))+D[12]+1804603682&4294967295,R=P+(N<<7&4294967295|N>>>25),N=F+(L^R&(P^L))+D[13]+4254626195&4294967295,F=R+(N<<12&4294967295|N>>>20),N=L+(P^F&(R^P))+D[14]+2792965006&4294967295,L=F+(N<<17&4294967295|N>>>15),N=P+(R^L&(F^R))+D[15]+1236535329&4294967295,P=L+(N<<22&4294967295|N>>>10),N=R+(L^F&(P^L))+D[1]+4129170786&4294967295,R=P+(N<<5&4294967295|N>>>27),N=F+(P^L&(R^P))+D[6]+3225465664&4294967295,F=R+(N<<9&4294967295|N>>>23),N=L+(R^P&(F^R))+D[11]+643717713&4294967295,L=F+(N<<14&4294967295|N>>>18),N=P+(F^R&(L^F))+D[0]+3921069994&4294967295,P=L+(N<<20&4294967295|N>>>12),N=R+(L^F&(P^L))+D[5]+3593408605&4294967295,R=P+(N<<5&4294967295|N>>>27),N=F+(P^L&(R^P))+D[10]+38016083&4294967295,F=R+(N<<9&4294967295|N>>>23),N=L+(R^P&(F^R))+D[15]+3634488961&4294967295,L=F+(N<<14&4294967295|N>>>18),N=P+(F^R&(L^F))+D[4]+3889429448&4294967295,P=L+(N<<20&4294967295|N>>>12),N=R+(L^F&(P^L))+D[9]+568446438&4294967295,R=P+(N<<5&4294967295|N>>>27),N=F+(P^L&(R^P))+D[14]+3275163606&4294967295,F=R+(N<<9&4294967295|N>>>23),N=L+(R^P&(F^R))+D[3]+4107603335&4294967295,L=F+(N<<14&4294967295|N>>>18),N=P+(F^R&(L^F))+D[8]+1163531501&4294967295,P=L+(N<<20&4294967295|N>>>12),N=R+(L^F&(P^L))+D[13]+2850285829&4294967295,R=P+(N<<5&4294967295|N>>>27),N=F+(P^L&(R^P))+D[2]+4243563512&4294967295,F=R+(N<<9&4294967295|N>>>23),N=L+(R^P&(F^R))+D[7]+1735328473&4294967295,L=F+(N<<14&4294967295|N>>>18),N=P+(F^R&(L^F))+D[12]+2368359562&4294967295,P=L+(N<<20&4294967295|N>>>12),N=R+(P^L^F)+D[5]+4294588738&4294967295,R=P+(N<<4&4294967295|N>>>28),N=F+(R^P^L)+D[8]+2272392833&4294967295,F=R+(N<<11&4294967295|N>>>21),N=L+(F^R^P)+D[11]+1839030562&4294967295,L=F+(N<<16&4294967295|N>>>16),N=P+(L^F^R)+D[14]+4259657740&4294967295,P=L+(N<<23&4294967295|N>>>9),N=R+(P^L^F)+D[1]+2763975236&4294967295,R=P+(N<<4&4294967295|N>>>28),N=F+(R^P^L)+D[4]+1272893353&4294967295,F=R+(N<<11&4294967295|N>>>21),N=L+(F^R^P)+D[7]+4139469664&4294967295,L=F+(N<<16&4294967295|N>>>16),N=P+(L^F^R)+D[10]+3200236656&4294967295,P=L+(N<<23&4294967295|N>>>9),N=R+(P^L^F)+D[13]+681279174&4294967295,R=P+(N<<4&4294967295|N>>>28),N=F+(R^P^L)+D[0]+3936430074&4294967295,F=R+(N<<11&4294967295|N>>>21),N=L+(F^R^P)+D[3]+3572445317&4294967295,L=F+(N<<16&4294967295|N>>>16),N=P+(L^F^R)+D[6]+76029189&4294967295,P=L+(N<<23&4294967295|N>>>9),N=R+(P^L^F)+D[9]+3654602809&4294967295,R=P+(N<<4&4294967295|N>>>28),N=F+(R^P^L)+D[12]+3873151461&4294967295,F=R+(N<<11&4294967295|N>>>21),N=L+(F^R^P)+D[15]+530742520&4294967295,L=F+(N<<16&4294967295|N>>>16),N=P+(L^F^R)+D[2]+3299628645&4294967295,P=L+(N<<23&4294967295|N>>>9),N=R+(L^(P|~F))+D[0]+4096336452&4294967295,R=P+(N<<6&4294967295|N>>>26),N=F+(P^(R|~L))+D[7]+1126891415&4294967295,F=R+(N<<10&4294967295|N>>>22),N=L+(R^(F|~P))+D[14]+2878612391&4294967295,L=F+(N<<15&4294967295|N>>>17),N=P+(F^(L|~R))+D[5]+4237533241&4294967295,P=L+(N<<21&4294967295|N>>>11),N=R+(L^(P|~F))+D[12]+1700485571&4294967295,R=P+(N<<6&4294967295|N>>>26),N=F+(P^(R|~L))+D[3]+2399980690&4294967295,F=R+(N<<10&4294967295|N>>>22),N=L+(R^(F|~P))+D[10]+4293915773&4294967295,L=F+(N<<15&4294967295|N>>>17),N=P+(F^(L|~R))+D[1]+2240044497&4294967295,P=L+(N<<21&4294967295|N>>>11),N=R+(L^(P|~F))+D[8]+1873313359&4294967295,R=P+(N<<6&4294967295|N>>>26),N=F+(P^(R|~L))+D[15]+4264355552&4294967295,F=R+(N<<10&4294967295|N>>>22),N=L+(R^(F|~P))+D[6]+2734768916&4294967295,L=F+(N<<15&4294967295|N>>>17),N=P+(F^(L|~R))+D[13]+1309151649&4294967295,P=L+(N<<21&4294967295|N>>>11),N=R+(L^(P|~F))+D[4]+4149444226&4294967295,R=P+(N<<6&4294967295|N>>>26),N=F+(P^(R|~L))+D[11]+3174756917&4294967295,F=R+(N<<10&4294967295|N>>>22),N=L+(R^(F|~P))+D[2]+718787259&4294967295,L=F+(N<<15&4294967295|N>>>17),N=P+(F^(L|~R))+D[9]+3951481745&4294967295,b.g[0]=b.g[0]+R&4294967295,b.g[1]=b.g[1]+(L+(N<<21&4294967295|N>>>11))&4294967295,b.g[2]=b.g[2]+L&4294967295,b.g[3]=b.g[3]+F&4294967295}r.prototype.u=function(b,R){R===void 0&&(R=b.length);for(var P=R-this.blockSize,D=this.B,L=this.h,F=0;F<R;){if(L==0)for(;F<=P;)s(this,b,F),F+=this.blockSize;if(typeof b=="string"){for(;F<R;)if(D[L++]=b.charCodeAt(F++),L==this.blockSize){s(this,D),L=0;break}}else for(;F<R;)if(D[L++]=b[F++],L==this.blockSize){s(this,D),L=0;break}}this.h=L,this.o+=R},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var R=1;R<b.length-8;++R)b[R]=0;var P=8*this.o;for(R=b.length-8;R<b.length;++R)b[R]=P&255,P/=256;for(this.u(b),b=Array(16),R=P=0;4>R;++R)for(var D=0;32>D;D+=8)b[P++]=this.g[R]>>>D&255;return b};function a(b,R){var P=d;return Object.prototype.hasOwnProperty.call(P,b)?P[b]:P[b]=R(b)}function u(b,R){this.h=R;for(var P=[],D=!0,L=b.length-1;0<=L;L--){var F=b[L]|0;D&&F==R||(P[L]=F,D=!1)}this.g=P}var d={};function f(b){return-128<=b&&128>b?a(b,function(R){return new u([R|0],0>R?-1:0)}):new u([b|0],0>b?-1:0)}function m(b){if(isNaN(b)||!isFinite(b))return w;if(0>b)return k(m(-b));for(var R=[],P=1,D=0;b>=P;D++)R[D]=b/P|0,P*=4294967296;return new u(R,0)}function y(b,R){if(b.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(b.charAt(0)=="-")return k(y(b.substring(1),R));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=m(Math.pow(R,8)),D=w,L=0;L<b.length;L+=8){var F=Math.min(8,b.length-L),N=parseInt(b.substring(L,L+F),R);8>F?(F=m(Math.pow(R,F)),D=D.j(F).add(m(N))):(D=D.j(P),D=D.add(m(N)))}return D}var w=f(0),I=f(1),A=f(16777216);n=u.prototype,n.m=function(){if(V(this))return-k(this).m();for(var b=0,R=1,P=0;P<this.g.length;P++){var D=this.i(P);b+=(0<=D?D:4294967296+D)*R,R*=4294967296}return b},n.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(x(this))return"0";if(V(this))return"-"+k(this).toString(b);for(var R=m(Math.pow(b,6)),P=this,D="";;){var L=K(P,R).g;P=j(P,L.j(R));var F=((0<P.g.length?P.g[0]:P.h)>>>0).toString(b);if(P=L,x(P))return F+D;for(;6>F.length;)F="0"+F;D=F+D}},n.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function x(b){if(b.h!=0)return!1;for(var R=0;R<b.g.length;R++)if(b.g[R]!=0)return!1;return!0}function V(b){return b.h==-1}n.l=function(b){return b=j(this,b),V(b)?-1:x(b)?0:1};function k(b){for(var R=b.g.length,P=[],D=0;D<R;D++)P[D]=~b.g[D];return new u(P,~b.h).add(I)}n.abs=function(){return V(this)?k(this):this},n.add=function(b){for(var R=Math.max(this.g.length,b.g.length),P=[],D=0,L=0;L<=R;L++){var F=D+(this.i(L)&65535)+(b.i(L)&65535),N=(F>>>16)+(this.i(L)>>>16)+(b.i(L)>>>16);D=N>>>16,F&=65535,N&=65535,P[L]=N<<16|F}return new u(P,P[P.length-1]&-2147483648?-1:0)};function j(b,R){return b.add(k(R))}n.j=function(b){if(x(this)||x(b))return w;if(V(this))return V(b)?k(this).j(k(b)):k(k(this).j(b));if(V(b))return k(this.j(k(b)));if(0>this.l(A)&&0>b.l(A))return m(this.m()*b.m());for(var R=this.g.length+b.g.length,P=[],D=0;D<2*R;D++)P[D]=0;for(D=0;D<this.g.length;D++)for(var L=0;L<b.g.length;L++){var F=this.i(D)>>>16,N=this.i(D)&65535,ke=b.i(L)>>>16,Le=b.i(L)&65535;P[2*D+2*L]+=N*Le,q(P,2*D+2*L),P[2*D+2*L+1]+=F*Le,q(P,2*D+2*L+1),P[2*D+2*L+1]+=N*ke,q(P,2*D+2*L+1),P[2*D+2*L+2]+=F*ke,q(P,2*D+2*L+2)}for(D=0;D<R;D++)P[D]=P[2*D+1]<<16|P[2*D];for(D=R;D<2*R;D++)P[D]=0;return new u(P,0)};function q(b,R){for(;(b[R]&65535)!=b[R];)b[R+1]+=b[R]>>>16,b[R]&=65535,R++}function B(b,R){this.g=b,this.h=R}function K(b,R){if(x(R))throw Error("division by zero");if(x(b))return new B(w,w);if(V(b))return R=K(k(b),R),new B(k(R.g),k(R.h));if(V(R))return R=K(b,k(R)),new B(k(R.g),R.h);if(30<b.g.length){if(V(b)||V(R))throw Error("slowDivide_ only works with positive integers.");for(var P=I,D=R;0>=D.l(b);)P=J(P),D=J(D);var L=Y(P,1),F=Y(D,1);for(D=Y(D,2),P=Y(P,2);!x(D);){var N=F.add(D);0>=N.l(b)&&(L=L.add(P),F=N),D=Y(D,1),P=Y(P,1)}return R=j(b,L.j(R)),new B(L,R)}for(L=w;0<=b.l(R);){for(P=Math.max(1,Math.floor(b.m()/R.m())),D=Math.ceil(Math.log(P)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),F=m(P),N=F.j(R);V(N)||0<N.l(b);)P-=D,F=m(P),N=F.j(R);x(F)&&(F=I),L=L.add(F),b=j(b,N)}return new B(L,b)}n.A=function(b){return K(this,b).h},n.and=function(b){for(var R=Math.max(this.g.length,b.g.length),P=[],D=0;D<R;D++)P[D]=this.i(D)&b.i(D);return new u(P,this.h&b.h)},n.or=function(b){for(var R=Math.max(this.g.length,b.g.length),P=[],D=0;D<R;D++)P[D]=this.i(D)|b.i(D);return new u(P,this.h|b.h)},n.xor=function(b){for(var R=Math.max(this.g.length,b.g.length),P=[],D=0;D<R;D++)P[D]=this.i(D)^b.i(D);return new u(P,this.h^b.h)};function J(b){for(var R=b.g.length+1,P=[],D=0;D<R;D++)P[D]=b.i(D)<<1|b.i(D-1)>>>31;return new u(P,b.h)}function Y(b,R){var P=R>>5;R%=32;for(var D=b.g.length-P,L=[],F=0;F<D;F++)L[F]=0<R?b.i(F+P)>>>R|b.i(F+P+1)<<32-R:b.i(F+P);return new u(L,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,wT=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=y,ls=u}).apply(typeof W_<"u"?W_:typeof self<"u"?self:typeof window<"u"?window:{});var Kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ET,Dl,TT,sh,Up,IT,ST,RT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kc=="object"&&Kc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function s(c,g){if(g)e:{var _=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var z=c[S];if(!(z in _))break e;_=_[z]}c=c[c.length-1],S=_[c],g=g(S),g!=S&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var _=0,S=!1,z={next:function(){if(!S&&_<c.length){var Q=_++;return{value:g(Q,c[Q]),done:!1}}return S=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}s("Array.prototype.values",function(c){return c||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function y(c,g,_){return c.call.apply(c.bind,arguments)}function w(c,g,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,S),c.apply(g,z)}}return function(){return c.apply(g,arguments)}}function I(c,g,_){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:w,I.apply(null,arguments)}function A(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function x(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,z,Q){for(var ae=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)ae[Ye-2]=arguments[Ye];return g.prototype[z].apply(S,ae)}}function V(c){const g=c.length;if(0<g){const _=Array(g);for(let S=0;S<g;S++)_[S]=c[S];return _}return[]}function k(c,g){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(f(S)){const z=c.length||0,Q=S.length||0;c.length=z+Q;for(let ae=0;ae<Q;ae++)c[z+ae]=S[ae]}else c.push(S)}}class j{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function q(c){return/^[\s\xa0]*$/.test(c)}function B(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function K(c){return K[" "](c),c}K[" "]=function(){};var J=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function Y(c,g,_){for(const S in c)g.call(_,c[S],S,c)}function b(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function R(c){const g={};for(const _ in c)g[_]=c[_];return g}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,g){let _,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(_ in S)c[_]=S[_];for(let Q=0;Q<P.length;Q++)_=P[Q],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function L(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function F(c){d.setTimeout(()=>{throw c},0)}function N(){var c=le;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class ke{constructor(){this.h=this.g=null}add(g,_){const S=Le.get();S.set(g,_),this.h?this.h.next=S:this.g=S,this.h=S}}var Le=new j(()=>new be,c=>c.reset());class be{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,ee=!1,le=new ke,se=()=>{const c=d.Promise.resolve(void 0);ve=()=>{c.then($)}};var $=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(_){F(_)}var g=Le;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}ee=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,g),d.removeEventListener("test",_,g)}catch{}return c}();function Ee(c,g){if(ue.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(J){e:{try{K(g.nodeName);var z=!0;break e}catch{}z=!1}z||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ee.aa.h.call(this)}}x(Ee,ue);var we={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ve="closure_listenable_"+(1e6*Math.random()|0),Ae=0;function Ue(c,g,_,S,z){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!S,this.ha=z,this.key=++Ae,this.da=this.fa=!1}function Je(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function et(c){this.src=c,this.g={},this.h=0}et.prototype.add=function(c,g,_,S,z){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var ae=Rt(c,g,S,z);return-1<ae?(g=c[ae],_||(g.fa=!1)):(g=new Ue(g,this.src,Q,!!S,z),g.fa=_,c.push(g)),g};function pt(c,g){var _=g.type;if(_ in c.g){var S=c.g[_],z=Array.prototype.indexOf.call(S,g,void 0),Q;(Q=0<=z)&&Array.prototype.splice.call(S,z,1),Q&&(Je(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Rt(c,g,_,S){for(var z=0;z<c.length;++z){var Q=c[z];if(!Q.da&&Q.listener==g&&Q.capture==!!_&&Q.ha==S)return z}return-1}var jt="closure_lm_"+(1e6*Math.random()|0),Fe={};function An(c,g,_,S,z){if(Array.isArray(g)){for(var Q=0;Q<g.length;Q++)An(c,g[Q],_,S,z);return null}return _=Zn(_),c&&c[Ve]?c.K(g,_,m(S)?!!S.capture:!1,z):dn(c,g,_,!1,S,z)}function dn(c,g,_,S,z,Q){if(!g)throw Error("Invalid event type");var ae=m(z)?!!z.capture:!!z,Ye=jn(c);if(Ye||(c[jt]=Ye=new et(c)),_=Ye.add(g,_,S,ae,Q),_.proxy)return _;if(S=Si(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)de||(z=ae),z===void 0&&(z=!1),c.addEventListener(g.toString(),S,z);else if(c.attachEvent)c.attachEvent(Kt(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Si(){function c(_){return g.call(c.src,c.listener,_)}const g=wr;return c}function _r(c,g,_,S,z){if(Array.isArray(g))for(var Q=0;Q<g.length;Q++)_r(c,g[Q],_,S,z);else S=m(S)?!!S.capture:!!S,_=Zn(_),c&&c[Ve]?(c=c.i,g=String(g).toString(),g in c.g&&(Q=c.g[g],_=Rt(Q,_,S,z),-1<_&&(Je(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[g],c.h--)))):c&&(c=jn(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Rt(g,_,S,z)),(_=-1<c?g[c]:null)&&Ct(_))}function Ct(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Ve])pt(g.i,c);else{var _=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(_,S,c.capture):g.detachEvent?g.detachEvent(Kt(_),S):g.addListener&&g.removeListener&&g.removeListener(S),(_=jn(g))?(pt(_,c),_.h==0&&(_.src=null,g[jt]=null)):Je(c)}}}function Kt(c){return c in Fe?Fe[c]:Fe[c]="on"+c}function wr(c,g){if(c.da)c=!0;else{g=new Ee(g,this);var _=c.listener,S=c.ha||c.src;c.fa&&Ct(c),c=_.call(S,g)}return c}function jn(c){return c=c[jt],c instanceof et?c:null}var sn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zn(c){return typeof c=="function"?c:(c[sn]||(c[sn]=function(g){return c.handleEvent(g)}),c[sn])}function ot(){X.call(this),this.i=new et(this),this.M=this,this.F=null}x(ot,X),ot.prototype[Ve]=!0,ot.prototype.removeEventListener=function(c,g,_,S){_r(this,c,g,_,S)};function at(c,g){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new ue(g,c);else if(g instanceof ue)g.target=g.target||c;else{var z=g;g=new ue(S,c),D(g,z)}if(z=!0,_)for(var Q=_.length-1;0<=Q;Q--){var ae=g.g=_[Q];z=fn(ae,S,!0,g)&&z}if(ae=g.g=c,z=fn(ae,S,!0,g)&&z,z=fn(ae,S,!1,g)&&z,_)for(Q=0;Q<_.length;Q++)ae=g.g=_[Q],z=fn(ae,S,!1,g)&&z}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],S=0;S<_.length;S++)Je(_[S]);delete c.g[g],c.h--}}this.F=null},ot.prototype.K=function(c,g,_,S){return this.i.add(String(c),g,!1,_,S)},ot.prototype.L=function(c,g,_,S){return this.i.add(String(c),g,!0,_,S)};function fn(c,g,_,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var z=!0,Q=0;Q<g.length;++Q){var ae=g[Q];if(ae&&!ae.da&&ae.capture==_){var Ye=ae.listener,At=ae.ha||ae.src;ae.fa&&pt(c.i,ae),z=Ye.call(At,S)!==!1&&z}}return z&&!S.defaultPrevented}function Ri(c,g,_){if(typeof c=="function")_&&(c=I(c,_));else if(c&&typeof c.handleEvent=="function")c=I(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:d.setTimeout(c,g||0)}function Un(c){c.g=Ri(()=>{c.g=null,c.i&&(c.i=!1,Un(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Er extends X{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Un(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ce(c){X.call(this),this.h=c,this.g={}}x(Ce,X);var Ge=[];function on(c){Y(c.g,function(g,_){this.g.hasOwnProperty(_)&&Ct(g)},c),c.g={}}Ce.prototype.N=function(){Ce.aa.N.call(this),on(this)},Ce.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var er=d.JSON.stringify,Is=d.JSON.parse,Ba=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Ss(){}Ss.prototype.h=null;function yo(c){return c.h||(c.h=c.i())}function _o(){}var $n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Tr(){ue.call(this,"d")}x(Tr,ue);function wo(){ue.call(this,"c")}x(wo,ue);var Ir={},za=null;function Rs(){return za=za||new ot}Ir.La="serverreachability";function Ha(c){ue.call(this,Ir.La,c)}x(Ha,ue);function Kr(c){const g=Rs();at(g,new Ha(g))}Ir.STAT_EVENT="statevent";function Wa(c,g){ue.call(this,Ir.STAT_EVENT,c),this.stat=g}x(Wa,ue);function gt(c){const g=Rs();at(g,new Wa(g,c))}Ir.Ma="timingevent";function Eo(c,g){ue.call(this,Ir.Ma,c),this.size=g}x(Eo,ue);function tr(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},g)}function Cs(){this.g=!0}Cs.prototype.xa=function(){this.g=!1};function As(c,g,_,S,z,Q){c.info(function(){if(c.g)if(Q)for(var ae="",Ye=Q.split("&"),At=0;At<Ye.length;At++){var We=Ye[At].split("=");if(1<We.length){var bt=We[0];We=We[1];var _t=bt.split("_");ae=2<=_t.length&&_t[1]=="type"?ae+(bt+"="+We+"&"):ae+(bt+"=redacted&")}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+g+`
`+_+`
`+ae})}function To(c,g,_,S,z,Q,ae){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+g+`
`+_+`
`+Q+" "+ae})}function nr(c,g,_,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+_d(c,_)+(S?" "+S:"")})}function qa(c,g){c.info(function(){return"TIMEOUT: "+g})}Cs.prototype.info=function(){};function _d(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var z=S[1];if(Array.isArray(z)&&!(1>z.length)){var Q=z[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ae=1;ae<z.length;ae++)z[ae]=""}}}}return er(_)}catch{return g}}var Io={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rr;function xs(){}x(xs,Ss),xs.prototype.g=function(){return new XMLHttpRequest},xs.prototype.i=function(){return{}},rr=new xs;function ir(c,g,_,S){this.j=c,this.i=g,this.l=_,this.R=S||1,this.U=new Ce(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ku}function ku(){this.i=null,this.g="",this.h=!1}var Ka={},So={};function Ro(c,g,_){c.L=1,c.v=Pi(kn(g)),c.m=_,c.P=!0,Ga(c,null)}function Ga(c,g){c.F=Date.now(),tt(c),c.A=kn(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),bi(_.i,"t",S),c.C=0,_=c.j.J,c.h=new ku,c.g=Ku(c.j,_?g:null,!c.m),0<c.O&&(c.M=new Er(I(c.Y,c,c.g),c.O)),g=c.U,_=c.g,S=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(Ge[0]=z.toString()),z=Ge);for(var Q=0;Q<z.length;Q++){var ae=An(_,z[Q],S||g.handleEvent,!1,g.h||g);if(!ae)break;g.g[ae.key]=ae}g=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Kr(),As(c.i,c.u,c.A,c.l,c.R,c.m)}ir.prototype.ca=function(c){c=c.target;const g=this.M;g&&mn(c)==3?g.j():this.Y(c)},ir.prototype.Y=function(c){try{if(c==this.g)e:{const _t=mn(this.g);var g=this.g.Ba();const Hn=this.g.Z();if(!(3>_t)&&(_t!=3||this.g&&(this.h.h||this.g.oa()||el(this.g)))){this.J||_t!=4||g==7||(g==8||0>=Hn?Kr(3):Kr(2)),ks(this);var _=this.g.Z();this.X=_;t:if(Pu(this)){var S=el(this.g);c="";var z=S.length,Q=mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bn(this),Ci(this);var ae="";break t}this.h.i=new d.TextDecoder}for(g=0;g<z;g++)this.h.h=!0,c+=this.h.i.decode(S[g],{stream:!(Q&&g==z-1)});S.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=_==200,To(this.i,this.u,this.A,this.l,this.R,_t,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,At=this.g;if((Ye=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(Ye)){var We=Ye;break t}}We=null}if(_=We)nr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qa(this,_);else{this.o=!1,this.s=3,gt(12),Bn(this),Ci(this);break e}}if(this.P){_=!0;let Nn;for(;!this.J&&this.C<ae.length;)if(Nn=wd(this,ae),Nn==So){_t==4&&(this.s=4,gt(14),_=!1),nr(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==Ka){this.s=4,gt(15),nr(this.i,this.l,ae,"[Invalid Chunk]"),_=!1;break}else nr(this.i,this.l,Nn,null),Qa(this,Nn);if(Pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_t!=4||ae.length!=0||this.h.h||(this.s=1,gt(16),_=!1),this.o=this.o&&_,!_)nr(this.i,this.l,ae,"[Invalid Chunked Response]"),Bn(this),Ci(this);else if(0<ae.length&&!this.W){this.W=!0;var bt=this.j;bt.g==this&&bt.ba&&!bt.M&&(bt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),nl(bt),bt.M=!0,gt(11))}}else nr(this.i,this.l,ae,null),Qa(this,ae);_t==4&&Bn(this),this.o&&!this.J&&(_t==4?Vo(this.j,this):(this.o=!1,tt(this)))}else No(this.g),_==400&&0<ae.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),Bn(this),Ci(this)}}}catch{}finally{}};function Pu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function wd(c,g){var _=c.C,S=g.indexOf(`
`,_);return S==-1?So:(_=Number(g.substring(_,S)),isNaN(_)?Ka:(S+=1,S+_>g.length?So:(g=g.slice(S,S+_),c.C=S+_,g)))}ir.prototype.cancel=function(){this.J=!0,Bn(this)};function tt(c){c.S=Date.now()+c.I,Nu(c,c.I)}function Nu(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=tr(I(c.ba,c),g)}function ks(c){c.B&&(d.clearTimeout(c.B),c.B=null)}ir.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(qa(this.i,this.A),this.L!=2&&(Kr(),gt(17)),Bn(this),this.s=2,Ci(this)):Nu(this,this.S-c)};function Ci(c){c.j.G==0||c.J||Vo(c.j,c)}function Bn(c){ks(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,on(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Qa(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||an(_.h,c))){if(!c.K&&an(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Lo(_),ur(_);else break e;Do(_),gt(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=tr(I(_.Za,_),6e3));if(1>=Ou(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Jr(_,11)}else if((c.K||_.g==c)&&Lo(_),!q(g))for(z=_.Da.g.parse(g),g=0;g<z.length;g++){let We=z[g];if(_.T=We[0],We=We[1],_.G==2)if(We[0]=="c"){_.K=We[1],_.ia=We[2];const bt=We[3];bt!=null&&(_.la=bt,_.j.info("VER="+_.la));const _t=We[4];_t!=null&&(_.Aa=_t,_.j.info("SVER="+_.Aa));const Hn=We[5];Hn!=null&&typeof Hn=="number"&&0<Hn&&(S=1.5*Hn,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Nn=c.g;if(Nn){const Vs=Nn.g?Nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vs){var Q=S.h;Q.g||Vs.indexOf("spdy")==-1&&Vs.indexOf("quic")==-1&&Vs.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Xa(Q,Q.h),Q.h=null))}if(S.D){const Fo=Nn.g?Nn.g.getResponseHeader("X-HTTP-Session-Id"):null;Fo&&(S.ya=Fo,Ze(S.I,S.D,Fo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var ae=c;if(S.qa=qu(S,S.J?S.ia:null,S.W),ae.K){Du(S.h,ae);var Ye=ae,At=S.L;At&&(Ye.I=At),Ye.B&&(ks(Ye),tt(Ye)),S.g=ae}else Ls(S);0<_.i.length&&Ar(_)}else We[0]!="stop"&&We[0]!="close"||Jr(_,7);else _.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Jr(_,7):$t(_):We[0]!="noop"&&_.l&&_.l.ta(We),_.v=0)}}Kr(4)}catch{}}var bu=class{constructor(c,g){this.g=c,this.map=g}};function Ps(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ou(c){return c.h?1:c.g?c.g.size:0}function an(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Xa(c,g){c.g?c.g.add(g):c.h=g}function Du(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Ps.prototype.cancel=function(){if(this.i=Lu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Lu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return V(c.i)}function Co(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],_=c.length,S=0;S<_;S++)g.push(c[S]);return g}g=[],_=0;for(S in c)g[_++]=c[S];return g}function Ao(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const S in c)g[_++]=S;return g}}}function Ai(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=Ao(c),S=Co(c),z=S.length,Q=0;Q<z;Q++)g.call(void 0,S[Q],_&&_[Q],c)}var Ns=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ed(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),z=null;if(0<=S){var Q=c[_].substring(0,S);z=c[_].substring(S+1)}else Q=c[_];g(Q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Gr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Gr){this.h=c.h,bs(this,c.j),this.o=c.o,this.g=c.g,xi(this,c.s),this.l=c.l;var g=c.i,_=new Sr;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),ki(this,_),this.m=c.m}else c&&(g=String(c).match(Ns))?(this.h=!1,bs(this,g[1]||"",!0),this.o=ze(g[2]||""),this.g=ze(g[3]||"",!0),xi(this,g[4]),this.l=ze(g[5]||"",!0),ki(this,g[6]||"",!0),this.m=ze(g[7]||"")):(this.h=!1,this.i=new Sr(null,this.h))}Gr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Ni(g,xo,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Ni(g,xo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ni(_,_.charAt(0)=="/"?Fu:Mu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ni(_,Ya)),c.join("")};function kn(c){return new Gr(c)}function bs(c,g,_){c.j=_?ze(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function xi(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function ki(c,g,_){g instanceof Sr?(c.i=g,Rr(c.i,c.h)):(_||(g=Ni(g,ju)),c.i=new Sr(g,c.h))}function Ze(c,g,_){c.i.set(g,_)}function Pi(c){return Ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ze(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ni(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Vu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Vu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var xo=/[#\/\?@]/g,Mu=/[#\?:]/g,Fu=/[#\?]/g,ju=/[#\?@]/g,Ya=/#/g;function Sr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Ut(c){c.g||(c.g=new Map,c.h=0,c.i&&Ed(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}n=Sr.prototype,n.add=function(c,g){Ut(this),this.i=null,c=zn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function sr(c,g){Ut(c),g=zn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function or(c,g){return Ut(c),g=zn(c,g),c.g.has(g)}n.forEach=function(c,g){Ut(this),this.g.forEach(function(_,S){_.forEach(function(z){c.call(g,z,S,this)},this)},this)},n.na=function(){Ut(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let S=0;S<g.length;S++){const z=c[S];for(let Q=0;Q<z.length;Q++)_.push(g[S])}return _},n.V=function(c){Ut(this);let g=[];if(typeof c=="string")or(this,c)&&(g=g.concat(this.g.get(zn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},n.set=function(c,g){return Ut(this),this.i=null,c=zn(this,c),or(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function bi(c,g,_){sr(c,g),0<_.length&&(c.i=null,c.g.set(zn(c,g),V(_)),c.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var S=g[_];const Q=encodeURIComponent(String(S)),ae=this.V(S);for(S=0;S<ae.length;S++){var z=Q;ae[S]!==""&&(z+="="+encodeURIComponent(String(ae[S]))),c.push(z)}}return this.i=c.join("&")};function zn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Rr(c,g){g&&!c.j&&(Ut(c),c.i=null,c.g.forEach(function(_,S){var z=S.toLowerCase();S!=z&&(sr(this,S),bi(this,z,_))},c)),c.j=g}function Td(c,g){const _=new Cs;if(d.Image){const S=new Image;S.onload=A(pn,_,"TestLoadImage: loaded",!0,g,S),S.onerror=A(pn,_,"TestLoadImage: error",!1,g,S),S.onabort=A(pn,_,"TestLoadImage: abort",!1,g,S),S.ontimeout=A(pn,_,"TestLoadImage: timeout",!1,g,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function Uu(c,g){const _=new Cs,S=new AbortController,z=setTimeout(()=>{S.abort(),pn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(Q=>{clearTimeout(z),Q.ok?pn(_,"TestPingServer: ok",!0,g):pn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),pn(_,"TestPingServer: error",!1,g)})}function pn(c,g,_,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(_)}catch{}}function Id(){this.g=new Ba}function $u(c,g,_){const S=_||"";try{Ai(c,function(z,Q){let ae=z;m(z)&&(ae=er(z)),g.push(S+Q+"="+encodeURIComponent(ae))})}catch(z){throw g.push(S+"type="+encodeURIComponent("_badmap")),z}}function Qr(c){this.l=c.Ub||null,this.j=c.eb||!1}x(Qr,Ss),Qr.prototype.g=function(){return new Os(this.l,this.j)},Qr.prototype.i=function(c){return function(){return c}}({});function Os(c,g){ot.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Os,ot),n=Os.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,lr(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||d).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ar(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,lr(this)),this.g&&(this.readyState=3,lr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?ar(this):lr(this),this.readyState==3&&Bu(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,ar(this))},n.Qa=function(c){this.g&&(this.response=c,ar(this))},n.ga=function(){this.g&&ar(this)};function ar(c){c.readyState=4,c.l=null,c.j=null,c.v=null,lr(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function lr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Xr(c){let g="";return Y(c,function(_,S){g+=S,g+=":",g+=_,g+=`\r
`}),g}function Oi(c,g,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Xr(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Ze(c,g,_))}function lt(c){ot.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(lt,ot);var Sd=/^https?$/i,Ja=["POST","PUT"];n=lt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rr.g(),this.v=this.o?yo(this.o):yo(rr),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Q){Ds(this,Q);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)_.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())_.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ja,g,void 0))||S||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of _)this.g.setRequestHeader(Q,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Po(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){Ds(this,Q)}};function Ds(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,ko(c),Pn(c)}function ko(c){c.A||(c.A=!0,at(c,"complete"),at(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,at(this,"complete"),at(this,"abort"),Pn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pn(this,!0)),lt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Za(this):this.bb())},n.bb=function(){Za(this)};function Za(c){if(c.h&&typeof u<"u"&&(!c.v[1]||mn(c)!=4||c.Z()!=2)){if(c.u&&mn(c)==4)Ri(c.Ea,0,c);else if(at(c,"readystatechange"),mn(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var S;if(S=ae===0){var z=String(c.D).match(Ns)[1]||null;!z&&d.self&&d.self.location&&(z=d.self.location.protocol.slice(0,-1)),S=!Sd.test(z?z.toLowerCase():"")}_=S}if(_)at(c,"complete"),at(c,"success");else{c.m=6;try{var Q=2<mn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",ko(c)}}finally{Pn(c)}}}}function Pn(c,g){if(c.g){Po(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||at(c,"ready");try{_.onreadystatechange=S}catch{}}}function Po(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function mn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<mn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Is(g)}};function el(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function No(c){const g={};c=(c.g&&2<=mn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(q(c[S]))continue;var _=L(c[S]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=g[z]||[];g[z]=Q,Q.push(_)}b(g,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cr(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function tl(c){this.Aa=0,this.i=[],this.j=new Cs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cr("baseRetryDelayMs",5e3,c),this.cb=Cr("retryDelaySeedMs",1e4,c),this.Wa=Cr("forwardChannelMaxRetries",2,c),this.wa=Cr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ps(c&&c.concurrentRequestLimit),this.Da=new Id,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=tl.prototype,n.la=8,n.G=1,n.connect=function(c,g,_,S){gt(0),this.W=c,this.H=g||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=qu(this,null,this.W),Ar(this)};function $t(c){if(bo(c),c.G==3){var g=c.U++,_=kn(c.I);if(Ze(_,"SID",c.K),Ze(_,"RID",g),Ze(_,"TYPE","terminate"),Yr(c,_),g=new ir(c,c.j,g),g.L=2,g.v=Pi(kn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=g.v,_=!0),_||(g.g=Ku(g.j,null),g.g.ea(g.v)),g.F=Date.now(),tt(g)}Wu(c)}function ur(c){c.g&&(nl(c),c.g.cancel(),c.g=null)}function bo(c){ur(c),c.u&&(d.clearTimeout(c.u),c.u=null),Lo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Ar(c){if(!xn(c.h)&&!c.s){c.s=!0;var g=c.Ga;ve||se(),ee||(ve(),ee=!0),le.add(g,c),c.B=0}}function Rd(c,g){return Ou(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=tr(I(c.Ga,c,g),Hu(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new ir(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=R(Q),D(Q,this.S)):Q=this.S),this.m!==null||this.O||(z.H=Q,Q=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Di(this,z,g),_=kn(this.I),Ze(_,"RID",c),Ze(_,"CVER",22),this.D&&Ze(_,"X-HTTP-Session-Id",this.D),Yr(this,_),Q&&(this.O?g="headers="+encodeURIComponent(String(Xr(Q)))+"&"+g:this.m&&Oi(_,this.m,Q)),Xa(this.h,z),this.Ua&&Ze(_,"TYPE","init"),this.P?(Ze(_,"$req",g),Ze(_,"SID","null"),z.T=!0,Ro(z,_,null)):Ro(z,_,g),this.G=2}}else this.G==3&&(c?Oo(this,c):this.i.length==0||xn(this.h)||Oo(this))};function Oo(c,g){var _;g?_=g.l:_=c.U++;const S=kn(c.I);Ze(S,"SID",c.K),Ze(S,"RID",_),Ze(S,"AID",c.T),Yr(c,S),c.m&&c.o&&Oi(S,c.m,c.o),_=new ir(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Di(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Xa(c.h,_),Ro(_,S,g)}function Yr(c,g){c.H&&Y(c.H,function(_,S){Ze(g,S,_)}),c.l&&Ai({},function(_,S){Ze(g,S,_)})}function Di(c,g,_){_=Math.min(c.i.length,_);var S=c.l?I(c.l.Na,c.l,c):null;e:{var z=c.i;let Q=-1;for(;;){const ae=["count="+_];Q==-1?0<_?(Q=z[0].g,ae.push("ofs="+Q)):Q=0:ae.push("ofs="+Q);let Ye=!0;for(let At=0;At<_;At++){let We=z[At].g;const bt=z[At].map;if(We-=Q,0>We)Q=Math.max(0,z[At].g-100),Ye=!1;else try{$u(bt,ae,"req"+We+"_")}catch{S&&S(bt)}}if(Ye){S=ae.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,S}function Ls(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;ve||se(),ee||(ve(),ee=!0),le.add(g,c),c.v=0}}function Do(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=tr(I(c.Fa,c),Hu(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,zu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=tr(I(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),ur(this),zu(this))};function nl(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function zu(c){c.g=new ir(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=kn(c.qa);Ze(g,"RID","rpc"),Ze(g,"SID",c.K),Ze(g,"AID",c.T),Ze(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ze(g,"TO",c.ja),Ze(g,"TYPE","xmlhttp"),Yr(c,g),c.m&&c.o&&Oi(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Pi(kn(g)),_.m=null,_.P=!0,Ga(_,c)}n.Za=function(){this.C!=null&&(this.C=null,ur(this),Do(this),gt(19))};function Lo(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Vo(c,g){var _=null;if(c.g==g){Lo(c),nl(c),c.g=null;var S=2}else if(an(c.h,g))_=g.D,Du(c.h,g),S=1;else return;if(c.G!=0){if(g.o)if(S==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var z=c.B;S=Rs(),at(S,new Eo(S,_)),Ar(c)}else Ls(c);else if(z=g.s,z==3||z==0&&0<g.X||!(S==1&&Rd(c,g)||S==2&&Do(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),z){case 1:Jr(c,5);break;case 4:Jr(c,10);break;case 3:Jr(c,6);break;default:Jr(c,2)}}}function Hu(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Jr(c,g){if(c.j.info("Error code "+g),g==2){var _=I(c.fb,c),S=c.Xa;const z=!S;S=new Gr(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||bs(S,"https"),Pi(S),z?Td(S.toString(),_):Uu(S.toString(),_)}else gt(2);c.G=0,c.l&&c.l.sa(g),Wu(c),bo(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function Wu(c){if(c.G=0,c.ka=[],c.l){const g=Lu(c.h);(g.length!=0||c.i.length!=0)&&(k(c.ka,g),k(c.ka,c.i),c.h.i.length=0,V(c.i),c.i.length=0),c.l.ra()}}function qu(c,g,_){var S=_ instanceof Gr?kn(_):new Gr(_);if(S.g!="")g&&(S.g=g+"."+S.g),xi(S,S.s);else{var z=d.location;S=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;var Q=new Gr(null);S&&bs(Q,S),g&&(Q.g=g),z&&xi(Q,z),_&&(Q.l=_),S=Q}return _=c.D,g=c.ya,_&&g&&Ze(S,_,g),Ze(S,"VER",c.la),Yr(c,S),S}function Ku(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new lt(new Qr({eb:_})):new lt(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function rl(){}n=rl.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Mo(){}Mo.prototype.g=function(c,g){return new ln(c,g)};function ln(c,g){ot.call(this),this.g=new tl(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!q(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!q(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new xr(this)}x(ln,ot),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){$t(this.g)},ln.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=er(c),c=_);g.i.push(new bu(g.Ya++,c)),g.G==3&&Ar(g)},ln.prototype.N=function(){this.g.l=null,delete this.j,$t(this.g),delete this.g,ln.aa.N.call(this)};function Gu(c){Tr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}x(Gu,Tr);function Qu(){wo.call(this),this.status=1}x(Qu,wo);function xr(c){this.g=c}x(xr,rl),xr.prototype.ua=function(){at(this.g,"a")},xr.prototype.ta=function(c){at(this.g,new Gu(c))},xr.prototype.sa=function(c){at(this.g,new Qu)},xr.prototype.ra=function(){at(this.g,"b")},Mo.prototype.createWebChannel=Mo.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,RT=function(){return new Mo},ST=function(){return Rs()},IT=Ir,Up={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Io.NO_ERROR=0,Io.TIMEOUT=8,Io.HTTP_ERROR=6,sh=Io,xu.COMPLETE="complete",TT=xu,_o.EventType=$n,$n.OPEN="a",$n.CLOSE="b",$n.ERROR="c",$n.MESSAGE="d",ot.prototype.listen=ot.prototype.K,Dl=_o,lt.prototype.listenOnce=lt.prototype.L,lt.prototype.getLastError=lt.prototype.Ka,lt.prototype.getLastErrorCode=lt.prototype.Ba,lt.prototype.getStatus=lt.prototype.Z,lt.prototype.getResponseJson=lt.prototype.Oa,lt.prototype.getResponseText=lt.prototype.oa,lt.prototype.send=lt.prototype.ea,lt.prototype.setWithCredentials=lt.prototype.Ha,ET=lt}).apply(typeof Kc<"u"?Kc:typeof self<"u"?self:typeof window<"u"?window:{});const q_="@firebase/firestore",K_="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Va="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=new Fm("@firebase/firestore");function aa(){return uo.logLevel}function he(n,...e){if(uo.logLevel<=$e.DEBUG){const t=e.map($m);uo.debug(`Firestore (${Va}): ${n}`,...t)}}function yi(n,...e){if(uo.logLevel<=$e.ERROR){const t=e.map($m);uo.error(`Firestore (${Va}): ${n}`,...t)}}function Ia(n,...e){if(uo.logLevel<=$e.WARN){const t=e.map($m);uo.warn(`Firestore (${Va}): ${n}`,...t)}}function $m(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(n="Unexpected state"){const e=`FIRESTORE (${Va}) INTERNAL ASSERTION FAILED: `+n;throw yi(e),new Error(e)}function Xe(n,e){n||xe()}function De(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends qr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ON{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Zt.UNAUTHENTICATED))}shutdown(){}}class DN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class LN{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xe(this.o===void 0);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new us;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new us,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},d=f=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new us)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string"),new CT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string"),new Zt(e)}}class VN{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class MN{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new VN(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class G_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FN{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,vr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Xe(this.o===void 0);const r=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,he("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new G_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Xe(typeof t.token=="string"),this.R=t.token,new G_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=jN(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function He(n,e){return n<e?-1:n>e?1:0}function Sa(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=-62135596800,X_=1e6;class Pt{static now(){return Pt.fromMillis(Date.now())}static fromDate(e){return Pt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*X_);return new Pt(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Q_)throw new me(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/X_}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Q_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Pt(0,0))}static max(){return new Oe(new Pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="__name__";class Or{constructor(e,t,r){t===void 0?t=0:t>e.length&&xe(),r===void 0?r=e.length-t:r>e.length-t&&xe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Or.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Or?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=Or.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Or.isNumericId(e),s=Or.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Or.extractNumericId(e).compare(Or.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ls.fromString(e.substring(4,e.length-2))}}class st extends Or{construct(e,t,r){return new st(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new st(t)}static emptyPath(){return new st([])}}const UN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Or{construct(e,t,r){return new Wt(e,t,r)}static isValidIdentifier(e){return UN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Y_}static keyField(){return new Wt([Y_])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new me(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new me(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new me(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else d==="`"?(u=!u,s++):d!=="."||u?(r+=d,s++):(a(),s++)}if(a(),u)throw new me(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(t)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(st.fromString(e))}static fromName(e){return new Te(st.fromString(e).popFirst(5))}static empty(){return new Te(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return st.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new st(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=-1;function $N(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Oe.fromTimestamp(r===1e9?new Pt(t+1,0):new Pt(t,r));return new fs(s,Te.empty(),e)}function BN(n){return new fs(n.readTime,n.key,eu)}class fs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new fs(Oe.min(),Te.empty(),eu)}static max(){return new fs(Oe.max(),Te.empty(),eu)}}function zN(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(n.documentKey,e.documentKey),t!==0?t:He(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ma(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==HN)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Z((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Z?t:Z.resolve(t)}catch(t){return Z.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Z.reject(t)}static resolve(e){return new Z((t,r)=>{t(e)})}static reject(e){return new Z((t,r)=>{r(e)})}static waitFor(e){return new Z((t,r)=>{let s=0,a=0,u=!1;e.forEach(d=>{++s,d.next(()=>{++a,u&&a===s&&t()},f=>r(f))}),u=!0,a===s&&t()})}static or(e){let t=Z.resolve(!1);for(const r of e)t=t.next(s=>s?Z.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new Z((r,s)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next(y=>{u[m]=y,++d,d===a&&r(u)},y=>s(y))}})}static doWhile(e,t){return new Z((r,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):r()};a()})}}function qN(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Fa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ed.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm=-1;function td(n){return n==null}function Th(n){return n===0&&1/n==-1/0}function KN(n){return typeof n=="number"&&Number.isInteger(n)&&!Th(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="";function GN(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=J_(e)),e=QN(n.get(t),e);return J_(e)}function QN(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case xT:t+="";break;default:t+=a}}return t}function J_(n){return n+xT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Es(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function kT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,t){this.comparator=e,this.root=t||Ht.EMPTY}insert(e,t){return new ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gc(this.root,e,this.comparator,!0)}}class Gc{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??Ht.RED,this.left=s??Ht.EMPTY,this.right=a??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new Ht(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Ht.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();const e=this.left.check();if(e!==this.right.check())throw xe();return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(e,t,r,s,a){return this}insert(e,t,r){return new Ht(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ew(this.data.getIterator())}getIteratorFrom(e){return new ew(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Nt(this.comparator);return t.data=e,t}}class ew{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new Ln([])}unionWith(e){let t=new Nt(Wt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ln(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Sa(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new PT("Invalid base64 string: "+a):a}}(e);return new qt(t)}static fromUint8Array(e){const t=function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a}(e);return new qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const XN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ps(n){if(Xe(!!n),typeof n=="string"){let e=0;const t=XN.exec(n);if(Xe(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(n.seconds),nanos:yt(n.nanos)}}function yt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ms(n){return typeof n=="string"?qt.fromBase64String(n):qt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="server_timestamp",bT="__type__",OT="__previous_value__",DT="__local_write_time__";function zm(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[bT])===null||t===void 0?void 0:t.stringValue)===NT}function nd(n){const e=n.mapValue.fields[OT];return zm(e)?nd(e):e}function tu(n){const e=ps(n.mapValue.fields[DT].timestampValue);return new Pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,t,r,s,a,u,d,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m}}const Ih="(default)";class nu{constructor(e,t){this.projectId=e,this.database=t||Ih}static empty(){return new nu("","")}get isDefaultDatabase(){return this.database===Ih}isEqual(e){return e instanceof nu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="__type__",JN="__max__",Qc={mapValue:{}},VT="__vector__",Sh="value";function gs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?zm(n)?4:eb(n)?9007199254740991:ZN(n)?10:11:xe()}function Hr(n,e){if(n===e)return!0;const t=gs(n);if(t!==gs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return tu(n).isEqual(tu(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=ps(s.timestampValue),d=ps(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,a){return ms(s.bytesValue).isEqual(ms(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return yt(s.geoPointValue.latitude)===yt(a.geoPointValue.latitude)&&yt(s.geoPointValue.longitude)===yt(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return yt(s.integerValue)===yt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=yt(s.doubleValue),d=yt(a.doubleValue);return u===d?Th(u)===Th(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return Sa(n.arrayValue.values||[],e.arrayValue.values||[],Hr);case 10:case 11:return function(s,a){const u=s.mapValue.fields||{},d=a.mapValue.fields||{};if(Z_(u)!==Z_(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!Hr(u[f],d[f])))return!1;return!0}(n,e);default:return xe()}}function ru(n,e){return(n.values||[]).find(t=>Hr(t,e))!==void 0}function Ra(n,e){if(n===e)return 0;const t=gs(n),r=gs(e);if(t!==r)return He(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return He(n.booleanValue,e.booleanValue);case 2:return function(a,u){const d=yt(a.integerValue||a.doubleValue),f=yt(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return tw(n.timestampValue,e.timestampValue);case 4:return tw(tu(n),tu(e));case 5:return He(n.stringValue,e.stringValue);case 6:return function(a,u){const d=ms(a),f=ms(u);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,u){const d=a.split("/"),f=u.split("/");for(let m=0;m<d.length&&m<f.length;m++){const y=He(d[m],f[m]);if(y!==0)return y}return He(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,u){const d=He(yt(a.latitude),yt(u.latitude));return d!==0?d:He(yt(a.longitude),yt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return nw(n.arrayValue,e.arrayValue);case 10:return function(a,u){var d,f,m,y;const w=a.fields||{},I=u.fields||{},A=(d=w[Sh])===null||d===void 0?void 0:d.arrayValue,x=(f=I[Sh])===null||f===void 0?void 0:f.arrayValue,V=He(((m=A==null?void 0:A.values)===null||m===void 0?void 0:m.length)||0,((y=x==null?void 0:x.values)===null||y===void 0?void 0:y.length)||0);return V!==0?V:nw(A,x)}(n.mapValue,e.mapValue);case 11:return function(a,u){if(a===Qc.mapValue&&u===Qc.mapValue)return 0;if(a===Qc.mapValue)return 1;if(u===Qc.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),m=u.fields||{},y=Object.keys(m);f.sort(),y.sort();for(let w=0;w<f.length&&w<y.length;++w){const I=He(f[w],y[w]);if(I!==0)return I;const A=Ra(d[f[w]],m[y[w]]);if(A!==0)return A}return He(f.length,y.length)}(n.mapValue,e.mapValue);default:throw xe()}}function tw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return He(n,e);const t=ps(n),r=ps(e),s=He(t.seconds,r.seconds);return s!==0?s:He(t.nanos,r.nanos)}function nw(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=Ra(t[s],r[s]);if(a)return a}return He(t.length,r.length)}function Ca(n){return $p(n)}function $p(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=ps(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ms(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Te.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=$p(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${$p(t.fields[u])}`;return s+"}"}(n.mapValue):xe()}function oh(n){switch(gs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nd(n);return e?16+oh(e):16;case 5:return 2*n.stringValue.length;case 6:return ms(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+oh(a),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return Es(r.fields,(a,u)=>{s+=a.length+oh(u)}),s}(n.mapValue);default:throw xe()}}function rw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Bp(n){return!!n&&"integerValue"in n}function Hm(n){return!!n&&"arrayValue"in n}function iw(n){return!!n&&"nullValue"in n}function sw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ah(n){return!!n&&"mapValue"in n}function ZN(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[LT])===null||t===void 0?void 0:t.stringValue)===VT}function Ul(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Es(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ul(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ul(n.arrayValue.values[t]);return e}return Object.assign({},n)}function eb(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===JN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.value=e}static empty(){return new Sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ah(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ul(t)}setAll(e){let t=Wt.emptyPath(),r={},s=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=d.popLast()}u?r[d.lastSegment()]=Ul(u):s.push(d.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());ah(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];ah(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Es(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new Sn(Ul(this.value))}}function MT(n){const e=[];return Es(n.fields,(t,r)=>{const s=new Wt([t]);if(ah(r)){const a=MT(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,t,r,s,a,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new en(e,0,Oe.min(),Oe.min(),Oe.min(),Sn.empty(),0)}static newFoundDocument(e,t,r,s){return new en(e,1,t,Oe.min(),r,s,0)}static newNoDocument(e,t){return new en(e,2,t,Oe.min(),Oe.min(),Sn.empty(),0)}static newUnknownDocument(e,t){return new en(e,3,t,Oe.min(),Oe.min(),Sn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,t){this.position=e,this.inclusive=t}}function ow(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],u=n.position[s];if(a.field.isKeyField()?r=Te.comparator(Te.fromName(u.referenceValue),t.key):r=Ra(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function aw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Hr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,t="asc"){this.field=e,this.dir=t}}function tb(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{}class Tt extends FT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new rb(e,t,r):t==="array-contains"?new ob(e,r):t==="in"?new ab(e,r):t==="not-in"?new lb(e,r):t==="array-contains-any"?new ub(e,r):new Tt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new ib(e,r):new sb(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ra(t,this.value)):t!==null&&gs(this.value)===gs(t)&&this.matchesComparison(Ra(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yr extends FT{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new yr(e,t)}matches(e){return jT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function jT(n){return n.op==="and"}function UT(n){return nb(n)&&jT(n)}function nb(n){for(const e of n.filters)if(e instanceof yr)return!1;return!0}function zp(n){if(n instanceof Tt)return n.field.canonicalString()+n.op.toString()+Ca(n.value);if(UT(n))return n.filters.map(e=>zp(e)).join(",");{const e=n.filters.map(t=>zp(t)).join(",");return`${n.op}(${e})`}}function $T(n,e){return n instanceof Tt?function(r,s){return s instanceof Tt&&r.op===s.op&&r.field.isEqual(s.field)&&Hr(r.value,s.value)}(n,e):n instanceof yr?function(r,s){return s instanceof yr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,u,d)=>a&&$T(u,s.filters[d]),!0):!1}(n,e):void xe()}function BT(n){return n instanceof Tt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ca(t.value)}`}(n):n instanceof yr?function(t){return t.op.toString()+" {"+t.getFilters().map(BT).join(" ,")+"}"}(n):"Filter"}class rb extends Tt{constructor(e,t,r){super(e,t,r),this.key=Te.fromName(r.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class ib extends Tt{constructor(e,t){super(e,"in",t),this.keys=zT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class sb extends Tt{constructor(e,t){super(e,"not-in",t),this.keys=zT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function zT(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Te.fromName(r.referenceValue))}class ob extends Tt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Hm(t)&&ru(t.arrayValue,this.value)}}class ab extends Tt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ru(this.value.arrayValue,t)}}class lb extends Tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!ru(this.value.arrayValue,t)}}class ub extends Tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Hm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ru(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,t=null,r=[],s=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=d,this.le=null}}function lw(n,e=null,t=[],r=[],s=null,a=null,u=null){return new cb(n,e,t,r,s,a,u)}function Wm(n){const e=De(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>zp(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),td(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ca(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ca(r)).join(",")),e.le=t}return e.le}function qm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!tb(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!$T(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!aw(n.startAt,e.startAt)&&aw(n.endAt,e.endAt)}function Hp(n){return Te.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,t=null,r=[],s=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function hb(n,e,t,r,s,a,u,d){return new _u(n,e,t,r,s,a,u,d)}function HT(n){return new _u(n)}function uw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function WT(n){return n.collectionGroup!==null}function $l(n){const e=De(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Nt(Wt.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new Ch(a,r))}),t.has(Wt.keyField().canonicalString())||e.he.push(new Ch(Wt.keyField(),r))}return e.he}function Fr(n){const e=De(n);return e.Pe||(e.Pe=db(e,$l(n))),e.Pe}function db(n,e){if(n.limitType==="F")return lw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Ch(s.field,a)});const t=n.endAt?new Rh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Rh(n.startAt.position,n.startAt.inclusive):null;return lw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Wp(n,e){const t=n.filters.concat([e]);return new _u(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function qp(n,e,t){return new _u(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function rd(n,e){return qm(Fr(n),Fr(e))&&n.limitType===e.limitType}function qT(n){return`${Wm(Fr(n))}|lt:${n.limitType}`}function la(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>BT(s)).join(", ")}]`),td(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>Ca(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>Ca(s)).join(",")),`Target(${r})`}(Fr(n))}; limitType=${n.limitType})`}function id(n,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Te.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,s){for(const a of $l(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,d,f){const m=ow(u,d,f);return u.inclusive?m<=0:m<0}(r.startAt,$l(r),s)||r.endAt&&!function(u,d,f){const m=ow(u,d,f);return u.inclusive?m>=0:m>0}(r.endAt,$l(r),s))}(n,e)}function fb(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function KT(n){return(e,t)=>{let r=!1;for(const s of $l(n)){const a=pb(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function pb(n,e,t){const r=n.field.isKeyField()?Te.comparator(e.key,t.key):function(a,u,d){const f=u.data.field(a),m=d.data.field(a);return f!==null&&m!==null?Ra(f,m):xe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Es(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return kT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb=new ft(Te.comparator);function _i(){return mb}const GT=new ft(Te.comparator);function Ll(...n){let e=GT;for(const t of n)e=e.insert(t.key,t);return e}function QT(n){let e=GT;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function eo(){return Bl()}function XT(){return Bl()}function Bl(){return new go(n=>n.toString(),(n,e)=>n.isEqual(e))}const gb=new ft(Te.comparator),vb=new Nt(Te.comparator);function Be(...n){let e=vb;for(const t of n)e=e.add(t);return e}const yb=new Nt(He);function _b(){return yb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function YT(n){return{integerValue:""+n}}function wb(n,e){return KN(e)?YT(e):Km(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(){this._=void 0}}function Eb(n,e,t){return n instanceof Ah?function(s,a){const u={fields:{[bT]:{stringValue:NT},[DT]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&zm(a)&&(a=nd(a)),a&&(u.fields[OT]=a),{mapValue:u}}(t,e):n instanceof iu?ZT(n,e):n instanceof su?eI(n,e):function(s,a){const u=JT(s,a),d=cw(u)+cw(s.Ie);return Bp(u)&&Bp(s.Ie)?YT(d):Km(s.serializer,d)}(n,e)}function Tb(n,e,t){return n instanceof iu?ZT(n,e):n instanceof su?eI(n,e):t}function JT(n,e){return n instanceof xh?function(r){return Bp(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Ah extends sd{}class iu extends sd{constructor(e){super(),this.elements=e}}function ZT(n,e){const t=tI(e);for(const r of n.elements)t.some(s=>Hr(s,r))||t.push(r);return{arrayValue:{values:t}}}class su extends sd{constructor(e){super(),this.elements=e}}function eI(n,e){let t=tI(e);for(const r of n.elements)t=t.filter(s=>!Hr(s,r));return{arrayValue:{values:t}}}class xh extends sd{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function cw(n){return yt(n.integerValue||n.doubleValue)}function tI(n){return Hm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Ib(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof iu&&s instanceof iu||r instanceof su&&s instanceof su?Sa(r.elements,s.elements,Hr):r instanceof xh&&s instanceof xh?Hr(r.Ie,s.Ie):r instanceof Ah&&s instanceof Ah}(n.transform,e.transform)}class Sb{constructor(e,t){this.version=e,this.transformResults=t}}class jr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new jr}static exists(e){return new jr(void 0,e)}static updateTime(e){return new jr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class od{}function nI(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new iI(n.key,jr.none()):new wu(n.key,n.data,jr.none());{const t=n.data,r=Sn.empty();let s=new Nt(Wt.comparator);for(let a of e.fields)if(!s.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new Ts(n.key,r,new Ln(s.toArray()),jr.none())}}function Rb(n,e,t){n instanceof wu?function(s,a,u){const d=s.value.clone(),f=dw(s.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ts?function(s,a,u){if(!lh(s.precondition,a))return void a.convertToUnknownDocument(u.version);const d=dw(s.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(rI(s)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function zl(n,e,t,r){return n instanceof wu?function(a,u,d,f){if(!lh(a.precondition,u))return d;const m=a.value.clone(),y=fw(a.fieldTransforms,f,u);return m.setAll(y),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ts?function(a,u,d,f){if(!lh(a.precondition,u))return d;const m=fw(a.fieldTransforms,f,u),y=u.data;return y.setAll(rI(a)),y.setAll(m),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(n,e,t,r):function(a,u,d){return lh(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,e,t)}function Cb(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=JT(r.transform,s||null);a!=null&&(t===null&&(t=Sn.empty()),t.set(r.field,a))}return t||null}function hw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Sa(r,s,(a,u)=>Ib(a,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class wu extends od{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ts extends od{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function rI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function dw(n,e,t){const r=new Map;Xe(n.length===t.length);for(let s=0;s<t.length;s++){const a=n[s],u=a.transform,d=e.data.field(a.field);r.set(a.field,Tb(u,d,t[s]))}return r}function fw(n,e,t){const r=new Map;for(const s of n){const a=s.transform,u=t.data.field(s.field);r.set(s.field,Eb(a,u,e))}return r}class iI extends od{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ab extends od{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&Rb(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=zl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=zl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=XT();return this.mutations.forEach(s=>{const a=e.get(s.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(s.key)?null:d;const f=nI(u,d);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(Oe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Be())}isEqual(e){return this.batchId===e.batchId&&Sa(this.mutations,e.mutations,(t,r)=>hw(t,r))&&Sa(this.baseMutations,e.baseMutations,(t,r)=>hw(t,r))}}class Gm{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Xe(e.mutations.length===r.length);let s=function(){return gb}();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new Gm(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,qe;function Nb(n){switch(n){case te.OK:return xe();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return xe()}}function sI(n){if(n===void 0)return yi("GRPC error has no .code"),te.UNKNOWN;switch(n){case Et.OK:return te.OK;case Et.CANCELLED:return te.CANCELLED;case Et.UNKNOWN:return te.UNKNOWN;case Et.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Et.INTERNAL:return te.INTERNAL;case Et.UNAVAILABLE:return te.UNAVAILABLE;case Et.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Et.NOT_FOUND:return te.NOT_FOUND;case Et.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Et.ABORTED:return te.ABORTED;case Et.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Et.DATA_LOSS:return te.DATA_LOSS;default:return xe()}}(qe=Et||(Et={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=new ls([4294967295,4294967295],0);function pw(n){const e=bb().encode(n),t=new wT;return t.update(e),new Uint8Array(t.digest())}function mw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ls([t,r],0),new ls([s,a],0)]}class Qm{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Vl(`Invalid padding: ${t}`);if(r<0)throw new Vl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Vl(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=ls.fromNumber(this.Ee)}Ae(e,t,r){let s=e.add(t.multiply(ls.fromNumber(r)));return s.compare(Ob)===1&&(s=new ls([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=pw(e),[r,s]=mw(t);for(let a=0;a<this.hashCount;a++){const u=this.Ae(r,s,a);if(!this.Re(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Qm(a,s,t);return r.forEach(d=>u.insert(d)),u}insert(e){if(this.Ee===0)return;const t=pw(e),[r,s]=mw(t);for(let a=0;a<this.hashCount;a++){const u=this.Ae(r,s,a);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Eu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ad(Oe.min(),s,new ft(He),_i(),Be())}}class Eu{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Eu(r,t,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,t,r,s){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=s}}class oI{constructor(e,t){this.targetId=e,this.ge=t}}class aI{constructor(e,t,r=qt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class gw{constructor(){this.pe=0,this.ye=vw(),this.we=qt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Be(),t=Be(),r=Be();return this.ye.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:xe()}}),new Eu(this.we,this.be,e,t,r)}Me(){this.Se=!1,this.ye=vw()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Xe(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class Db{constructor(e){this.ke=e,this.qe=new Map,this.Qe=_i(),this.$e=Xc(),this.Ke=Xc(),this.Ue=new ft(He)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:xe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,s)=>{this.Je(s)&&t(s)})}Ze(e){const t=e.targetId,r=e.ge.count,s=this.Xe(t);if(s){const a=s.target;if(Hp(a))if(r===0){const u=new Te(a.path);this.ze(t,u,en.newNoDocument(u,Oe.min()))}else Xe(r===1);else{const u=this.et(t);if(u!==r){const d=this.tt(e),f=d?this.nt(d,e,u):1;if(f!==0){this.Ye(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,m)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let u,d;try{u=ms(r).toUint8Array()}catch(f){if(f instanceof PT)return Ia("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new Qm(u,s,a)}catch(f){return Ia(f instanceof Vl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.Ee===0?null:d}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let s=0;return r.forEach(a=>{const u=this.ke.it(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,a,null),s++)}),s}ot(e){const t=new Map;this.qe.forEach((a,u)=>{const d=this.Xe(u);if(d){if(a.current&&Hp(d.target)){const f=new Te(d.target.path);this._t(f).has(u)||this.ut(u,f)||this.ze(u,f,en.newNoDocument(f,e))}a.ve&&(t.set(u,a.Fe()),a.Me())}});let r=Be();this.Ke.forEach((a,u)=>{let d=!0;u.forEachWhile(f=>{const m=this.Xe(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(a))}),this.Qe.forEach((a,u)=>u.setReadTime(e));const s=new ad(e,t,this.Ue,this.Qe,r);return this.Qe=_i(),this.$e=Xc(),this.Ke=Xc(),this.Ue=new ft(He),s}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,t)?s.xe(t,1):s.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new gw,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Nt(He),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Nt(He),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new gw),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Xc(){return new ft(Te.comparator)}function vw(){return new ft(Te.comparator)}const Lb={asc:"ASCENDING",desc:"DESCENDING"},Vb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mb={and:"AND",or:"OR"};class Fb{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Kp(n,e){return n.useProto3Json||td(e)?e:{value:e}}function kh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function jb(n,e){return kh(n,e.toTimestamp())}function Ur(n){return Xe(!!n),Oe.fromTimestamp(function(t){const r=ps(t);return new Pt(r.seconds,r.nanos)}(n))}function Xm(n,e){return Gp(n,e).canonicalString()}function Gp(n,e){const t=function(s){return new st(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function uI(n){const e=st.fromString(n);return Xe(pI(e)),e}function Qp(n,e){return Xm(n.databaseId,e.path)}function vp(n,e){const t=uI(e);if(t.get(1)!==n.databaseId.projectId)throw new me(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new me(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Te(hI(t))}function cI(n,e){return Xm(n.databaseId,e)}function Ub(n){const e=uI(n);return e.length===4?st.emptyPath():hI(e)}function Xp(n){return new st(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function hI(n){return Xe(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function yw(n,e,t){return{name:Qp(n,e),fields:t.value.mapValue.fields}}function $b(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(m,y){return m.useProto3Json?(Xe(y===void 0||typeof y=="string"),qt.fromBase64String(y||"")):(Xe(y===void 0||y instanceof Buffer||y instanceof Uint8Array),qt.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(m){const y=m.code===void 0?te.UNKNOWN:sI(m.code);return new me(y,m.message||"")}(u);t=new aI(r,s,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=vp(n,r.document.name),a=Ur(r.document.updateTime),u=r.document.createTime?Ur(r.document.createTime):Oe.min(),d=new Sn({mapValue:{fields:r.document.fields}}),f=en.newFoundDocument(s,a,u,d),m=r.targetIds||[],y=r.removedTargetIds||[];t=new uh(m,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=vp(n,r.document),a=r.readTime?Ur(r.readTime):Oe.min(),u=en.newNoDocument(s,a),d=r.removedTargetIds||[];t=new uh([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=vp(n,r.document),a=r.removedTargetIds||[];t=new uh([],a,s,null)}else{if(!("filter"in e))return xe();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new Pb(s,a),d=r.targetId;t=new oI(d,u)}}return t}function Bb(n,e){let t;if(e instanceof wu)t={update:yw(n,e.key,e.value)};else if(e instanceof iI)t={delete:Qp(n,e.key)};else if(e instanceof Ts)t={update:yw(n,e.key,e.data),updateMask:Yb(e.fieldMask)};else{if(!(e instanceof Ab))return xe();t={verify:Qp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const d=u.transform;if(d instanceof Ah)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof iu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof su)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof xh)return{fieldPath:u.field.canonicalString(),increment:d.Ie};throw xe()}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:jb(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:xe()}(n,e.precondition)),t}function zb(n,e){return n&&n.length>0?(Xe(e!==void 0),n.map(t=>function(s,a){let u=s.updateTime?Ur(s.updateTime):Ur(a);return u.isEqual(Oe.min())&&(u=Ur(a)),new Sb(u,s.transformResults||[])}(t,e))):[]}function Hb(n,e){return{documents:[cI(n,e.path)]}}function Wb(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=cI(n,s);const a=function(m){if(m.length!==0)return fI(yr.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const u=function(m){if(m.length!==0)return m.map(y=>function(I){return{field:ua(I.field),direction:Gb(I.dir)}}(y))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=Kp(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:t,parent:s}}function qb(n){let e=Ub(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Xe(r===1);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let a=[];t.where&&(a=function(w){const I=dI(w);return I instanceof yr&&UT(I)?I.getFilters():[I]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(I=>function(x){return new Ch(ca(x.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(I))}(t.orderBy));let d=null;t.limit&&(d=function(w){let I;return I=typeof w=="object"?w.value:w,td(I)?null:I}(t.limit));let f=null;t.startAt&&(f=function(w){const I=!!w.before,A=w.values||[];return new Rh(A,I)}(t.startAt));let m=null;return t.endAt&&(m=function(w){const I=!w.before,A=w.values||[];return new Rh(A,I)}(t.endAt)),hb(e,s,u,a,d,"F",f,m)}function Kb(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function dI(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=ca(t.unaryFilter.field);return Tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ca(t.unaryFilter.field);return Tt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ca(t.unaryFilter.field);return Tt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ca(t.unaryFilter.field);return Tt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return xe()}}(n):n.fieldFilter!==void 0?function(t){return Tt.create(ca(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return yr.create(t.compositeFilter.filters.map(r=>dI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return xe()}}(t.compositeFilter.op))}(n):xe()}function Gb(n){return Lb[n]}function Qb(n){return Vb[n]}function Xb(n){return Mb[n]}function ua(n){return{fieldPath:n.canonicalString()}}function ca(n){return Wt.fromServerFormat(n.fieldPath)}function fI(n){return n instanceof Tt?function(t){if(t.op==="=="){if(sw(t.value))return{unaryFilter:{field:ua(t.field),op:"IS_NAN"}};if(iw(t.value))return{unaryFilter:{field:ua(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(sw(t.value))return{unaryFilter:{field:ua(t.field),op:"IS_NOT_NAN"}};if(iw(t.value))return{unaryFilter:{field:ua(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ua(t.field),op:Qb(t.op),value:t.value}}}(n):n instanceof yr?function(t){const r=t.getFilters().map(s=>fI(s));return r.length===1?r[0]:{compositeFilter:{op:Xb(t.op),filters:r}}}(n):xe()}function Yb(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function pI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,t,r,s,a=Oe.min(),u=Oe.min(),d=qt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e){this.Tt=e}}function Zb(n){const e=qb({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?qp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(){this.Tn=new tO}addToCollectionParentIndex(e,t){return this.Tn.add(t),Z.resolve()}getCollectionParents(e,t){return Z.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Z.resolve()}deleteFieldIndex(e,t){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,t){return Z.resolve()}getDocumentsMatchingTarget(e,t){return Z.resolve(null)}getIndexType(e,t){return Z.resolve(0)}getFieldIndexes(e,t){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,t){return Z.resolve(fs.min())}getMinOffsetFromCollectionGroup(e,t){return Z.resolve(fs.min())}updateCollectionGroup(e,t,r){return Z.resolve()}updateIndexEntries(e,t){return Z.resolve()}}class tO{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Nt(st.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Nt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mI=41943040;class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(mI,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Aa(0)}static Un(){return new Aa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="LruGarbageCollector",nO=1048576;function Ew([n,e],[t,r]){const s=He(n,t);return s===0?He(e,r):s}class rO{constructor(e){this.Hn=e,this.buffer=new Nt(Ew),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Ew(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class iO{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(ww,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Fa(t)?he(ww,"Ignoring IndexedDB error during garbage collection: ",t):await Ma(t)}await this.er(3e5)})}}class sO{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Z.resolve(ed.ae);const r=new rO(t);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(_w)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_w):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,s,a,u,d,f,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,u=Date.now(),this.nthSequenceNumber(e,s))).next(w=>(r=w,d=Date.now(),this.removeTargets(e,r,t))).next(w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(m=Date.now(),aa()<=$e.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${s} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${w} documents in `+(m-f)+`ms
Total Duration: ${m-y}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:w})))}}function oO(n,e){return new sO(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(){this.changes=new go(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Z.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&zl(r.mutation,s,Ln.empty(),Pt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Be()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Be()){const s=eo();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let u=Ll();return a.forEach((d,f)=>{u=u.insert(d,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=eo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Be()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,r,s){let a=_i();const u=Bl(),d=function(){return Bl()}();return t.forEach((f,m)=>{const y=r.get(m.key);s.has(m.key)&&(y===void 0||y.mutation instanceof Ts)?a=a.insert(m.key,m):y!==void 0?(u.set(m.key,y.mutation.getFieldMask()),zl(y.mutation,m,y.mutation.getFieldMask(),Pt.now())):u.set(m.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((m,y)=>u.set(m,y)),t.forEach((m,y)=>{var w;return d.set(m,new lO(y,(w=u.get(m))!==null&&w!==void 0?w:null))}),d))}recalculateAndSaveOverlays(e,t){const r=Bl();let s=new ft((u,d)=>u-d),a=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(f=>{const m=t.get(f);if(m===null)return;let y=r.get(f)||Ln.empty();y=d.applyToLocalView(m,y),r.set(f,y);const w=(s.get(d.batchId)||Be()).add(f);s=s.insert(d.batchId,w)})}).next(()=>{const u=[],d=s.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,y=f.value,w=XT();y.forEach(I=>{if(!a.has(I)){const A=nI(t.get(I),r.get(I));A!==null&&w.set(I,A),a=a.add(I)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,w))}return Z.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return Te.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):WT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):Z.resolve(eo());let d=eu,f=a;return u.next(m=>Z.forEach(m,(y,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),a.get(y)?Z.resolve():this.remoteDocumentCache.getEntry(e,y).next(I=>{f=f.insert(y,I)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,f,m,Be())).next(y=>({batchId:d,changes:QT(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next(r=>{let s=Ll();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let u=Ll();return this.indexManager.getCollectionParents(e,a).next(d=>Z.forEach(d,f=>{const m=function(w,I){return new _u(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,r,s).next(y=>{y.forEach((w,I)=>{u=u.insert(w,I)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s))).next(u=>{a.forEach((f,m)=>{const y=m.getKey();u.get(y)===null&&(u=u.insert(y,en.newInvalidDocument(y)))});let d=Ll();return u.forEach((f,m)=>{const y=a.get(f);y!==void 0&&zl(y.mutation,m,Ln.empty(),Pt.now()),id(t,m)&&(d=d.insert(f,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Z.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Ur(s.createTime)}}(t)),Z.resolve()}getNamedQuery(e,t){return Z.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(s){return{name:s.name,query:Zb(s.bundledQuery),readTime:Ur(s.readTime)}}(t)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(){this.overlays=new ft(Te.comparator),this.Rr=new Map}getOverlay(e,t){return Z.resolve(this.overlays.get(t))}getOverlays(e,t){const r=eo();return Z.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.Et(e,t,a)}),Z.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),Z.resolve()}getOverlaysForCollection(e,t,r){const s=eo(),a=t.length+1,u=new Te(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return Z.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new ft((m,y)=>m-y);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let y=a.get(m.largestBatchId);y===null&&(y=eo(),a=a.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const d=eo(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,y)=>d.set(m,y)),!(d.size()>=s)););return Z.resolve(d)}Et(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new kb(t,r));let a=this.Rr.get(t);a===void 0&&(a=Be(),this.Rr.set(t,a)),this.Rr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(){this.Vr=new Nt(Mt.mr),this.gr=new Nt(Mt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Mt(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Mt(e,t))}br(e,t){e.forEach(r=>this.removeReference(r,t))}Sr(e){const t=new Te(new st([])),r=new Mt(t,e),s=new Mt(t,e+1),a=[];return this.gr.forEachInRange([r,s],u=>{this.wr(u),a.push(u.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Te(new st([])),r=new Mt(t,e),s=new Mt(t,e+1);let a=Be();return this.gr.forEachInRange([r,s],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Mt(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Mt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Te.comparator(e.key,t.key)||He(e.Cr,t.Cr)}static pr(e,t){return He(e.Cr,t.Cr)||Te.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Nt(Mt.mr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new xb(a,t,r,s);this.mutationQueue.push(u);for(const d of s)this.Mr=this.Mr.add(new Mt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Z.resolve(u)}lookupMutationBatch(e,t){return Z.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Nr(r),a=s<0?0:s;return Z.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Bm:this.Fr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Mt(t,0),s=new Mt(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,s],u=>{const d=this.Or(u.Cr);a.push(d)}),Z.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Nt(He);return t.forEach(s=>{const a=new Mt(s,0),u=new Mt(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,u],d=>{r=r.add(d.Cr)})}),Z.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;Te.isDocumentKey(a)||(a=a.child(""));const u=new Mt(new Te(a),0);let d=new Nt(He);return this.Mr.forEachWhile(f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===s&&(d=d.add(f.Cr)),!0)},u),Z.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Xe(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return Z.forEach(t.mutations,s=>{const a=new Mt(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Mt(t,0),s=this.Mr.firstAfterOrEqual(r);return Z.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.kr=e,this.docs=function(){return new ft(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,u=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Z.resolve(r?r.document.mutableCopy():en.newInvalidDocument(t))}getEntries(e,t){let r=_i();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():en.newInvalidDocument(s))}),Z.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=_i();const u=t.path,d=new Te(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:y}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||zN(BN(y),r)<=0||(s.has(y.key)||id(t,y))&&(a=a.insert(y.key,y.mutableCopy()))}return Z.resolve(a)}getAllFromCollectionGroup(e,t,r,s){xe()}qr(e,t){return Z.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new mO(this)}getSize(e){return Z.resolve(this.size)}}class mO extends aO{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),Z.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e){this.persistence=e,this.Qr=new go(t=>Wm(t),qm),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Ym,this.targetCount=0,this.Ur=Aa.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,s)=>t(s)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),Z.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Aa(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Z.resolve()}updateTargetData(e,t){return this.zn(t),Z.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.Qr.forEach((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.Qr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),Z.waitFor(a).next(()=>s)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return Z.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),Z.resolve()}removeMatchingKeys(e,t,r){this.Kr.br(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(u=>{a.push(s.markPotentiallyOrphaned(e,u))}),Z.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),Z.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return Z.resolve(r)}containsKey(e,t){return Z.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new ed(0),this.zr=!1,this.zr=!0,this.jr=new dO,this.referenceDelegate=e(this),this.Hr=new gO(this),this.indexManager=new eO,this.remoteDocumentCache=function(s){return new pO(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new Jb(t),this.Yr=new cO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new fO(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){he("MemoryPersistence","Starting transaction:",e);const s=new vO(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(a=>this.referenceDelegate.Xr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}ei(e,t){return Z.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class vO extends WN{constructor(e){super(),this.currentSequenceNumber=e}}class Jm{constructor(e){this.persistence=e,this.ti=new Ym,this.ni=null}static ri(e){return new Jm(e)}get ii(){if(this.ni)return this.ni;throw xe()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),Z.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Z.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ii,r=>{const s=Te.fromPath(r);return this.si(e,s).next(a=>{a||t.removeEntry(s,Oe.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return Z.or([()=>Z.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Ph{constructor(e,t){this.persistence=e,this.oi=new go(r=>GN(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=oO(this,t)}static ri(e,t){return new Ph(e,t)}Zr(){}Xr(e){return Z.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return Z.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(a=>a?Z.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.qr(e,u=>this.ar(e,u,t).next(d=>{d||(r++,a.removeEntry(u,Oe.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Z.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Z.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=oh(e.data.value)),t}ar(e,t,r){return Z.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.oi.get(t);return Z.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=s}static Yi(e,t){let r=Be(),s=Be();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Zm(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return m1()?8:qN(rn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.rs(e,t).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ss(e,t,s,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new yO;return this._s(e,t,u).next(d=>{if(a.result=d,this.Xi)return this.us(e,t,u,d.size)})}).next(()=>a.result)}us(e,t,r,s){return r.documentReadCount<this.es?(aa()<=$e.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",la(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Z.resolve()):(aa()<=$e.DEBUG&&he("QueryEngine","Query:",la(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(aa()<=$e.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",la(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fr(t))):Z.resolve())}rs(e,t){if(uw(t))return Z.resolve(null);let r=Fr(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=qp(t,null,"F"),r=Fr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=Be(...a);return this.ns.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,r).next(f=>{const m=this.cs(t,d);return this.ls(t,m,u,f.readTime)?this.rs(e,qp(t,null,"F")):this.hs(e,m,t,f)}))})))}ss(e,t,r,s){return uw(t)||s.isEqual(Oe.min())?Z.resolve(null):this.ns.getDocuments(e,r).next(a=>{const u=this.cs(t,a);return this.ls(t,u,r,s)?Z.resolve(null):(aa()<=$e.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),la(t)),this.hs(e,u,t,$N(s,eu)).next(d=>d))})}cs(e,t){let r=new Nt(KT(e));return t.forEach((s,a)=>{id(e,a)&&(r=r.add(a))}),r}ls(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}_s(e,t,r){return aa()<=$e.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",la(t)),this.ns.getDocumentsMatchingQuery(e,t,fs.min(),r)}hs(e,t,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg="LocalStore",wO=3e8;class EO{constructor(e,t,r,s){this.persistence=e,this.Ps=t,this.serializer=s,this.Ts=new ft(He),this.Is=new go(a=>Wm(a),qm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uO(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function TO(n,e,t,r){return new EO(n,e,t,r)}async function vI(n,e){const t=De(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],d=[];let f=Be();for(const m of s){u.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}for(const m of a){d.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}return t.localDocuments.getDocuments(r,f).next(m=>({Rs:m,removedBatchIds:u,addedBatchIds:d}))})})}function IO(n,e){const t=De(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,f,m,y){const w=m.batch,I=w.keys();let A=Z.resolve();return I.forEach(x=>{A=A.next(()=>y.getEntry(f,x)).next(V=>{const k=m.docVersions.get(x);Xe(k!==null),V.version.compareTo(k)<0&&(w.applyToRemoteDocument(V,m),V.isValidDocument()&&(V.setReadTime(m.commitVersion),y.addEntry(V)))})}),A.next(()=>d.mutationQueue.removeMutationBatch(f,w))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=Be();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function yI(n){const e=De(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function SO(n,e){const t=De(n),r=e.snapshotVersion;let s=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});s=t.Ts;const d=[];e.targetChanges.forEach((y,w)=>{const I=s.get(w);if(!I)return;d.push(t.Hr.removeMatchingKeys(a,y.removedDocuments,w).next(()=>t.Hr.addMatchingKeys(a,y.addedDocuments,w)));let A=I.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?A=A.withResumeToken(qt.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,r)),s=s.insert(w,A),function(V,k,j){return V.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=wO?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(I,A,y)&&d.push(t.Hr.updateTargetData(a,A))});let f=_i(),m=Be();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,y))}),d.push(RO(a,u,e.documentUpdates).next(y=>{f=y.Vs,m=y.fs})),!r.isEqual(Oe.min())){const y=t.Hr.getLastRemoteSnapshotVersion(a).next(w=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));d.push(y)}return Z.waitFor(d).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,m)).next(()=>f)}).then(a=>(t.Ts=s,a))}function RO(n,e,t){let r=Be(),s=Be();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=_i();return t.forEach((d,f)=>{const m=a.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(d)),f.isNoDocument()&&f.version.isEqual(Oe.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):he(eg,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)}),{Vs:u,fs:s}})}function CO(n,e){const t=De(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Bm),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function AO(n,e){const t=De(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Hr.getTargetData(r,e).next(a=>a?(s=a,Z.resolve(s)):t.Hr.allocateTargetId(r).next(u=>(s=new ss(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function Yp(n,e,t){const r=De(n),s=r.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!Fa(u))throw u;he(eg,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function Tw(n,e,t){const r=De(n);let s=Oe.min(),a=Be();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,m,y){const w=De(f),I=w.Is.get(y);return I!==void 0?Z.resolve(w.Ts.get(I)):w.Hr.getTargetData(m,y)}(r,u,Fr(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(u,d.targetId).next(f=>{a=f})}).next(()=>r.Ps.getDocumentsMatchingQuery(u,e,t?s:Oe.min(),t?a:Be())).next(d=>(xO(r,fb(e),d),{documents:d,gs:a})))}function xO(n,e,t){let r=n.Es.get(e)||Oe.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Es.set(e,r)}class Iw{constructor(){this.activeTargetIds=_b()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kO{constructor(){this.ho=new Iw,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Iw,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="ConnectivityMonitor";class Rw{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(Sw,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(Sw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc=null;function Jp(){return Yc===null?Yc=function(){return 268435456+Math.round(2147483648*Math.random())}():Yc++,"0x"+Yc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp="RestConnection",NO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bO{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===Ih?`project_id=${r}`:`project_id=${r}&database_id=${s}`}bo(e,t,r,s,a){const u=Jp(),d=this.So(e,t.toUriEncodedString());he(yp,`Sending RPC '${e}' ${u}:`,d,r);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,s,a),this.vo(e,d,f,r).then(m=>(he(yp,`Received RPC '${e}' ${u}: `,m),m),m=>{throw Ia(yp,`RPC '${e}' ${u} failed with error: `,m,"url: ",d,"request:",r),m})}Co(e,t,r,s,a,u){return this.bo(e,t,r,s,a)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Va}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}So(e,t){const r=NO[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class DO extends bO{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,s){const a=Jp();return new Promise((u,d)=>{const f=new ET;f.setWithCredentials(!0),f.listenOnce(TT.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case sh.NO_ERROR:const y=f.getResponseJson();he(Jt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(y)),u(y);break;case sh.TIMEOUT:he(Jt,`RPC '${e}' ${a} timed out`),d(new me(te.DEADLINE_EXCEEDED,"Request time out"));break;case sh.HTTP_ERROR:const w=f.getStatus();if(he(Jt,`RPC '${e}' ${a} failed with status:`,w,"response text:",f.getResponseText()),w>0){let I=f.getResponseJson();Array.isArray(I)&&(I=I[0]);const A=I==null?void 0:I.error;if(A&&A.status&&A.message){const x=function(k){const j=k.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(j)>=0?j:te.UNKNOWN}(A.status);d(new me(x,A.message))}else d(new me(te.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new me(te.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{he(Jt,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(s);he(Jt,`RPC '${e}' ${a} sending request:`,s),f.send(t,"POST",m,r,15)})}Wo(e,t,r){const s=Jp(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=RT(),d=ST(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const y=a.join("");he(Jt,`Creating RPC '${e}' stream ${s}: ${y}`,f);const w=u.createWebChannel(y,f);let I=!1,A=!1;const x=new OO({Fo:k=>{A?he(Jt,`Not sending because RPC '${e}' stream ${s} is closed:`,k):(I||(he(Jt,`Opening RPC '${e}' stream ${s} transport.`),w.open(),I=!0),he(Jt,`RPC '${e}' stream ${s} sending:`,k),w.send(k))},Mo:()=>w.close()}),V=(k,j,q)=>{k.listen(j,B=>{try{q(B)}catch(K){setTimeout(()=>{throw K},0)}})};return V(w,Dl.EventType.OPEN,()=>{A||(he(Jt,`RPC '${e}' stream ${s} transport opened.`),x.Qo())}),V(w,Dl.EventType.CLOSE,()=>{A||(A=!0,he(Jt,`RPC '${e}' stream ${s} transport closed`),x.Ko())}),V(w,Dl.EventType.ERROR,k=>{A||(A=!0,Ia(Jt,`RPC '${e}' stream ${s} transport errored:`,k),x.Ko(new me(te.UNAVAILABLE,"The operation could not be completed")))}),V(w,Dl.EventType.MESSAGE,k=>{var j;if(!A){const q=k.data[0];Xe(!!q);const B=q,K=(B==null?void 0:B.error)||((j=B[0])===null||j===void 0?void 0:j.error);if(K){he(Jt,`RPC '${e}' stream ${s} received error:`,K);const J=K.status;let Y=function(P){const D=Et[P];if(D!==void 0)return sI(D)}(J),b=K.message;Y===void 0&&(Y=te.INTERNAL,b="Unknown error status: "+J+" with message "+K.message),A=!0,x.Ko(new me(Y,b)),w.close()}else he(Jt,`RPC '${e}' stream ${s} received:`,q),x.Uo(q)}}),V(d,IT.STAT_EVENT,k=>{k.stat===Up.PROXY?he(Jt,`RPC '${e}' stream ${s} detected buffering proxy`):k.stat===Up.NOPROXY&&he(Jt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.$o()},0),x}}function _p(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(n){return new Fb(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,t,r=1e3,s=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=s,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,t-r);s>0&&he("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="PersistentStream";class wI{constructor(e,t,r,s,a,u,d,f){this.Ti=e,this.n_=r,this.r_=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new _I(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(yi(t.toString()),yi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===t&&this.V_(r,s)},r=>{e(()=>{const s=new me(te.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(Cw,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(he(Cw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LO extends wI{constructor(e,t,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=$b(this.serializer,e),r=function(a){if(!("targetChange"in a))return Oe.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Oe.min():u.readTime?Ur(u.readTime):Oe.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=Xp(this.serializer),t.addTarget=function(a,u){let d;const f=u.target;if(d=Hp(f)?{documents:Hb(a,f)}:{query:Wb(a,f).ht},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=lI(a,u.resumeToken);const m=Kp(a,u.expectedCount);m!==null&&(d.expectedCount=m)}else if(u.snapshotVersion.compareTo(Oe.min())>0){d.readTime=kh(a,u.snapshotVersion.toTimestamp());const m=Kp(a,u.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const r=Kb(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=Xp(this.serializer),t.removeTarget=e,this.I_(t)}}class VO extends wI{constructor(e,t,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=zb(e.writeResults,e.commitTime),r=Ur(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=Xp(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Bb(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{}class FO extends MO{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new me(te.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.bo(e,Gp(t,r),s,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new me(te.UNKNOWN,a.toString())})}Co(e,t,r,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Co(e,Gp(t,r),s,u,d,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(te.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class jO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(yi(t),this.N_=!1):he("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co="RemoteStore";class UO{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(u=>{r.enqueueAndForget(async()=>{vo(this)&&(he(co,"Restarting streams for network reachability change."),await async function(f){const m=De(f);m.W_.add(4),await Tu(m),m.j_.set("Unknown"),m.W_.delete(4),await ud(m)}(this))})}),this.j_=new jO(r,s)}}async function ud(n){if(vo(n))for(const e of n.G_)await e(!0)}async function Tu(n){for(const e of n.G_)await e(!1)}function EI(n,e){const t=De(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),ig(t)?rg(t):ja(t).c_()&&ng(t,e))}function tg(n,e){const t=De(n),r=ja(t);t.U_.delete(e),r.c_()&&TI(t,e),t.U_.size===0&&(r.c_()?r.P_():vo(t)&&t.j_.set("Unknown"))}function ng(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ja(n).y_(e)}function TI(n,e){n.H_.Ne(e),ja(n).w_(e)}function rg(n){n.H_=new Db({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),ja(n).start(),n.j_.B_()}function ig(n){return vo(n)&&!ja(n).u_()&&n.U_.size>0}function vo(n){return De(n).W_.size===0}function II(n){n.H_=void 0}async function $O(n){n.j_.set("Online")}async function BO(n){n.U_.forEach((e,t)=>{ng(n,e)})}async function zO(n,e){II(n),ig(n)?(n.j_.q_(e),rg(n)):n.j_.set("Unknown")}async function HO(n,e,t){if(n.j_.set("Online"),e instanceof aI&&e.state===2&&e.cause)try{await async function(s,a){const u=a.cause;for(const d of a.targetIds)s.U_.has(d)&&(await s.remoteSyncer.rejectListen(d,u),s.U_.delete(d),s.H_.removeTarget(d))}(n,e)}catch(r){he(co,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Nh(n,r)}else if(e instanceof uh?n.H_.We(e):e instanceof oI?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Oe.min()))try{const r=await yI(n.localStore);t.compareTo(r)>=0&&await function(a,u){const d=a.H_.ot(u);return d.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const y=a.U_.get(m);y&&a.U_.set(m,y.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach((f,m)=>{const y=a.U_.get(f);if(!y)return;a.U_.set(f,y.withResumeToken(qt.EMPTY_BYTE_STRING,y.snapshotVersion)),TI(a,f);const w=new ss(y.target,f,m,y.sequenceNumber);ng(a,w)}),a.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(r){he(co,"Failed to raise snapshot:",r),await Nh(n,r)}}async function Nh(n,e,t){if(!Fa(e))throw e;n.W_.add(1),await Tu(n),n.j_.set("Offline"),t||(t=()=>yI(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{he(co,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await ud(n)})}function SI(n,e){return e().catch(t=>Nh(n,t,e))}async function cd(n){const e=De(n),t=vs(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:Bm;for(;WO(e);)try{const s=await CO(e.localStore,r);if(s===null){e.K_.length===0&&t.P_();break}r=s.batchId,qO(e,s)}catch(s){await Nh(e,s)}RI(e)&&CI(e)}function WO(n){return vo(n)&&n.K_.length<10}function qO(n,e){n.K_.push(e);const t=vs(n);t.c_()&&t.b_&&t.S_(e.mutations)}function RI(n){return vo(n)&&!vs(n).u_()&&n.K_.length>0}function CI(n){vs(n).start()}async function KO(n){vs(n).C_()}async function GO(n){const e=vs(n);for(const t of n.K_)e.S_(t.mutations)}async function QO(n,e,t){const r=n.K_.shift(),s=Gm.from(r,e,t);await SI(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await cd(n)}async function XO(n,e){e&&vs(n).b_&&await async function(r,s){if(function(u){return Nb(u)&&u!==te.ABORTED}(s.code)){const a=r.K_.shift();vs(r).h_(),await SI(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await cd(r)}}(n,e),RI(n)&&CI(n)}async function Aw(n,e){const t=De(n);t.asyncQueue.verifyOperationInProgress(),he(co,"RemoteStore received new credentials");const r=vo(t);t.W_.add(3),await Tu(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await ud(t)}async function YO(n,e){const t=De(n);e?(t.W_.delete(2),await ud(t)):e||(t.W_.add(2),await Tu(t),t.j_.set("Unknown"))}function ja(n){return n.J_||(n.J_=function(t,r,s){const a=De(t);return a.M_(),new LO(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{xo:$O.bind(null,n),No:BO.bind(null,n),Lo:zO.bind(null,n),p_:HO.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),ig(n)?rg(n):n.j_.set("Unknown")):(await n.J_.stop(),II(n))})),n.J_}function vs(n){return n.Y_||(n.Y_=function(t,r,s){const a=De(t);return a.M_(),new VO(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:KO.bind(null,n),Lo:XO.bind(null,n),D_:GO.bind(null,n),v_:QO.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await cd(n)):(await n.Y_.stop(),n.K_.length>0&&(he(co,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const u=Date.now()+r,d=new sg(e,t,u,s,a);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function og(n,e){if(yi("AsyncQueue",`${e}: ${n}`),Fa(n))return new me(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{static emptySet(e){return new fa(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Te.comparator(t.key,r.key):(t,r)=>Te.comparator(t.key,r.key),this.keyedMap=Ll(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof fa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new fa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(){this.Z_=new ft(Te.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):xe():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class xa{constructor(e,t,r,s,a,u,d,f,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,s,a){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new xa(e,t,fa.emptySet(t),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class ZO{constructor(){this.queries=kw(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const s=De(t),a=s.queries;s.queries=kw(),a.forEach((u,d)=>{for(const f of d.ta)f.onError(r)})})(this,new me(te.ABORTED,"Firestore shutting down"))}}function kw(){return new go(n=>qT(n),rd)}async function eD(n,e){const t=De(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.na()&&e.ra()&&(r=2):(a=new JO,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await t.onListen(s,!0);break;case 1:a.ea=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const d=og(u,`Initialization of query '${la(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&ag(t)}async function tD(n,e){const t=De(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const u=a.ta.indexOf(e);u>=0&&(a.ta.splice(u,1),a.ta.length===0?s=e.ra()?0:1:!a.na()&&e.ra()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function nD(n,e){const t=De(n);let r=!1;for(const s of e){const a=s.query,u=t.queries.get(a);if(u){for(const d of u.ta)d.oa(s)&&(r=!0);u.ea=s}}r&&ag(t)}function rD(n,e,t){const r=De(n),s=r.queries.get(e);if(s)for(const a of s.ta)a.onError(t);r.queries.delete(e)}function ag(n){n.ia.forEach(e=>{e.next()})}var Zp,Pw;(Pw=Zp||(Zp={}))._a="default",Pw.Cache="cache";class iD{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new xa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=xa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Zp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e){this.key=e}}class xI{constructor(e){this.key=e}}class sD{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Be(),this.mutatedKeys=Be(),this.ya=KT(e),this.wa=new fa(this.ya)}get ba(){return this.fa}Sa(e,t){const r=t?t.Da:new xw,s=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,u=s,d=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((y,w)=>{const I=s.get(y),A=id(this.query,w)?w:null,x=!!I&&this.mutatedKeys.has(I.key),V=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let k=!1;I&&A?I.data.isEqual(A.data)?x!==V&&(r.track({type:3,doc:A}),k=!0):this.va(I,A)||(r.track({type:2,doc:A}),k=!0,(f&&this.ya(A,f)>0||m&&this.ya(A,m)<0)&&(d=!0)):!I&&A?(r.track({type:0,doc:A}),k=!0):I&&!A&&(r.track({type:1,doc:I}),k=!0,(f||m)&&(d=!0)),k&&(A?(u=u.add(A),a=V?a.add(y):a.delete(y)):(u=u.delete(y),a=a.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),a=a.delete(y.key),r.track({type:1,doc:y})}return{wa:u,Da:r,ls:d,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((y,w)=>function(A,x){const V=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return V(A)-V(x)}(y.type,w.type)||this.ya(y.doc,w.doc)),this.Ca(r),s=s!=null&&s;const d=t&&!s?this.Fa():[],f=this.pa.size===0&&this.current&&!s?1:0,m=f!==this.ga;return this.ga=f,u.length!==0||m?{snapshot:new xa(this.query,e.wa,a,u,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new xw,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Be(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new xI(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new AI(r))}),t}Oa(e){this.fa=e.gs,this.pa=Be();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return xa.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const lg="SyncEngine";class oD{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class aD{constructor(e){this.key=e,this.Ba=!1}}class lD{constructor(e,t,r,s,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new go(d=>qT(d),rd),this.qa=new Map,this.Qa=new Set,this.$a=new ft(Te.comparator),this.Ka=new Map,this.Ua=new Ym,this.Wa={},this.Ga=new Map,this.za=Aa.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function uD(n,e,t=!0){const r=DI(n);let s;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Na()):s=await kI(r,e,t,!0),s}async function cD(n,e){const t=DI(n);await kI(t,e,!0,!1)}async function kI(n,e,t,r){const s=await AO(n.localStore,Fr(e)),a=s.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await hD(n,e,a,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&EI(n.remoteStore,s),d}async function hD(n,e,t,r,s){n.Ha=(w,I,A)=>async function(V,k,j,q){let B=k.view.Sa(j);B.ls&&(B=await Tw(V.localStore,k.query,!1).then(({documents:b})=>k.view.Sa(b,B)));const K=q&&q.targetChanges.get(k.targetId),J=q&&q.targetMismatches.get(k.targetId)!=null,Y=k.view.applyChanges(B,V.isPrimaryClient,K,J);return bw(V,k.targetId,Y.Ma),Y.snapshot}(n,w,I,A);const a=await Tw(n.localStore,e,!0),u=new sD(e,a.gs),d=u.Sa(a.documents),f=Eu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),m=u.applyChanges(d,n.isPrimaryClient,f);bw(n,t,m.Ma);const y=new oD(e,t,u);return n.ka.set(e,y),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),m.snapshot}async function dD(n,e,t){const r=De(n),s=r.ka.get(e),a=r.qa.get(s.targetId);if(a.length>1)return r.qa.set(s.targetId,a.filter(u=>!rd(u,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Yp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&tg(r.remoteStore,s.targetId),em(r,s.targetId)}).catch(Ma)):(em(r,s.targetId),await Yp(r.localStore,s.targetId,!0))}async function fD(n,e){const t=De(n),r=t.ka.get(e),s=t.qa.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),tg(t.remoteStore,r.targetId))}async function pD(n,e,t){const r=ED(n);try{const s=await function(u,d){const f=De(u),m=Pt.now(),y=d.reduce((A,x)=>A.add(x.key),Be());let w,I;return f.persistence.runTransaction("Locally write mutations","readwrite",A=>{let x=_i(),V=Be();return f.ds.getEntries(A,y).next(k=>{x=k,x.forEach((j,q)=>{q.isValidDocument()||(V=V.add(j))})}).next(()=>f.localDocuments.getOverlayedDocuments(A,x)).next(k=>{w=k;const j=[];for(const q of d){const B=Cb(q,w.get(q.key).overlayedDocument);B!=null&&j.push(new Ts(q.key,B,MT(B.value.mapValue),jr.exists(!0)))}return f.mutationQueue.addMutationBatch(A,m,j,d)}).next(k=>{I=k;const j=k.applyToLocalDocumentSet(w,V);return f.documentOverlayCache.saveOverlays(A,k.batchId,j)})}).then(()=>({batchId:I.batchId,changes:QT(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,d,f){let m=u.Wa[u.currentUser.toKey()];m||(m=new ft(He)),m=m.insert(d,f),u.Wa[u.currentUser.toKey()]=m}(r,s.batchId,t),await Iu(r,s.changes),await cd(r.remoteStore)}catch(s){const a=og(s,"Failed to persist write");t.reject(a)}}async function PI(n,e){const t=De(n);try{const r=await SO(t.localStore,e);e.targetChanges.forEach((s,a)=>{const u=t.Ka.get(a);u&&(Xe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.Ba=!0:s.modifiedDocuments.size>0?Xe(u.Ba):s.removedDocuments.size>0&&(Xe(u.Ba),u.Ba=!1))}),await Iu(t,r,e)}catch(r){await Ma(r)}}function Nw(n,e,t){const r=De(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.ka.forEach((a,u)=>{const d=u.view.sa(e);d.snapshot&&s.push(d.snapshot)}),function(u,d){const f=De(u);f.onlineState=d;let m=!1;f.queries.forEach((y,w)=>{for(const I of w.ta)I.sa(d)&&(m=!0)}),m&&ag(f)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function mD(n,e,t){const r=De(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Ka.get(e),a=s&&s.key;if(a){let u=new ft(Te.comparator);u=u.insert(a,en.newNoDocument(a,Oe.min()));const d=Be().add(a),f=new ad(Oe.min(),new Map,new ft(He),u,d);await PI(r,f),r.$a=r.$a.remove(a),r.Ka.delete(e),ug(r)}else await Yp(r.localStore,e,!1).then(()=>em(r,e,t)).catch(Ma)}async function gD(n,e){const t=De(n),r=e.batch.batchId;try{const s=await IO(t.localStore,e);bI(t,r,null),NI(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Iu(t,s)}catch(s){await Ma(s)}}async function vD(n,e,t){const r=De(n);try{const s=await function(u,d){const f=De(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return f.mutationQueue.lookupMutationBatch(m,d).next(w=>(Xe(w!==null),y=w.keys(),f.mutationQueue.removeMutationBatch(m,w))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,y,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>f.localDocuments.getDocuments(m,y))})}(r.localStore,e);bI(r,e,t),NI(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Iu(r,s)}catch(s){await Ma(s)}}function NI(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function bI(n,e,t){const r=De(n);let s=r.Wa[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function em(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(r=>{n.Ua.containsKey(r)||OI(n,r)})}function OI(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(tg(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),ug(n))}function bw(n,e,t){for(const r of t)r instanceof AI?(n.Ua.addReference(r.key,e),yD(n,r)):r instanceof xI?(he(lg,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||OI(n,r.key)):xe()}function yD(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(he(lg,"New document in limbo: "+t),n.Qa.add(r),ug(n))}function ug(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Te(st.fromString(e)),r=n.za.next();n.Ka.set(r,new aD(t)),n.$a=n.$a.insert(t,r),EI(n.remoteStore,new ss(Fr(HT(t.path)),r,"TargetPurposeLimboResolution",ed.ae))}}async function Iu(n,e,t){const r=De(n),s=[],a=[],u=[];r.ka.isEmpty()||(r.ka.forEach((d,f)=>{u.push(r.Ha(f,e,t).then(m=>{var y;if((m||t)&&r.isPrimaryClient){const w=m?!m.fromCache:(y=t==null?void 0:t.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(m){s.push(m);const w=Zm.Yi(f.targetId,m);a.push(w)}}))}),await Promise.all(u),r.La.p_(s),await async function(f,m){const y=De(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>Z.forEach(m,I=>Z.forEach(I.Hi,A=>y.persistence.referenceDelegate.addReference(w,I.targetId,A)).next(()=>Z.forEach(I.Ji,A=>y.persistence.referenceDelegate.removeReference(w,I.targetId,A)))))}catch(w){if(!Fa(w))throw w;he(eg,"Failed to update sequence numbers: "+w)}for(const w of m){const I=w.targetId;if(!w.fromCache){const A=y.Ts.get(I),x=A.snapshotVersion,V=A.withLastLimboFreeSnapshotVersion(x);y.Ts=y.Ts.insert(I,V)}}}(r.localStore,a))}async function _D(n,e){const t=De(n);if(!t.currentUser.isEqual(e)){he(lg,"User change. New user:",e.toKey());const r=await vI(t.localStore,e);t.currentUser=e,function(a,u){a.Ga.forEach(d=>{d.forEach(f=>{f.reject(new me(te.CANCELLED,u))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Iu(t,r.Rs)}}function wD(n,e){const t=De(n),r=t.Ka.get(e);if(r&&r.Ba)return Be().add(r.key);{let s=Be();const a=t.qa.get(e);if(!a)return s;for(const u of a){const d=t.ka.get(u);s=s.unionWith(d.view.ba)}return s}}function DI(n){const e=De(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=PI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mD.bind(null,e),e.La.p_=nD.bind(null,e.eventManager),e.La.Ja=rD.bind(null,e.eventManager),e}function ED(n){const e=De(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vD.bind(null,e),e}class bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ld(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return TO(this.persistence,new _O,e.initialUser,this.serializer)}Xa(e){return new gI(Jm.ri,this.serializer)}Za(e){return new kO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bh.provider={build:()=>new bh};class TD extends bh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Xe(this.persistence.referenceDelegate instanceof Ph);const r=this.persistence.referenceDelegate.garbageCollector;return new iO(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new gI(r=>Ph.ri(r,t),this.serializer)}}class tm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Nw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_D.bind(null,this.syncEngine),await YO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ZO}()}createDatastore(e){const t=ld(e.databaseInfo.databaseId),r=function(a){return new DO(a)}(e.databaseInfo);return function(a,u,d,f){return new FO(a,u,d,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,a,u,d){return new UO(r,s,a,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>Nw(this.syncEngine,t,0),function(){return Rw.D()?new Rw:new PO}())}createSyncEngine(e,t){return function(s,a,u,d,f,m,y){const w=new lD(s,a,u,d,f,m);return y&&(w.ja=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=De(s);he(co,"RemoteStore shutting down."),a.W_.add(5),await Tu(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}tm.provider={build:()=>new tm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):yi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="FirestoreClient";class SD{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Zt.UNAUTHENTICATED,this.clientId=AT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{he(ys,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(he(ys,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=og(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function wp(n,e){n.asyncQueue.verifyOperationInProgress(),he(ys,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await vI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Ow(n,e){n.asyncQueue.verifyOperationInProgress();const t=await RD(n);he(ys,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Aw(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>Aw(e.remoteStore,s)),n._onlineComponents=e}async function RD(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he(ys,"Using user provided OfflineComponentProvider");try{await wp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===te.FAILED_PRECONDITION||s.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Ia("Error using user provided cache. Falling back to memory cache: "+t),await wp(n,new bh)}}else he(ys,"Using default OfflineComponentProvider"),await wp(n,new TD(void 0));return n._offlineComponents}async function LI(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he(ys,"Using user provided OnlineComponentProvider"),await Ow(n,n._uninitializedComponentsProvider._online)):(he(ys,"Using default OnlineComponentProvider"),await Ow(n,new tm))),n._onlineComponents}function CD(n){return LI(n).then(e=>e.syncEngine)}async function AD(n){const e=await LI(n),t=e.eventManager;return t.onListen=uD.bind(null,e.syncEngine),t.onUnlisten=dD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=cD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=fD.bind(null,e.syncEngine),t}function xD(n,e,t={}){const r=new us;return n.asyncQueue.enqueueAndForget(async()=>function(a,u,d,f,m){const y=new ID({next:I=>{y.su(),u.enqueueAndForget(()=>tD(a,w)),I.fromCache&&f.source==="server"?m.reject(new me(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(I)},error:I=>m.reject(I)}),w=new iD(d,y,{includeMetadataChanges:!0,Ta:!0});return eD(a,w)}(await AD(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(n,e,t){if(!t)throw new me(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function kD(n,e,t,r){if(e===!0&&r===!0)throw new me(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Lw(n){if(!Te.isDocumentKey(n))throw new me(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Vw(n){if(Te.isDocumentKey(n))throw new me(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function hd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":xe()}function ka(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=hd(n);throw new me(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="firestore.googleapis.com",Mw=!0;class Fw{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new me(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FI,this.ssl=Mw}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Mw;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nO)throw new me(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dd{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ON;switch(r.type){case"firstParty":return new MN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new me(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Dw.get(t);r&&(he("ComponentProvider","Removing Datastore"),Dw.delete(t),r.terminate())}(this),Promise.resolve()}}function PD(n,e,t,r={}){var s;const a=(n=ka(n,dd))._getSettings(),u=Object.assign(Object.assign({},a),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;a.host!==FI&&a.host!==d&&Ia("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},a),{host:d,ssl:!1,emulatorOptions:r});if(!ao(f,u)&&(n._setSettings(f),r.mockUserToken)){let m,y;if(typeof r.mockUserToken=="string")m=r.mockUserToken,y=Zt.MOCK_USER;else{m=pT(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new me(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Zt(w)}n._authCredentials=new DN(new CT(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ua(this.firestore,e,this._query)}}class Mn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mn(this.firestore,e,this._key)}}class cs extends Ua{constructor(e,t,r){super(e,t,HT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mn(this.firestore,null,new Te(e))}withConverter(e){return new cs(this.firestore,e,this._path)}}function ou(n,e,...t){if(n=Ft(n),MI("collection","path",e),n instanceof dd){const r=st.fromString(e,...t);return Vw(r),new cs(n,null,r)}{if(!(n instanceof Mn||n instanceof cs))throw new me(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(st.fromString(e,...t));return Vw(r),new cs(n.firestore,null,r)}}function jI(n,e,...t){if(n=Ft(n),arguments.length===1&&(e=AT.newId()),MI("doc","path",e),n instanceof dd){const r=st.fromString(e,...t);return Lw(r),new Mn(n,null,new Te(r))}{if(!(n instanceof Mn||n instanceof cs))throw new me(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(st.fromString(e,...t));return Lw(r),new Mn(n.firestore,n instanceof cs?n.converter:null,new Te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="AsyncQueue";class Uw{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new _I(this,"async_queue_retry"),this.bu=()=>{const r=_p();r&&he(jw,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const t=_p();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=_p();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new us;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Fa(e))throw e;he(jw,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),d}(r);throw yi("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.Su=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const s=sg.createAndSchedule(this,e,t,r,a=>this.Fu(a));return this.fu.push(s),s}Du(){this.gu&&xe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class fd extends dd{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new Uw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Uw(e),this._firestoreClient=void 0,await e}}}function ND(n,e){const t=typeof n=="object"?n:Um(),r=typeof n=="string"?n:Ih,s=Zh(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=hT("firestore");a&&PD(s,...a)}return s}function UI(n){if(n._terminated)throw new me(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||bD(n),n._firestoreClient}function bD(n){var e,t,r;const s=n._freezeSettings(),a=function(d,f,m,y){return new YN(d,f,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,VI(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new SD(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pa(qt.fromBase64String(e))}catch(t){throw new me(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Pa(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=/^__.*__$/;class DD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ts(e,this.data,this.fieldMask,t,this.fieldTransforms):new wu(e,this.data,t,this.fieldTransforms)}}class $I{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ts(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function BI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}class fg{constructor(e,t,r,s,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new fg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Oh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(BI(this.Lu)&&OD.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class LD{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ld(e)}ju(e,t,r,s=!1){return new fg({Lu:e,methodName:t,zu:r,path:Wt.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pg(n){const e=n._freezeSettings(),t=ld(n._databaseId);return new LD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function VD(n,e,t,r,s,a={}){const u=n.ju(a.merge||a.mergeFields?2:0,e,t,s);mg("Data must be an object, but it was:",u,r);const d=zI(r,u);let f,m;if(a.merge)f=new Ln(u.fieldMask),m=u.fieldTransforms;else if(a.mergeFields){const y=[];for(const w of a.mergeFields){const I=nm(e,w,t);if(!u.contains(I))throw new me(te.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);WI(y,I)||y.push(I)}f=new Ln(y),m=u.fieldTransforms.filter(w=>f.covers(w.field))}else f=null,m=u.fieldTransforms;return new DD(new Sn(d),f,m)}class md extends cg{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof md}}function MD(n,e,t,r){const s=n.ju(1,e,t);mg("Data must be an object, but it was:",s,r);const a=[],u=Sn.empty();Es(r,(f,m)=>{const y=gg(e,f,t);m=Ft(m);const w=s.Ku(y);if(m instanceof md)a.push(y);else{const I=Su(m,w);I!=null&&(a.push(y),u.set(y,I))}});const d=new Ln(a);return new $I(u,d,s.fieldTransforms)}function FD(n,e,t,r,s,a){const u=n.ju(1,e,t),d=[nm(e,r,t)],f=[s];if(a.length%2!=0)throw new me(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<a.length;I+=2)d.push(nm(e,a[I])),f.push(a[I+1]);const m=[],y=Sn.empty();for(let I=d.length-1;I>=0;--I)if(!WI(m,d[I])){const A=d[I];let x=f[I];x=Ft(x);const V=u.Ku(A);if(x instanceof md)m.push(A);else{const k=Su(x,V);k!=null&&(m.push(A),y.set(A,k))}}const w=new Ln(m);return new $I(y,w,u.fieldTransforms)}function jD(n,e,t,r=!1){return Su(t,n.ju(r?4:3,e))}function Su(n,e){if(HI(n=Ft(n)))return mg("Unsupported field value:",e,n),zI(n,e);if(n instanceof cg)return function(r,s){if(!BI(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const a=[];let u=0;for(const d of r){let f=Su(d,s.Uu(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(n,e)}return function(r,s){if((r=Ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return wb(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Pt.fromDate(r);return{timestampValue:kh(s.serializer,a)}}if(r instanceof Pt){const a=new Pt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kh(s.serializer,a)}}if(r instanceof hg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pa)return{bytesValue:lI(s.serializer,r._byteString)};if(r instanceof Mn){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Xm(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof dg)return function(u,d){return{mapValue:{fields:{[LT]:{stringValue:VT},[Sh]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw d.Wu("VectorValues must only contain numeric values.");return Km(d.serializer,m)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${hd(r)}`)}(n,e)}function zI(n,e){const t={};return kT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Es(n,(r,s)=>{const a=Su(s,e.qu(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function HI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Pt||n instanceof hg||n instanceof Pa||n instanceof Mn||n instanceof cg||n instanceof dg)}function mg(n,e,t){if(!HI(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=hd(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function nm(n,e,t){if((e=Ft(e))instanceof pd)return e._internalPath;if(typeof e=="string")return gg(n,e);throw Oh("Field path arguments must be of type string or ",n,!1,void 0,t)}const UD=new RegExp("[~\\*/\\[\\]]");function gg(n,e,t){if(e.search(UD)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new pd(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Oh(n,e,t,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new me(te.INVALID_ARGUMENT,d+n+f)}function WI(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $D(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class $D extends qI{data(){return super.data()}}function vg(n,e){return typeof e=="string"?gg(n,e):e instanceof pd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new me(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yg{}class zD extends yg{}function $w(n,e,...t){let r=[];e instanceof yg&&r.push(e),r=r.concat(t),function(a){const u=a.filter(f=>f instanceof _g).length,d=a.filter(f=>f instanceof gd).length;if(u>1||u>0&&d>0)throw new me(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class gd extends zD{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new gd(e,t,r)}_apply(e){const t=this._parse(e);return KI(e._query,t),new Ua(e.firestore,e.converter,Wp(e._query,t))}_parse(e){const t=pg(e.firestore);return function(a,u,d,f,m,y,w){let I;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new me(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Hw(w,y);const x=[];for(const V of w)x.push(zw(f,a,V));I={arrayValue:{values:x}}}else I=zw(f,a,w)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Hw(w,y),I=jD(d,u,w,y==="in"||y==="not-in");return Tt.create(m,y,I)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Bw(n,e,t){const r=e,s=vg("where",n);return gd._create(s,r,t)}class _g extends yg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new _g(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:yr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,a){let u=s;const d=a.getFlattenedFilters();for(const f of d)KI(u,f),u=Wp(u,f)}(e._query,t),new Ua(e.firestore,e.converter,Wp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function zw(n,e,t){if(typeof(t=Ft(t))=="string"){if(t==="")throw new me(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WT(e)&&t.indexOf("/")!==-1)throw new me(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(st.fromString(t));if(!Te.isDocumentKey(r))throw new me(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rw(n,new Te(r))}if(t instanceof Mn)return rw(n,t._key);throw new me(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hd(t)}.`)}function Hw(n,e){if(!Array.isArray(n)||n.length===0)throw new me(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function KI(n,e){const t=function(s,a){for(const u of s)for(const d of u.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new me(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class HD{convertValue(e,t="none"){switch(gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Es(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,s;const a=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[Sh].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>yt(u.doubleValue));return new dg(a)}convertGeoPoint(e){return new hg(yt(e.latitude),yt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=nd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(tu(e));default:return null}}convertTimestamp(e){const t=ps(e);return new Pt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=st.fromString(e);Xe(pI(r));const s=new nu(r.get(1),r.get(3)),a=new Te(r.popFirst(5));return s.isEqual(t)||yi(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qD extends qI{constructor(e,t,r,s,a,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(vg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class ch extends qD{data(e={}){return super.data(e)}}class KD{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Jc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ch(this._firestore,this._userDataWriter,r.key,r,new Jc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(d=>{const f=new ch(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Jc(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const f=new ch(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Jc(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,y=-1;return d.type!==0&&(m=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),y=u.indexOf(d.doc.key)),{type:GD(d.type),doc:f,oldIndex:m,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function GD(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe()}}class QD extends HD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mn(this.firestore,null,t)}}function rm(n){n=ka(n,Ua);const e=ka(n.firestore,fd),t=UI(e),r=new QD(e);return BD(n._query),xD(t,n._query).then(s=>new KD(e,r,n,s))}function XD(n,e,t,...r){n=ka(n,Mn);const s=ka(n.firestore,fd),a=pg(s);let u;return u=typeof(e=Ft(e))=="string"||e instanceof pd?FD(a,"updateDoc",n._key,e,t,r):MD(a,"updateDoc",n._key,e),QI(s,[u.toMutation(n._key,jr.exists(!0))])}function GI(n,e){const t=ka(n.firestore,fd),r=jI(n),s=WD(n.converter,e);return QI(t,[VD(pg(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,jr.exists(!1))]).then(()=>r)}function QI(n,e){return function(r,s){const a=new us;return r.asyncQueue.enqueueAndForget(async()=>pD(await CD(r),s,a)),a.promise}(UI(n),e)}(function(e,t=!0){(function(s){Va=s})(mo),lo(new ds("firestore",(r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new fd(new LN(r.getProvider("auth-internal")),new FN(u,r.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new me(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nu(m.options.projectId,y)}(u,s),u);return a=Object.assign({useFetchStreams:t},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),Mr(q_,K_,e),Mr(q_,K_,"esm2017")})();var YD="firebase",JD="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mr(YD,JD,"app");function wg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function XI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZD=XI,YI=new vu("auth","Firebase",XI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new Fm("@firebase/auth");function eL(n,...e){Dh.logLevel<=$e.WARN&&Dh.warn(`Auth (${mo}): ${n}`,...e)}function hh(n,...e){Dh.logLevel<=$e.ERROR&&Dh.error(`Auth (${mo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(n,...e){throw Eg(n,...e)}function $r(n,...e){return Eg(n,...e)}function JI(n,e,t){const r=Object.assign(Object.assign({},ZD()),{[e]:t});return new vu("auth","Firebase",r).create(e,{appName:n.name})}function no(n){return JI(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Eg(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return YI.create(n,...e)}function Ne(n,e,...t){if(!n)throw Eg(e,...t)}function ui(n){const e="INTERNAL ASSERTION FAILED: "+n;throw hh(e),new Error(e)}function Ei(n,e){n||ui(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function tL(){return Ww()==="http:"||Ww()==="https:"}function Ww(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tL()||d1()||"connection"in navigator)?navigator.onLine:!0}function rL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ei(t>e,"Short delay should be less than long delay!"),this.isMobile=u1()||f1()}get(){return nL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(n,e){Ei(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=new Ru(3e4,6e4);function Ig(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function $a(n,e,t,r,s={}){return eS(n,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const d=yu(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:f},a);return h1()||(m.referrerPolicy="no-referrer"),ZI.fetch()(tS(n,n.config.apiHost,t,d),m)})}async function eS(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},iL),e);try{const s=new aL(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Zc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Zc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Zc(n,"user-disabled",u);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw JI(n,y,m);wi(n,y)}}catch(s){if(s instanceof qr)throw s;wi(n,"network-request-failed",{message:String(s)})}}async function oL(n,e,t,r,s={}){const a=await $a(n,e,t,r,s);return"mfaPendingCredential"in a&&wi(n,"multi-factor-auth-required",{_serverResponse:a}),a}function tS(n,e,t,r){const s=`${e}${t}?${r}`;return n.config.emulator?Tg(n.config,s):`${n.config.apiScheme}://${s}`}class aL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r($r(this.auth,"network-request-failed")),sL.get())})}}function Zc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=$r(n,e,r);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lL(n,e){return $a(n,"POST","/v1/accounts:delete",e)}async function nS(n,e){return $a(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uL(n,e=!1){const t=Ft(n),r=await t.getIdToken(e),s=Sg(r);Ne(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:Hl(Ep(s.auth_time)),issuedAtTime:Hl(Ep(s.iat)),expirationTime:Hl(Ep(s.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Ep(n){return Number(n)*1e3}function Sg(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return hh("JWT malformed, contained fewer than 3 sections"),null;try{const s=uT(t);return s?JSON.parse(s):(hh("Failed to decode base64 JWT payload"),null)}catch(s){return hh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function qw(n){const e=Sg(n);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof qr&&cL(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function cL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hl(this.lastLoginAt),this.creationTime=Hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lh(n){var e;const t=n.auth,r=await n.getIdToken(),s=await au(n,nS(t,{idToken:r}));Ne(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?rS(a.providerUserInfo):[],d=fL(n.providerData,u),f=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),y=f?m:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new sm(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(n,w)}async function dL(n){const e=Ft(n);await Lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fL(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function rS(n){return n.map(e=>{var{providerId:t}=e,r=wg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pL(n,e){const t=await eS(n,{},async()=>{const r=yu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,u=tS(n,s,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",ZI.fetch()(u,{method:"POST",headers:d,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function mL(n,e){return $a(n,"POST","/v2/accounts:revokeToken",Ig(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const t=qw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await pL(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,u=new pa;return r&&(Ne(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Ne(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(Ne(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pa,this.toJSON())}_performRefresh(){return ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(n,e){Ne(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ci{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,a=wg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new sm(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await au(this,this.stsTokenManager.getToken(this.auth,e));return Ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return uL(this,e)}reload(){return dL(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ci(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Lh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vr(this.auth.app))return Promise.reject(no(this.auth));const e=await this.getIdToken();return await au(this,lL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,a,u,d,f,m,y;const w=(r=t.displayName)!==null&&r!==void 0?r:void 0,I=(s=t.email)!==null&&s!==void 0?s:void 0,A=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,x=(u=t.photoURL)!==null&&u!==void 0?u:void 0,V=(d=t.tenantId)!==null&&d!==void 0?d:void 0,k=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,j=(m=t.createdAt)!==null&&m!==void 0?m:void 0,q=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:B,emailVerified:K,isAnonymous:J,providerData:Y,stsTokenManager:b}=t;Ne(B&&b,e,"internal-error");const R=pa.fromJSON(this.name,b);Ne(typeof B=="string",e,"internal-error"),Qi(w,e.name),Qi(I,e.name),Ne(typeof K=="boolean",e,"internal-error"),Ne(typeof J=="boolean",e,"internal-error"),Qi(A,e.name),Qi(x,e.name),Qi(V,e.name),Qi(k,e.name),Qi(j,e.name),Qi(q,e.name);const P=new ci({uid:B,auth:e,email:I,emailVerified:K,displayName:w,isAnonymous:J,photoURL:x,phoneNumber:A,tenantId:V,stsTokenManager:R,createdAt:j,lastLoginAt:q});return Y&&Array.isArray(Y)&&(P.providerData=Y.map(D=>Object.assign({},D))),k&&(P._redirectEventId=k),P}static async _fromIdTokenResponse(e,t,r=!1){const s=new pa;s.updateFromServerResponse(t);const a=new ci({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Lh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Ne(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?rS(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),d=new pa;d.updateFromIdToken(r);const f=new ci({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:u}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new sm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=new Map;function hi(n){Ei(n instanceof Function,"Expected a class definition");let e=Kw.get(n);return e?(Ei(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Kw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}iS.type="NONE";const Gw=iS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(n,e,t){return`firebase:${n}:${e}:${t}`}class ma{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=dh(this.userKey,s.apiKey,a),this.fullPersistenceKey=dh("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ci._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ma(hi(Gw),e,r);const s=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=s[0]||hi(Gw);const u=dh(r,e.config.apiKey,e.name);let d=null;for(const m of t)try{const y=await m._get(u);if(y){const w=ci._fromJSON(e,y);m!==a&&(d=w),a=m;break}}catch{}const f=s.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new ma(a,e,r):(a=f[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new ma(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(cS(e))return"Blackberry";if(hS(e))return"Webos";if(oS(e))return"Safari";if((e.includes("chrome/")||aS(e))&&!e.includes("edge/"))return"Chrome";if(uS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function sS(n=rn()){return/firefox\//i.test(n)}function oS(n=rn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aS(n=rn()){return/crios\//i.test(n)}function lS(n=rn()){return/iemobile/i.test(n)}function uS(n=rn()){return/android/i.test(n)}function cS(n=rn()){return/blackberry/i.test(n)}function hS(n=rn()){return/webos/i.test(n)}function Rg(n=rn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function gL(n=rn()){var e;return Rg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function vL(){return p1()&&document.documentMode===10}function dS(n=rn()){return Rg(n)||uS(n)||hS(n)||cS(n)||/windows phone/i.test(n)||lS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(n,e=[]){let t;switch(n){case"Browser":t=Qw(rn());break;case"Worker":t=`${Qw(rn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${mo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,d)=>{try{const f=e(a);u(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _L(n,e={}){return $a(n,"GET","/v2/passwordPolicy",Ig(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL=6;class EL{constructor(e){var t,r,s,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:wL,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,a,u,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xw(this),this.idTokenSubscription=new Xw(this),this.beforeStateQueue=new yL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=hi(t)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await ma.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await nS(this,{idToken:e}),r=await ci._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(vr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===d)&&(f!=null&&f.user)&&(s=f.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Lh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vr(this.app))return Promise.reject(no(this));const t=e?Ft(e):null;return t&&Ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return vr(this.app)?Promise.reject(no(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vr(this.app)?Promise.reject(no(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _L(this),t=new EL(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new vu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await mL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&hi(e)||this._popupRedirectResolver;Ne(t,this,"argument-error"),this.redirectPersistenceManager=await ma.create(this,[hi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(vr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&eL(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Cg(n){return Ft(n)}class Xw{constructor(e){this.auth=e,this.observer=null,this.addObserver=T1(t=>this.observer=t)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ag={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IL(n){Ag=n}function SL(n){return Ag.loadJS(n)}function RL(){return Ag.gapiScript}function CL(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(n,e){const t=Zh(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(ao(a,e??{}))return s;wi(s,"already-initialized")}return t.initialize({options:e})}function xL(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(hi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function kL(n,e,t){const r=Cg(n);Ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=pS(e),{host:u,port:d}=PL(e),f=d===null?"":`:${d}`,m={url:`${a}//${u}${f}/`},y=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ne(ao(m,r.config.emulator)&&ao(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,NL()}function pS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function PL(n){const e=pS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:Yw(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:Yw(u)}}}function Yw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function NL(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ui("not implemented")}_getIdTokenResponse(e){return ui("not implemented")}_linkToIdToken(e,t){return ui("not implemented")}_getReauthenticationResolver(e){return ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ga(n,e){return oL(n,"POST","/v1/accounts:signInWithIdp",Ig(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL="http://localhost";class ho extends mS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ho(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):wi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,a=wg(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new ho(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return ga(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,ga(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ga(e,t)}buildRequest(){const e={requestUri:bL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=yu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends gS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends Cu{constructor(){super("facebook.com")}static credential(e){return ho._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ji.credential(e.oauthAccessToken)}catch{return null}}}Ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ho._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Zi.credential(t,r)}catch{return null}}}Zi.GOOGLE_SIGN_IN_METHOD="google.com";Zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Cu{constructor(){super("github.com")}static credential(e){return ho._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.GITHUB_SIGN_IN_METHOD="github.com";es.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Cu{constructor(){super("twitter.com")}static credential(e,t){return ho._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ts.credential(t,r)}catch{return null}}}ts.TWITTER_SIGN_IN_METHOD="twitter.com";ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await ci._fromIdTokenResponse(e,r,s),u=Jw(r);return new Na({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Jw(r);return new Na({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Jw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh extends qr{constructor(e,t,r,s){var a;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Vh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Vh(e,t,r,s)}}function vS(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Vh._fromErrorAndOperation(n,a,e,r):a})}async function OL(n,e,t=!1){const r=await au(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Na._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DL(n,e,t=!1){const{auth:r}=n;if(vr(r.app))return Promise.reject(no(r));const s="reauthenticate";try{const a=await au(n,vS(r,s,e,n),t);Ne(a.idToken,r,"internal-error");const u=Sg(a.idToken);Ne(u,r,"internal-error");const{sub:d}=u;return Ne(n.uid===d,r,"user-mismatch"),Na._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&wi(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LL(n,e,t=!1){if(vr(n.app))return Promise.reject(no(n));const r="signIn",s=await vS(n,r,e),a=await Na._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}function VL(n,e,t,r){return Ft(n).onIdTokenChanged(e,t,r)}function ML(n,e,t){return Ft(n).beforeAuthStateChanged(e,t)}const Mh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Mh,"1"),this.storage.removeItem(Mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL=1e3,jL=10;class _S extends yS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);vL()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,jL):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},FL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}_S.type="LOCAL";const UL=_S;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS extends yS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}wS.type="SESSION";const ES=wS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new vd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(u).map(async m=>m(t.origin,a)),f=await $L(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((d,f)=>{const m=xg("",20);s.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(w){const I=w;if(I.data.eventId===m)switch(I.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(I.data.response);break;default:clearTimeout(y),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(){return window}function zL(n){Br().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(){return typeof Br().WorkerGlobalScope<"u"&&typeof Br().importScripts=="function"}async function HL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WL(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function qL(){return TS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="firebaseLocalStorageDb",KL=1,Fh="firebaseLocalStorage",SS="fbase_key";class Au{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function yd(n,e){return n.transaction([Fh],e?"readwrite":"readonly").objectStore(Fh)}function GL(){const n=indexedDB.deleteDatabase(IS);return new Au(n).toPromise()}function om(){const n=indexedDB.open(IS,KL);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Fh,{keyPath:SS})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Fh)?e(r):(r.close(),await GL(),e(await om()))})})}async function Zw(n,e,t){const r=yd(n,!0).put({[SS]:e,value:t});return new Au(r).toPromise()}async function QL(n,e){const t=yd(n,!1).get(e),r=await new Au(t).toPromise();return r===void 0?null:r.value}function eE(n,e){const t=yd(n,!0).delete(e);return new Au(t).toPromise()}const XL=800,YL=3;class RS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await om(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>YL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vd._getInstance(qL()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await HL(),!this.activeServiceWorker)return;this.sender=new BL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await om();return await Zw(e,Mh,"1"),await eE(e,Mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Zw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>QL(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>eE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=yd(s,!1).getAll();return new Au(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RS.type="LOCAL";const JL=RS;new Ru(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(n,e){return e?hi(e):(Ne(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg extends mS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ga(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ga(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ga(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function eV(n){return LL(n.auth,new kg(n),n.bypassAuthState)}function tV(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),DL(t,new kg(n),n.bypassAuthState)}async function nV(n){const{auth:e,user:t}=n;return Ne(t,e,"internal-error"),OL(t,new kg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eV;case"linkViaPopup":case"linkViaRedirect":return nV;case"reauthViaPopup":case"reauthViaRedirect":return tV;default:wi(this.auth,"internal-error")}}resolve(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV=new Ru(2e3,1e4);class da extends CS{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,da.currentPopupAction&&da.currentPopupAction.cancel(),da.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){Ei(this.filter.length===1,"Popup operations only handle one event");const e=xg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject($r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject($r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,da.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rV.get())};e()}}da.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV="pendingRedirect",fh=new Map;class sV extends CS{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=fh.get(this.auth._key());if(!e){try{const r=await oV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}fh.set(this.auth._key(),e)}return this.bypassAuthState||fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oV(n,e){const t=uV(e),r=lV(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function aV(n,e){fh.set(n._key(),e)}function lV(n){return hi(n._redirectPersistence)}function uV(n){return dh(iV,n.config.apiKey,n.name)}async function cV(n,e,t=!1){if(vr(n.app))return Promise.reject(no(n));const r=Cg(n),s=ZL(r,e),u=await new sV(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=10*60*1e3;class dV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fV(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!AS(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError($r(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hV&&this.cachedEventUids.clear(),this.cachedEventUids.has(tE(e))}saveEventToCache(e){this.cachedEventUids.add(tE(e)),this.lastProcessedEventTime=Date.now()}}function tE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function AS({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function fV(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pV(n,e={}){return $a(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gV=/^https?/;async function vV(n){if(n.config.emulator)return;const{authorizedDomains:e}=await pV(n);for(const t of e)try{if(yV(t))return}catch{}wi(n,"unauthorized-domain")}function yV(n){const e=im(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!gV.test(t))return!1;if(mV.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V=new Ru(3e4,6e4);function nE(){const n=Br().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function wV(n){return new Promise((e,t)=>{var r,s,a;function u(){nE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nE(),t($r(n,"network-request-failed"))},timeout:_V.get()})}if(!((s=(r=Br().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Br().gapi)===null||a===void 0)&&a.load)u();else{const d=CL("iframefcb");return Br()[d]=()=>{gapi.load?u():t($r(n,"network-request-failed"))},SL(`${RL()}?onload=${d}`).catch(f=>t(f))}}).catch(e=>{throw ph=null,e})}let ph=null;function EV(n){return ph=ph||wV(n),ph}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=new Ru(5e3,15e3),IV="__/auth/iframe",SV="emulator/auth/iframe",RV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AV(n){const e=n.config;Ne(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Tg(e,SV):`https://${n.config.authDomain}/${IV}`,r={apiKey:e.apiKey,appName:n.name,v:mo},s=CV.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${yu(r).slice(1)}`}async function xV(n){const e=await EV(n),t=Br().gapi;return Ne(t,n,"internal-error"),e.open({where:document.body,url:AV(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RV,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=$r(n,"network-request-failed"),d=Br().setTimeout(()=>{a(u)},TV.get());function f(){Br().clearTimeout(d),s(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PV=500,NV=600,bV="_blank",OV="http://localhost";class rE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DV(n,e,t,r=PV,s=NV){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f=Object.assign(Object.assign({},kV),{width:r.toString(),height:s.toString(),top:a,left:u}),m=rn().toLowerCase();t&&(d=aS(m)?bV:t),sS(m)&&(e=e||OV,f.scrollbars="yes");const y=Object.entries(f).reduce((I,[A,x])=>`${I}${A}=${x},`,"");if(gL(m)&&d!=="_self")return LV(e||"",d),new rE(null);const w=window.open(e||"",d,y);Ne(w,n,"popup-blocked");try{w.focus()}catch{}return new rE(w)}function LV(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV="__/auth/handler",MV="emulator/auth/handler",FV=encodeURIComponent("fac");async function iE(n,e,t,r,s,a){Ne(n.config.authDomain,n,"auth-domain-config-required"),Ne(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:mo,eventId:s};if(e instanceof gS){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",E1(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,w]of Object.entries({}))u[y]=w}if(e instanceof Cu){const y=e.getScopes().filter(w=>w!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const f=await n._getAppCheckToken(),m=f?`#${FV}=${encodeURIComponent(f)}`:"";return`${jV(n)}?${yu(d).slice(1)}${m}`}function jV({config:n}){return n.emulator?Tg(n,MV):`https://${n.authDomain}/${VV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="webStorageSupport";class UV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ES,this._completeRedirectFn=cV,this._overrideRedirectResult=aV}async _openPopup(e,t,r,s){var a;Ei((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await iE(e,t,r,im(),s);return DV(e,u,xg())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await iE(e,t,r,im(),s);return zL(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(Ei(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await xV(e),r=new dV(e);return t.register("authEvent",s=>(Ne(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Tp,{type:Tp},s=>{var a;const u=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[Tp];u!==void 0&&t(!!u),wi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=vV(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return dS()||oS()||Rg()}}const $V=UV;var sE="@firebase/auth",oE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zV(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HV(n){lo(new ds("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;Ne(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fS(n)},m=new TL(r,s,a,f);return xL(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),lo(new ds("auth-internal",e=>{const t=Cg(e.getProvider("auth").getImmediate());return(r=>new BV(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mr(sE,oE,zV(n)),Mr(sE,oE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV=5*60,qV=fT("authIdTokenMaxAge")||WV;let aE=null;const KV=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>qV)return;const s=t==null?void 0:t.token;aE!==s&&(aE=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function GV(n=Um()){const e=Zh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=AL(n,{popupRedirectResolver:$V,persistence:[JL,UL,ES]}),r=fT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=KV(a.toString());ML(t,u,()=>u(t.currentUser)),VL(t,d=>u(d))}}const s=cT("auth");return s&&kL(t,`http://${s}`),t}function QV(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}IL({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=$r("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",QV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HV("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="firebasestorage.googleapis.com",kS="storageBucket",XV=2*60*1e3,YV=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St extends qr{constructor(e,t,r=0){super(Ip(e),`Firebase Storage: ${t} (${Ip(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,St.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ip(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var It;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(It||(It={}));function Ip(n){return"storage/"+n}function Pg(){const n="An unknown error occurred, please check the error payload for server response.";return new St(It.UNKNOWN,n)}function JV(n){return new St(It.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function ZV(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new St(It.UNAUTHENTICATED,n)}function e2(){return new St(It.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function t2(n){return new St(It.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function n2(){return new St(It.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function r2(){return new St(It.CANCELED,"User canceled the upload/download.")}function i2(n){return new St(It.INVALID_URL,"Invalid URL '"+n+"'.")}function s2(n){return new St(It.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function o2(){return new St(It.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+kS+"' property when initializing the app?")}function a2(){return new St(It.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function l2(n){return new St(It.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function am(n){return new St(It.INVALID_ARGUMENT,n)}function PS(){return new St(It.APP_DELETED,"The Firebase app was deleted.")}function u2(n){return new St(It.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Wl(n,e){return new St(It.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function bl(n){throw new St(It.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Vn.makeFromUrl(e,t)}catch{return new Vn(e,"")}if(r.path==="")return r;throw s2(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(K){K.path.charAt(K.path.length-1)==="/"&&(K.path_=K.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+s+u,"i"),f={bucket:1,path:3};function m(K){K.path_=decodeURIComponent(K.path)}const y="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),I="(/([^?#]*).*)?$",A=new RegExp(`^https?://${w}/${y}/b/${s}/o${I}`,"i"),x={bucket:1,path:3},V=t===xS?"(?:storage.googleapis.com|storage.cloud.google.com)":t,k="([^?#]*)",j=new RegExp(`^https?://${V}/${s}/${k}`,"i"),B=[{regex:d,indices:f,postModify:a},{regex:A,indices:x,postModify:m},{regex:j,indices:{bucket:1,path:2},postModify:m}];for(let K=0;K<B.length;K++){const J=B[K],Y=J.regex.exec(e);if(Y){const b=Y[J.indices.bucket];let R=Y[J.indices.path];R||(R=""),r=new Vn(b,R),J.postModify(r);break}}if(r==null)throw i2(e);return r}}class c2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(n,e,t){let r=1,s=null,a=null,u=!1,d=0;function f(){return d===2}let m=!1;function y(...k){m||(m=!0,e.apply(null,k))}function w(k){s=setTimeout(()=>{s=null,n(A,f())},k)}function I(){a&&clearTimeout(a)}function A(k,...j){if(m){I();return}if(k){I(),y.call(null,k,...j);return}if(f()||u){I(),y.call(null,k,...j);return}r<64&&(r*=2);let B;d===1?(d=2,B=0):B=(r+Math.random())*1e3,w(B)}let x=!1;function V(k){x||(x=!0,I(),!m&&(s!==null?(k||(d=2),clearTimeout(s),w(0)):k||(d=1)))}return w(0),a=setTimeout(()=>{u=!0,V(!0)},t),V}function d2(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(n){return n!==void 0}function p2(n){return typeof n=="object"&&!Array.isArray(n)}function NS(n){return typeof n=="string"||n instanceof String}function lE(n){return Ng()&&n instanceof Blob}function Ng(){return typeof Blob<"u"}function uE(n,e,t,r){if(r<e)throw am(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw am(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function g2(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var ro;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(ro||(ro={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,a=e.indexOf(n)!==-1;return t||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,t,r,s,a,u,d,f,m,y,w,I=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=w,this.retry=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,x)=>{this.resolve_=A,this.reject_=x,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new eh(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=d=>{const f=d.loaded,m=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const d=a.getErrorCode()===ro.NO_ERROR,f=a.getStatus();if(!d||v2(f,this.additionalRetryCodes_)&&this.retry){const y=a.getErrorCode()===ro.ABORT;r(!1,new eh(!1,null,y));return}const m=this.successCodes_.indexOf(f)!==-1;r(!0,new eh(m,a))})},t=(r,s)=>{const a=this.resolve_,u=this.reject_,d=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());f2(f)?a(f):a()}catch(f){u(f)}else if(d!==null){const f=Pg();f.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,f)):u(f)}else if(s.canceled){const f=this.appDelete_?PS():r2();u(f)}else{const f=n2();u(f)}};this.canceled_?t(!1,new eh(!1,null,!0)):this.backoffId_=h2(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&d2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class eh{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function _2(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function w2(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function E2(n,e){e&&(n["X-Firebase-GMPID"]=e)}function T2(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function I2(n,e,t,r,s,a,u=!0){const d=g2(n.urlParams),f=n.url+d,m=Object.assign({},n.headers);return E2(m,e),_2(m,t),w2(m,a),T2(m,r),new y2(f,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function R2(...n){const e=S2();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(Ng())return new Blob(n);throw new St(It.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function C2(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(n){if(typeof atob>"u")throw l2("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Sp{constructor(e,t){this.data=e,this.contentType=t||null}}function x2(n,e){switch(n){case Dr.RAW:return new Sp(bS(e));case Dr.BASE64:case Dr.BASE64URL:return new Sp(OS(n,e));case Dr.DATA_URL:return new Sp(P2(e),N2(e))}throw Pg()}function bS(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const a=r,u=n.charCodeAt(++t);r=65536|(a&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function k2(n){let e;try{e=decodeURIComponent(n)}catch{throw Wl(Dr.DATA_URL,"Malformed data URL.")}return bS(e)}function OS(n,e){switch(n){case Dr.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw Wl(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Dr.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw Wl(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=A2(e)}catch(s){throw s.message.includes("polyfill")?s:Wl(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}class DS{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Wl(Dr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=b2(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function P2(n){const e=new DS(n);return e.base64?OS(Dr.BASE64,e.rest):k2(e.rest)}function N2(n){return new DS(n).contentType}function b2(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,t){let r=0,s="";lE(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(lE(this.data_)){const r=this.data_,s=C2(r,e,t);return s===null?null:new ns(s)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new ns(r,!0)}}static getBlob(...e){if(Ng()){const t=e.map(r=>r instanceof ns?r.data_:r);return new ns(R2.apply(null,t))}else{const t=e.map(u=>NS(u)?x2(Dr.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const s=new Uint8Array(r);let a=0;return t.forEach(u=>{for(let d=0;d<u.length;d++)s[a++]=u[d]}),new ns(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(n){let e;try{e=JSON.parse(n)}catch{return null}return p2(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function L2(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function LS(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(n,e){return e}class hn{constructor(e,t,r,s){this.server=e,this.local=t||e,this.writable=!!r,this.xform=s||V2}}let th=null;function M2(n){return!NS(n)||n.length<2?n:LS(n)}function F2(){if(th)return th;const n=[];n.push(new hn("bucket")),n.push(new hn("generation")),n.push(new hn("metageneration")),n.push(new hn("name","fullPath",!0));function e(a,u){return M2(u)}const t=new hn("name");t.xform=e,n.push(t);function r(a,u){return u!==void 0?Number(u):u}const s=new hn("size");return s.xform=r,n.push(s),n.push(new hn("timeCreated")),n.push(new hn("updated")),n.push(new hn("md5Hash",null,!0)),n.push(new hn("cacheControl",null,!0)),n.push(new hn("contentDisposition",null,!0)),n.push(new hn("contentEncoding",null,!0)),n.push(new hn("contentLanguage",null,!0)),n.push(new hn("contentType",null,!0)),n.push(new hn("metadata","customMetadata",!0)),th=n,th}function j2(n,e){function t(){const r=n.bucket,s=n.fullPath,a=new Vn(r,s);return e._makeStorageReference(a)}Object.defineProperty(n,"ref",{get:t})}function U2(n,e,t){const r={};r.type="file";const s=t.length;for(let a=0;a<s;a++){const u=t[a];r[u.local]=u.xform(r,e[u.server])}return j2(r,n),r}function $2(n,e,t){const r=O2(e);return r===null?null:U2(n,r,t)}function B2(n,e){const t={},r=e.length;for(let s=0;s<r;s++){const a=e[s];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class z2{constructor(e,t,r,s){this.url=e,this.method=t,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(n){if(!n)throw Pg()}function W2(n,e){function t(r,s){const a=$2(n,s,e);return H2(a!==null),a}return t}function q2(n){function e(t,r){let s;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?s=e2():s=ZV():t.getStatus()===402?s=JV(n.bucket):t.getStatus()===403?s=t2(n.path):s=r,s.status=t.getStatus(),s.serverResponse=r.serverResponse,s}return e}function K2(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function G2(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=K2(null,e)),r}function Q2(n,e,t,r,s){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function d(){let B="";for(let K=0;K<2;K++)B=B+Math.random().toString().slice(2);return B}const f=d();u["Content-Type"]="multipart/related; boundary="+f;const m=G2(e,r,s),y=B2(m,t),w="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+f+`\r
Content-Type: `+m.contentType+`\r
\r
`,I=`\r
--`+f+"--",A=ns.getBlob(w,r,I);if(A===null)throw a2();const x={name:m.fullPath},V=m2(a,n.host,n._protocol),k="POST",j=n.maxUploadRetryTime,q=new z2(V,k,W2(n,t),j);return q.urlParams=x,q.headers=u,q.body=A.uploadData(),q.errorHandler=q2(e),q}class X2{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ro.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ro.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ro.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,s){if(this.sent_)throw bl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),s!==void 0)for(const a in s)s.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,s[a].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw bl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw bl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw bl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw bl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Y2 extends X2{initXhr(){this.xhr_.responseType="text"}}function J2(){return new Y2}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,t){this._service=e,t instanceof Vn?this._location=t:this._location=Vn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new fo(e,t)}get root(){const e=new Vn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return LS(this._location.path)}get storage(){return this._service}get parent(){const e=D2(this._location.path);if(e===null)return null;const t=new Vn(this._location.bucket,e);return new fo(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw u2(e)}}function Z2(n,e,t){n._throwIfRoot("uploadBytes");const r=Q2(n.storage,n._location,F2(),new ns(e,!0),t);return n.storage.makeRequestWithTokens(r,J2).then(s=>({metadata:s,ref:n}))}function eM(n,e){const t=L2(n._location.path,e),r=new Vn(n._location.bucket,t);return new fo(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tM(n){return/^[A-Za-z]+:\/\//.test(n)}function nM(n,e){return new fo(n,e)}function VS(n,e){if(n instanceof bg){const t=n;if(t._bucket==null)throw o2();const r=new fo(t,t._bucket);return e!=null?VS(r,e):r}else return e!==void 0?eM(n,e):n}function rM(n,e){if(e&&tM(e)){if(n instanceof bg)return nM(n,e);throw am("To use ref(service, url), the first argument must be a Storage instance.")}else return VS(n,e)}function cE(n,e){const t=e==null?void 0:e[kS];return t==null?null:Vn.makeFromBucketSpec(t,n)}function iM(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:s}=r;s&&(n._overrideAuthToken=typeof s=="string"?s:pT(s,n.app.options.projectId))}class bg{constructor(e,t,r,s,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=xS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=XV,this._maxUploadRetryTime=YV,this._requests=new Set,s!=null?this._bucket=Vn.makeFromBucketSpec(s,this._host):this._bucket=cE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Vn.makeFromBucketSpec(this._url,e):this._bucket=cE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){uE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){uE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(vr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new fo(this,e)}_makeRequest(e,t,r,s,a=!0){if(this._deleted)return new c2(PS());{const u=I2(e,this._appId,r,s,t,this._firebaseVersion,a);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const hE="@firebase/storage",dE="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="storage";function sM(n,e,t){return n=Ft(n),Z2(n,e,t)}function oM(n,e){return n=Ft(n),rM(n,e)}function FS(n=Um(),e){n=Ft(n);const r=Zh(n,MS).getImmediate({identifier:e}),s=hT("storage");return s&&aM(r,...s),r}function aM(n,e,t,r={}){iM(n,e,t,r)}function lM(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new bg(t,r,s,e,mo)}function uM(){lo(new ds(MS,lM,"PUBLIC").setMultipleInstances(!0)),Mr(hE,dE,""),Mr(hE,dE,"esm2017")}uM();const cM={apiKey:"AIzaSyBZpw2LLVMR1GVQ5GqiKMl0D0h3w-w5slY",authDomain:"carbookingse800.firebaseapp.com",projectId:"carbookingse800",storageBucket:"carbookingse800.appspot.com",messagingSenderId:"95935923587",appId:"1:95935923587:web:17728090134ef8ff6e62b6",measurementId:"G-R203N43BFT"},Og=vT(cM),va=ND(Og);GV(Og);FS(Og);const hM=({setUser:n})=>{const[e,t]=E.useState(""),[r,s]=E.useState(""),[a,u]=E.useState(""),d=cm();E.useEffect(()=>{JSON.parse(localStorage.getItem("user"))&&d("/home")},[d]);const f=async m=>{m.preventDefault(),u("");try{const y=$w(ou(va,"customers"),Bw("email","==",e)),w=$w(ou(va,"admin"),Bw("email","==",e)),[I,A]=await Promise.all([rm(y),rm(w)]);let x=null,V=!1;if(I.empty||(x=I.docs[0].data()),A.empty||(V=!0),!x&&!V){u("ไม่พบข้อมูลผู้ใช้");return}if(x&&x.password===r){const k={first_name:x.first_name};localStorage.setItem("user",JSON.stringify(k)),n(k),d("/home");return}if(V){const k={first_name:"Admin"};localStorage.setItem("user",JSON.stringify(k)),n(k),d("/admin");return}u("รหัสผ่านไม่ถูกต้อง")}catch(y){u("เกิดข้อผิดพลาดในการเข้าสู่ระบบ"),console.error("Login Error:",y)}};return C.jsx(fu,{children:C.jsx(Jl,{className:"justify-content-md-center",children:C.jsxs(is,{xs:12,md:6,children:[C.jsx("h2",{className:"text-center my-4",children:"เข้าสู่ระบบ"}),a&&C.jsx("div",{className:"alert alert-danger",children:a}),C.jsxs(Me,{onSubmit:f,children:[C.jsxs(Me.Group,{controlId:"formEmail",children:[C.jsx(Me.Label,{children:"อีเมล"}),C.jsx(Me.Control,{type:"email",placeholder:"กรุณากรอกอีเมล",value:e,onChange:m=>t(m.target.value),required:!0})]}),C.jsxs(Me.Group,{controlId:"formPassword",children:[C.jsx(Me.Label,{children:"รหัสผ่าน"}),C.jsx(Me.Control,{type:"password",placeholder:"กรุณากรอกรหัสผ่าน",value:r,onChange:m=>s(m.target.value),required:!0})]}),C.jsx(ya,{variant:"primary",type:"submit",className:"w-100 mt-3",children:"เข้าสู่ระบบ"})]})]})})})},dM=()=>{const[n,e]=E.useState({first_name:"",last_name:"",email:"",password:"",address:"",license_no:"",phone:""}),t=s=>{e({...n,[s.target.name]:s.target.value})},r=async s=>{s.preventDefault();try{const a={...n,status:"1"},u=await GI(ou(va,"customers"),a);console.log("Document written with ID: ",u.id),alert("Registered Successfully!"),e({first_name:"",last_name:"",email:"",password:"",address:"",license_no:"",phone:""})}catch(a){console.error("Error adding document: ",a),alert("Registration Failed!")}};return C.jsx(fu,{className:"mt-5",children:C.jsx(Jl,{className:"justify-content-md-center",children:C.jsxs(is,{md:6,children:[C.jsx("h2",{className:"text-center",children:"Register"}),C.jsxs(Me,{onSubmit:r,children:[C.jsxs(Me.Group,{className:"mb-3",controlId:"formFirstName",children:[C.jsx(Me.Label,{children:"First Name"}),C.jsx(Me.Control,{type:"text",name:"first_name",value:n.first_name,onChange:t,required:!0})]}),C.jsxs(Me.Group,{className:"mb-3",controlId:"formLastName",children:[C.jsx(Me.Label,{children:"Last Name"}),C.jsx(Me.Control,{type:"text",name:"last_name",value:n.last_name,onChange:t,required:!0})]}),C.jsxs(Me.Group,{className:"mb-3",controlId:"formEmail",children:[C.jsx(Me.Label,{children:"Email"}),C.jsx(Me.Control,{type:"email",name:"email",value:n.email,onChange:t,required:!0})]}),C.jsxs(Me.Group,{className:"mb-3",controlId:"formPassword",children:[C.jsx(Me.Label,{children:"Password"}),C.jsx(Me.Control,{type:"password",name:"password",value:n.password,onChange:t,required:!0})]}),C.jsxs(Me.Group,{className:"mb-3",controlId:"formAddress",children:[C.jsx(Me.Label,{children:"Address"}),C.jsx(Me.Control,{type:"text",name:"address",value:n.address,onChange:t,required:!0})]}),C.jsxs(Me.Group,{className:"mb-3",controlId:"formLicenseNo",children:[C.jsx(Me.Label,{children:"License No"}),C.jsx(Me.Control,{type:"text",name:"license_no",value:n.license_no,onChange:t,required:!0})]}),C.jsxs(Me.Group,{className:"mb-3",controlId:"formPhone",children:[C.jsx(Me.Label,{children:"Phone"}),C.jsx(Me.Control,{type:"text",name:"phone",value:n.phone,onChange:t,required:!0})]}),C.jsx(ya,{variant:"primary",type:"submit",className:"w-100",children:"Register"})]})]})})})};function fM(){const[n,e]=E.useState([]),[t,r]=E.useState({name:"",model:"",price:""});E.useEffect(()=>{(async()=>{const d=await rm(ou(va,"cars"));e(d.docs.map(f=>({...f.data(),id:f.id})))})()},[]);const s=async()=>{try{await GI(ou(va,"cars"),t),r({name:"",model:"",price:""})}catch(u){console.error("Error adding car: ",u)}},a=async(u,d)=>{try{const f=jI(va,"cars",u);await XD(f,d)}catch(f){console.error("Error updating car: ",f)}};return C.jsxs("div",{children:[C.jsx("h2",{children:"Admin Car Rental Management"}),C.jsxs(Me,{children:[C.jsxs(Me.Group,{className:"mb-3",children:[C.jsx(Me.Label,{children:"Car Name"}),C.jsx(Me.Control,{type:"text",value:t.name,onChange:u=>r({...t,name:u.target.value})})]}),C.jsxs(Me.Group,{className:"mb-3",children:[C.jsx(Me.Label,{children:"Model"}),C.jsx(Me.Control,{type:"text",value:t.model,onChange:u=>r({...t,model:u.target.value})})]}),C.jsxs(Me.Group,{className:"mb-3",children:[C.jsx(Me.Label,{children:"Price"}),C.jsx(Me.Control,{type:"number",value:t.price,onChange:u=>r({...t,price:u.target.value})})]}),C.jsx(ya,{variant:"primary",onClick:s,children:"Add Car"})]}),C.jsxs(QP,{striped:!0,bordered:!0,hover:!0,children:[C.jsx("thead",{children:C.jsxs("tr",{children:[C.jsx("th",{children:"Car Name"}),C.jsx("th",{children:"Model"}),C.jsx("th",{children:"Price"}),C.jsx("th",{children:"Action"})]})}),C.jsx("tbody",{children:n.map(u=>C.jsxs("tr",{children:[C.jsx("td",{children:u.name}),C.jsx("td",{children:u.model}),C.jsx("td",{children:u.price}),C.jsx("td",{children:C.jsx(ya,{variant:"warning",onClick:()=>a(u.id,{...u,price:u.price+100}),children:"Edit"})})]},u.id))})]})]})}function pM(){const[n,e]=E.useState(null),t=s=>{const a=s.target.files[0];if(a){const u=new FileReader;u.onload=()=>{const m=u.result.split(`
`).map(y=>y.split(","));e(m),console.log("ข้อมูลจากไฟล์ CSV:",m)},u.readAsText(a)}},r=s=>{const a=s.target.files[0];if(a){const u=FS(),d=oM(u,"csv_files/"+a.name);sM(d,a).then(f=>{console.log("อัปโหลดไฟล์สำเร็จ:",f)}).catch(f=>{console.error("เกิดข้อผิดพลาดในการอัปโหลดไฟล์:",f)})}};return C.jsxs("div",{children:[C.jsx("h2",{children:"อัปโหลดไฟล์ CSV"}),C.jsx("input",{type:"file",accept:".csv",onChange:t}),C.jsxs("div",{children:[C.jsx("h3",{children:"ข้อมูลจากไฟล์ CSV:"}),C.jsx("pre",{children:JSON.stringify(n,null,2)})]}),C.jsx("h3",{children:"อัปโหลดไฟล์ไปยัง Firebase Storage"}),C.jsx("input",{type:"file",onChange:r})]})}function mM({user:n,setUser:e}){const t=_s();return E.useEffect(()=>{const r=JSON.parse(localStorage.getItem("user"));r&&e(r)},[e]),C.jsxs(C.Fragment,{children:[C.jsx(XP,{user:n,setUser:e})," ",C.jsxs(jC,{children:[C.jsx(Ys,{path:"/",element:C.jsx(C.Fragment,{children:C.jsx(ZP,{})})}),C.jsx(Ys,{path:"/home",element:C.jsx(JP,{})}),C.jsx(Ys,{path:"/Login",element:C.jsx(hM,{setUser:e})})," ",C.jsx(Ys,{path:"/Reg",element:C.jsx(dM,{})}),C.jsx(Ys,{path:"/admin",element:C.jsx(fM,{})}),C.jsx(Ys,{path:"/putcar",element:C.jsx(pM,{})})]}),t.pathname!=="/Login"&&C.jsx(YP,{})," "]})}function gM(){const[n,e]=E.useState(null);return C.jsx(lA,{children:C.jsx(mM,{user:n,setUser:e})})}QR.createRoot(document.getElementById("root")).render(C.jsx(E.StrictMode,{children:C.jsx(gM,{})}));
